(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Bf={exports:{}},_r={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function lT(){if(A_)return _r;A_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return _r.Fragment=e,_r.jsx=i,_r.jsxs=i,_r}var x_;function oT(){return x_||(x_=1,Bf.exports=lT()),Bf.exports}var _=oT(),Vf={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function uT(){if(N_)return oe;N_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,P={};function H(T,V,Q){this.props=T,this.context=V,this.refs=P,this.updater=Q||w}H.prototype.isReactComponent={},H.prototype.setState=function(T,V){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,V,"setState")},H.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function z(){}z.prototype=H.prototype;function F(T,V,Q){this.props=T,this.context=V,this.refs=P,this.updater=Q||w}var q=F.prototype=new z;q.constructor=F,A(q,H.prototype),q.isPureReactComponent=!0;var ne=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function ve(T,V,Q,K,J,be){return Q=be.ref,{$$typeof:s,type:T,key:V,ref:Q!==void 0?Q:null,props:be}}function _e(T,V){return ve(T.type,V,void 0,void 0,void 0,T.props)}function R(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function B(T){var V={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return V[Q]})}var Se=/\/+/g;function le(T,V){return typeof T=="object"&&T!==null&&T.key!=null?B(""+T.key):V.toString(36)}function Qe(){}function rn(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Qe,Qe):(T.status="pending",T.then(function(V){T.status==="pending"&&(T.status="fulfilled",T.value=V)},function(V){T.status==="pending"&&(T.status="rejected",T.reason=V)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Xe(T,V,Q,K,J){var be=typeof T;(be==="undefined"||be==="boolean")&&(T=null);var re=!1;if(T===null)re=!0;else switch(be){case"bigint":case"string":case"number":re=!0;break;case"object":switch(T.$$typeof){case s:case e:re=!0;break;case v:return re=T._init,Xe(re(T._payload),V,Q,K,J)}}if(re)return J=J(T),re=K===""?"."+le(T,0):K,ne(J)?(Q="",re!=null&&(Q=re.replace(Se,"$&/")+"/"),Xe(J,V,Q,"",function(Fn){return Fn})):J!=null&&(R(J)&&(J=_e(J,Q+(J.key==null||T&&T.key===J.key?"":(""+J.key).replace(Se,"$&/")+"/")+re)),V.push(J)),1;re=0;var wt=K===""?".":K+":";if(ne(T))for(var je=0;je<T.length;je++)K=T[je],be=wt+le(K,je),re+=Xe(K,V,Q,be,J);else if(je=E(T),typeof je=="function")for(T=je.call(T),je=0;!(K=T.next()).done;)K=K.value,be=wt+le(K,je++),re+=Xe(K,V,Q,be,J);else if(be==="object"){if(typeof T.then=="function")return Xe(rn(T),V,Q,K,J);throw V=String(T),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return re}function k(T,V,Q){if(T==null)return T;var K=[],J=0;return Xe(T,K,"","",function(be){return V.call(Q,be,J++)}),K}function Y(T){if(T._status===-1){var V=T._result;V=V(),V.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=V)}if(T._status===1)return T._result.default;throw T._result}var Z=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function ge(){}return oe.Children={map:k,forEach:function(T,V,Q){k(T,function(){V.apply(this,arguments)},Q)},count:function(T){var V=0;return k(T,function(){V++}),V},toArray:function(T){return k(T,function(V){return V})||[]},only:function(T){if(!R(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},oe.Component=H,oe.Fragment=i,oe.Profiler=o,oe.PureComponent=F,oe.StrictMode=r,oe.Suspense=m,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,oe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return W.H.useMemoCache(T)}},oe.cache=function(T){return function(){return T.apply(null,arguments)}},oe.cloneElement=function(T,V,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var K=A({},T.props),J=T.key,be=void 0;if(V!=null)for(re in V.ref!==void 0&&(be=void 0),V.key!==void 0&&(J=""+V.key),V)!Ee.call(V,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&V.ref===void 0||(K[re]=V[re]);var re=arguments.length-2;if(re===1)K.children=Q;else if(1<re){for(var wt=Array(re),je=0;je<re;je++)wt[je]=arguments[je+2];K.children=wt}return ve(T.type,J,void 0,void 0,be,K)},oe.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},oe.createElement=function(T,V,Q){var K,J={},be=null;if(V!=null)for(K in V.key!==void 0&&(be=""+V.key),V)Ee.call(V,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(J[K]=V[K]);var re=arguments.length-2;if(re===1)J.children=Q;else if(1<re){for(var wt=Array(re),je=0;je<re;je++)wt[je]=arguments[je+2];J.children=wt}if(T&&T.defaultProps)for(K in re=T.defaultProps,re)J[K]===void 0&&(J[K]=re[K]);return ve(T,be,void 0,void 0,null,J)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(T){return{$$typeof:d,render:T}},oe.isValidElement=R,oe.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:Y}},oe.memo=function(T,V){return{$$typeof:p,type:T,compare:V===void 0?null:V}},oe.startTransition=function(T){var V=W.T,Q={};W.T=Q;try{var K=T(),J=W.S;J!==null&&J(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ge,Z)}catch(be){Z(be)}finally{W.T=V}},oe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},oe.use=function(T){return W.H.use(T)},oe.useActionState=function(T,V,Q){return W.H.useActionState(T,V,Q)},oe.useCallback=function(T,V){return W.H.useCallback(T,V)},oe.useContext=function(T){return W.H.useContext(T)},oe.useDebugValue=function(){},oe.useDeferredValue=function(T,V){return W.H.useDeferredValue(T,V)},oe.useEffect=function(T,V,Q){var K=W.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(T,V)},oe.useId=function(){return W.H.useId()},oe.useImperativeHandle=function(T,V,Q){return W.H.useImperativeHandle(T,V,Q)},oe.useInsertionEffect=function(T,V){return W.H.useInsertionEffect(T,V)},oe.useLayoutEffect=function(T,V){return W.H.useLayoutEffect(T,V)},oe.useMemo=function(T,V){return W.H.useMemo(T,V)},oe.useOptimistic=function(T,V){return W.H.useOptimistic(T,V)},oe.useReducer=function(T,V,Q){return W.H.useReducer(T,V,Q)},oe.useRef=function(T){return W.H.useRef(T)},oe.useState=function(T){return W.H.useState(T)},oe.useSyncExternalStore=function(T,V,Q){return W.H.useSyncExternalStore(T,V,Q)},oe.useTransition=function(){return W.H.useTransition()},oe.version="19.1.0",oe}var O_;function Dh(){return O_||(O_=1,Vf.exports=uT()),Vf.exports}var N=Dh(),qf={exports:{}},vr={},Gf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function cT(){return I_||(I_=1,function(s){function e(k,Y){var Z=k.length;k.push(Y);e:for(;0<Z;){var ge=Z-1>>>1,T=k[ge];if(0<o(T,Y))k[ge]=Y,k[Z]=T,Z=ge;else break e}}function i(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var Y=k[0],Z=k.pop();if(Z!==Y){k[0]=Z;e:for(var ge=0,T=k.length,V=T>>>1;ge<V;){var Q=2*(ge+1)-1,K=k[Q],J=Q+1,be=k[J];if(0>o(K,Z))J<T&&0>o(be,K)?(k[ge]=be,k[J]=Z,ge=J):(k[ge]=K,k[Q]=Z,ge=Q);else if(J<T&&0>o(be,Z))k[ge]=be,k[J]=Z,ge=J;else break e}}return Y}function o(k,Y){var Z=k.sortIndex-Y.sortIndex;return Z!==0?Z:k.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();s.unstable_now=function(){return f.now()-d}}var m=[],p=[],v=1,S=null,E=3,w=!1,A=!1,P=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ne(k){for(var Y=i(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=k)r(p),Y.sortIndex=Y.expirationTime,e(m,Y);else break;Y=i(p)}}function W(k){if(P=!1,ne(k),!A)if(i(m)!==null)A=!0,Ee||(Ee=!0,le());else{var Y=i(p);Y!==null&&Xe(W,Y.startTime-k)}}var Ee=!1,ve=-1,_e=5,R=-1;function B(){return H?!0:!(s.unstable_now()-R<_e)}function Se(){if(H=!1,Ee){var k=s.unstable_now();R=k;var Y=!0;try{e:{A=!1,P&&(P=!1,F(ve),ve=-1),w=!0;var Z=E;try{t:{for(ne(k),S=i(m);S!==null&&!(S.expirationTime>k&&B());){var ge=S.callback;if(typeof ge=="function"){S.callback=null,E=S.priorityLevel;var T=ge(S.expirationTime<=k);if(k=s.unstable_now(),typeof T=="function"){S.callback=T,ne(k),Y=!0;break t}S===i(m)&&r(m),ne(k)}else r(m);S=i(m)}if(S!==null)Y=!0;else{var V=i(p);V!==null&&Xe(W,V.startTime-k),Y=!1}}break e}finally{S=null,E=Z,w=!1}Y=void 0}}finally{Y?le():Ee=!1}}}var le;if(typeof q=="function")le=function(){q(Se)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,rn=Qe.port2;Qe.port1.onmessage=Se,le=function(){rn.postMessage(null)}}else le=function(){z(Se,0)};function Xe(k,Y){ve=z(function(){k(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(k){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var Z=E;E=Y;try{return k()}finally{E=Z}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=E;E=k;try{return Y()}finally{E=Z}},s.unstable_scheduleCallback=function(k,Y,Z){var ge=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ge+Z:ge):Z=ge,k){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Z+T,k={id:v++,callback:Y,priorityLevel:k,startTime:Z,expirationTime:T,sortIndex:-1},Z>ge?(k.sortIndex=Z,e(p,k),i(m)===null&&k===i(p)&&(P?(F(ve),ve=-1):P=!0,Xe(W,Z-ge))):(k.sortIndex=T,e(m,k),A||w||(A=!0,Ee||(Ee=!0,le()))),k},s.unstable_shouldYield=B,s.unstable_wrapCallback=function(k){var Y=E;return function(){var Z=E;E=Y;try{return k.apply(this,arguments)}finally{E=Z}}}}(Yf)),Yf}var M_;function fT(){return M_||(M_=1,Gf.exports=cT()),Gf.exports}var Ff={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function hT(){if(D_)return ht;D_=1;var s=Dh();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:p,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ht.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,v)},ht.flushSync=function(m){var p=f.T,v=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=p,r.p=v,r.d.f()}},ht.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},ht.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ht.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,S=d(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:w}):v==="script"&&r.d.X(m,{crossOrigin:S,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},ht.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=d(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},ht.requestFormReset=function(m){r.d.r(m)},ht.unstable_batchedUpdates=function(m,p){return m(p)},ht.useFormState=function(m,p,v){return f.H.useFormState(m,p,v)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.1.0",ht}var k_;function dT(){if(k_)return Ff.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=hT(),Ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function mT(){if(L_)return vr;L_=1;var s=fT(),e=Dh(),i=dT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(u(t)!==t)throw Error(r(188))}function m(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return d(c),t;if(h===l)return d(c),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,y=c.child;y;){if(y===a){g=!0,a=c,l=h;break}if(y===l){g=!0,l=c,a=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===a){g=!0,a=h,l=c;break}if(y===l){g=!0,l=h,a=c;break}y=y.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=Se&&t[Se]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Symbol.for("react.client.reference");function rn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Qe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case H:return"Profiler";case P:return"StrictMode";case W:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case q:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case ne:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ve:return n=t.displayName||null,n!==null?n:rn(t.type)||"Memo";case _e:n=t._payload,t=t._init;try{return rn(t(n))}catch{}}return null}var Xe=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ge=[],T=-1;function V(t){return{current:t}}function Q(t){0>T||(t.current=ge[T],ge[T]=null,T--)}function K(t,n){T++,ge[T]=t.current,t.current=n}var J=V(null),be=V(null),re=V(null),wt=V(null);function je(t,n){switch(K(re,n),K(be,t),K(J,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?t_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=t_(n),t=n_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(J),K(J,t)}function Fn(){Q(J),Q(be),Q(re)}function Ru(t){t.memoizedState!==null&&K(wt,t);var n=J.current,a=n_(n,t.type);n!==a&&(K(be,t),K(J,a))}function ul(t){be.current===t&&(Q(J),Q(be)),wt.current===t&&(Q(wt),hr._currentValue=Z)}var wu=Object.prototype.hasOwnProperty,Au=s.unstable_scheduleCallback,xu=s.unstable_cancelCallback,zE=s.unstable_shouldYield,HE=s.unstable_requestPaint,ln=s.unstable_now,BE=s.unstable_getCurrentPriorityLevel,Ld=s.unstable_ImmediatePriority,Ud=s.unstable_UserBlockingPriority,cl=s.unstable_NormalPriority,VE=s.unstable_LowPriority,jd=s.unstable_IdlePriority,qE=s.log,GE=s.unstable_setDisableYieldValue,Ea=null,At=null;function Kn(t){if(typeof qE=="function"&&GE(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ea,t)}catch{}}var xt=Math.clz32?Math.clz32:KE,YE=Math.log,FE=Math.LN2;function KE(t){return t>>>=0,t===0?32:31-(YE(t)/FE|0)|0}var fl=256,hl=4194304;function Li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dl(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=l&134217727;return y!==0?(l=y&~h,l!==0?c=Li(l):(g&=y,g!==0?c=Li(g):a||(a=y&~t,a!==0&&(c=Li(a))))):(y=l&~h,y!==0?c=Li(y):g!==0?c=Li(g):a||(a=l&~t,a!==0&&(c=Li(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Sa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function QE(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pd(){var t=fl;return fl<<=1,(fl&4194048)===0&&(fl=256),t}function zd(){var t=hl;return hl<<=1,(hl&62914560)===0&&(hl=4194304),t}function Nu(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ba(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function XE(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,b=t.expirationTimes,I=t.hiddenUpdates;for(a=g&~a;0<a;){var L=31-xt(a),j=1<<L;y[L]=0,b[L]=-1;var M=I[L];if(M!==null)for(I[L]=null,L=0;L<M.length;L++){var D=M[L];D!==null&&(D.lane&=-536870913)}a&=~j}l!==0&&Hd(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Hd(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Bd(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-xt(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Ou(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Iu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vd(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function WE(t,n){var a=Y.p;try{return Y.p=t,n()}finally{Y.p=a}}var Qn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Qn,vt="__reactProps$"+Qn,ds="__reactContainer$"+Qn,Mu="__reactEvents$"+Qn,ZE="__reactListeners$"+Qn,$E="__reactHandles$"+Qn,qd="__reactResources$"+Qn,Ta="__reactMarker$"+Qn;function Du(t){delete t[ct],delete t[vt],delete t[Mu],delete t[ZE],delete t[$E]}function ms(t){var n=t[ct];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ds]||a[ct]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=r_(t);t!==null;){if(a=t[ct])return a;t=r_(t)}return n}t=a,a=t.parentNode}return null}function ps(t){if(t=t[ct]||t[ds]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ca(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function gs(t){var n=t[qd];return n||(n=t[qd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[Ta]=!0}var Gd=new Set,Yd={};function Ui(t,n){_s(t,n),_s(t+"Capture",n)}function _s(t,n){for(Yd[t]=n,t=0;t<n.length;t++)Gd.add(n[t])}var JE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fd={},Kd={};function eS(t){return wu.call(Kd,t)?!0:wu.call(Fd,t)?!1:JE.test(t)?Kd[t]=!0:(Fd[t]=!0,!1)}function ml(t,n,a){if(eS(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function pl(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _n(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ku,Qd;function vs(t){if(ku===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ku=n&&n[1]||"",Qd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ku+t+Qd}var Lu=!1;function Uu(t,n){if(!t||Lu)return"";Lu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(D){var M=D}Reflect.construct(t,[],j)}else{try{j.call()}catch(D){M=D}t.call(j.prototype)}}else{try{throw Error()}catch(D){M=D}(j=t())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(D){if(D&&M&&typeof D.stack=="string")return[D.stack,M.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],y=h[1];if(g&&y){var b=g.split(`
`),I=y.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===I.length)for(l=b.length-1,c=I.length-1;1<=l&&0<=c&&b[l]!==I[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==I[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==I[c]){var L=`
`+b[l].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=l&&0<=c);break}}}finally{Lu=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vs(a):""}function tS(t){switch(t.tag){case 26:case 27:case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 15:return Uu(t.type,!1);case 11:return Uu(t.type.render,!1);case 1:return Uu(t.type,!0);case 31:return vs("Activity");default:return""}}function Xd(t){try{var n="";do n+=tS(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wd(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nS(t){var n=Wd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function gl(t){t._valueTracker||(t._valueTracker=nS(t))}function Zd(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Wd(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function _l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var iS=/[\n"\\]/g;function Pt(t){return t.replace(iS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ju(t,n,a,l,c,h,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Pu(t,g,jt(n)):a!=null?Pu(t,g,jt(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+jt(y):t.removeAttribute("name")}function $d(t,n,a,l,c,h,g,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+jt(a):"",n=n!=null?""+jt(n):a,y||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=y?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Pu(t,n,a){n==="number"&&_l(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ys(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Jd(t,n,a){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+jt(a):""}function em(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=jt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Es(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var sS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tm(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||sS.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function nm(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&tm(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&tm(t,h,n[h])}function zu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(t){return rS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Hu=null;function Bu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,bs=null;function im(t){var n=ps(t);if(n&&(t=n.stateNode)){var a=t[vt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ju(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[vt]||null;if(!c)throw Error(r(90));ju(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Zd(l)}break e;case"textarea":Jd(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ys(t,!!a.multiple,n,!1)}}}var Vu=!1;function sm(t,n,a){if(Vu)return t(n,a);Vu=!0;try{var l=t(n);return l}finally{if(Vu=!1,(Ss!==null||bs!==null)&&(io(),Ss&&(n=Ss,t=bs,bs=Ss=null,im(n),t)))for(n=0;n<t.length;n++)im(t[n])}}function Ra(t,n){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=!1;if(vn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){qu=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{qu=!1}var Xn=null,Gu=null,yl=null;function am(){if(yl)return yl;var t,n=Gu,a=n.length,l,c="value"in Xn?Xn.value:Xn.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return yl=c.slice(t,1<l?1-l:void 0)}function El(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Sl(){return!0}function rm(){return!1}function yt(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Sl:rm,this.isPropagationStopped=rm,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=yt(ji),Aa=v({},ji,{view:0,detail:0}),lS=yt(Aa),Yu,Fu,xa,Tl=v({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Yu=t.screenX-xa.screenX,Fu=t.screenY-xa.screenY):Fu=Yu=0,xa=t),Yu)},movementY:function(t){return"movementY"in t?t.movementY:Fu}}),lm=yt(Tl),oS=v({},Tl,{dataTransfer:0}),uS=yt(oS),cS=v({},Aa,{relatedTarget:0}),Ku=yt(cS),fS=v({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=yt(fS),dS=v({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mS=yt(dS),pS=v({},ji,{data:0}),om=yt(pS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vS[t])?!!n[t]:!1}function Qu(){return yS}var ES=v({},Aa,{key:function(t){if(t.key){var n=gS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=El(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_S[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(t){return t.type==="keypress"?El(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?El(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SS=yt(ES),bS=v({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=yt(bS),TS=v({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),CS=yt(TS),RS=v({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),wS=yt(RS),AS=v({},Tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xS=yt(AS),NS=v({},ji,{newState:0,oldState:0}),OS=yt(NS),IS=[9,13,27,32],Xu=vn&&"CompositionEvent"in window,Na=null;vn&&"documentMode"in document&&(Na=document.documentMode);var MS=vn&&"TextEvent"in window&&!Na,cm=vn&&(!Xu||Na&&8<Na&&11>=Na),fm=" ",hm=!1;function dm(t,n){switch(t){case"keyup":return IS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function DS(t,n){switch(t){case"compositionend":return mm(n);case"keypress":return n.which!==32?null:(hm=!0,fm);case"textInput":return t=n.data,t===fm&&hm?null:t;default:return null}}function kS(t,n){if(Ts)return t==="compositionend"||!Xu&&dm(t,n)?(t=am(),yl=Gu=Xn=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cm&&n.locale!=="ko"?null:n.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!LS[t.type]:n==="textarea"}function gm(t,n,a,l){Ss?bs?bs.push(l):bs=[l]:Ss=l,n=uo(n,"onChange"),0<n.length&&(a=new bl("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Oa=null,Ia=null;function US(t){Wg(t,0)}function Cl(t){var n=Ca(t);if(Zd(n))return t}function _m(t,n){if(t==="change")return n}var vm=!1;if(vn){var Wu;if(vn){var Zu="oninput"in document;if(!Zu){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Zu=typeof ym.oninput=="function"}Wu=Zu}else Wu=!1;vm=Wu&&(!document.documentMode||9<document.documentMode)}function Em(){Oa&&(Oa.detachEvent("onpropertychange",Sm),Ia=Oa=null)}function Sm(t){if(t.propertyName==="value"&&Cl(Ia)){var n=[];gm(n,Ia,t,Bu(t)),sm(US,n)}}function jS(t,n,a){t==="focusin"?(Em(),Oa=n,Ia=a,Oa.attachEvent("onpropertychange",Sm)):t==="focusout"&&Em()}function PS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cl(Ia)}function zS(t,n){if(t==="click")return Cl(n)}function HS(t,n){if(t==="input"||t==="change")return Cl(n)}function BS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nt=typeof Object.is=="function"?Object.is:BS;function Ma(t,n){if(Nt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!wu.call(n,c)||!Nt(t[c],n[c]))return!1}return!0}function bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tm(t,n){var a=bm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bm(a)}}function Cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_l(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_l(t.document)}return n}function $u(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var VS=vn&&"documentMode"in document&&11>=document.documentMode,Cs=null,Ju=null,Da=null,ec=!1;function wm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ec||Cs==null||Cs!==_l(l)||(l=Cs,"selectionStart"in l&&$u(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Da&&Ma(Da,l)||(Da=l,l=uo(Ju,"onSelect"),0<l.length&&(n=new bl("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Cs)))}function Pi(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Rs={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},tc={},Am={};vn&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function zi(t){if(tc[t])return tc[t];if(!Rs[t])return t;var n=Rs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Am)return tc[t]=n[a];return t}var xm=zi("animationend"),Nm=zi("animationiteration"),Om=zi("animationstart"),qS=zi("transitionrun"),GS=zi("transitionstart"),YS=zi("transitioncancel"),Im=zi("transitionend"),Mm=new Map,nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nc.push("scrollEnd");function Xt(t,n){Mm.set(t,n),Ui(n,[t])}var Dm=new WeakMap;function zt(t,n){if(typeof t=="object"&&t!==null){var a=Dm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Xd(n)},Dm.set(t,n),n)}return{value:t,source:n,stack:Xd(n)}}var Ht=[],ws=0,ic=0;function Rl(){for(var t=ws,n=ic=ws=0;n<t;){var a=Ht[n];Ht[n++]=null;var l=Ht[n];Ht[n++]=null;var c=Ht[n];Ht[n++]=null;var h=Ht[n];if(Ht[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&km(a,c,h)}}function wl(t,n,a,l){Ht[ws++]=t,Ht[ws++]=n,Ht[ws++]=a,Ht[ws++]=l,ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sc(t,n,a,l){return wl(t,n,a,l),Al(t)}function As(t,n){return wl(t,null,null,n),Al(t)}function km(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-xt(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Al(t){if(50<sr)throw sr=0,ff=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xs={};function FS(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,n,a,l){return new FS(t,n,a,l)}function ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yn(t,n){var a=t.alternate;return a===null?(a=Ot(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xl(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")ac(t)&&(g=1);else if(typeof t=="string")g=Qb(t,a,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Ot(31,a,n,c),t.elementType=R,t.lanes=h,t;case A:return Hi(a.children,c,h,n);case P:g=8,c|=24;break;case H:return t=Ot(12,a,n,c|2),t.elementType=H,t.lanes=h,t;case W:return t=Ot(13,a,n,c),t.elementType=W,t.lanes=h,t;case Ee:return t=Ot(19,a,n,c),t.elementType=Ee,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:case q:g=10;break e;case F:g=9;break e;case ne:g=11;break e;case ve:g=14;break e;case _e:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Ot(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Hi(t,n,a,l){return t=Ot(7,t,l,n),t.lanes=a,t}function rc(t,n,a){return t=Ot(6,t,null,n),t.lanes=a,t}function lc(t,n,a){return n=Ot(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ns=[],Os=0,Nl=null,Ol=0,Bt=[],Vt=0,Bi=null,En=1,Sn="";function Vi(t,n){Ns[Os++]=Ol,Ns[Os++]=Nl,Nl=t,Ol=n}function Um(t,n,a){Bt[Vt++]=En,Bt[Vt++]=Sn,Bt[Vt++]=Bi,Bi=t;var l=En;t=Sn;var c=32-xt(l)-1;l&=~(1<<c),a+=1;var h=32-xt(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,En=1<<32-xt(n)+c|a<<c|l,Sn=h+t}else En=1<<h|a<<c|l,Sn=t}function oc(t){t.return!==null&&(Vi(t,1),Um(t,1,0))}function uc(t){for(;t===Nl;)Nl=Ns[--Os],Ns[Os]=null,Ol=Ns[--Os],Ns[Os]=null;for(;t===Bi;)Bi=Bt[--Vt],Bt[Vt]=null,Sn=Bt[--Vt],Bt[Vt]=null,En=Bt[--Vt],Bt[Vt]=null}var pt=null,Be=null,Re=!1,qi=null,on=!1,cc=Error(r(519));function Gi(t){var n=Error(r(418,""));throw Ua(zt(n,t)),cc}function jm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ct]=t,n[vt]=l,a){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(a=0;a<rr.length;a++)me(rr[a],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":me("invalid",n),$d(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gl(n);break;case"select":me("invalid",n);break;case"textarea":me("invalid",n),em(n,l.value,l.defaultValue,l.children),gl(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||e_(n.textContent,a)?(l.popover!=null&&(me("beforetoggle",n),me("toggle",n)),l.onScroll!=null&&me("scroll",n),l.onScrollEnd!=null&&me("scrollend",n),l.onClick!=null&&(n.onclick=co),n=!0):n=!1,n||Gi(t)}function Pm(t){for(pt=t.return;pt;)switch(pt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:pt=pt.return}}function ka(t){if(t!==pt)return!1;if(!Re)return Pm(t),Re=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Af(t.type,t.memoizedProps)),a=!a),a&&Be&&Gi(t),Pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Be=Zt(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Be=null}}else n===27?(n=Be,fi(t.type)?(t=If,If=null,Be=t):Be=n):Be=pt?Zt(t.stateNode.nextSibling):null;return!0}function La(){Be=pt=null,Re=!1}function zm(){var t=qi;return t!==null&&(bt===null?bt=t:bt.push.apply(bt,t),qi=null),t}function Ua(t){qi===null?qi=[t]:qi.push(t)}var fc=V(null),Yi=null,bn=null;function Wn(t,n,a){K(fc,n._currentValue),n._currentValue=a}function Tn(t){t._currentValue=fc.current,Q(fc)}function hc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function dc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=c;for(var b=0;b<n.length;b++)if(y.context===n[b]){h.lanes|=a,y=h.alternate,y!==null&&(y.lanes|=a),hc(h.return,a,t),l||(g=null);break e}h=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),hc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ja(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=c.type;Nt(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===wt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(hr):t=[hr])}c=c.return}t!==null&&dc(n,t,a,l),n.flags|=262144}function Il(t){for(t=t.firstContext;t!==null;){if(!Nt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fi(t){Yi=t,bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return Hm(Yi,t)}function Ml(t,n){return Yi===null&&Fi(t),Hm(t,n)}function Hm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},bn===null){if(t===null)throw Error(r(308));bn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bn=bn.next=n;return a}var KS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},QS=s.unstable_scheduleCallback,XS=s.unstable_NormalPriority,We={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new KS,data:new Map,refCount:0}}function Pa(t){t.refCount--,t.refCount===0&&QS(XS,function(){t.controller.abort()})}var za=null,pc=0,Is=0,Ms=null;function WS(t,n){if(za===null){var a=za=[];pc=0,Is=vf(),Ms={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pc++,n.then(Bm,Bm),n}function Bm(){if(--pc===0&&za!==null){Ms!==null&&(Ms.status="fulfilled");var t=za;za=null,Is=0,Ms=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ZS(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Vm=k.S;k.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&WS(t,n),Vm!==null&&Vm(t,n)};var Ki=V(null);function gc(){var t=Ki.current;return t!==null?t:ke.pooledCache}function Dl(t,n){n===null?K(Ki,Ki.current):K(Ki,n.pool)}function qm(){var t=gc();return t===null?null:{parent:We._currentValue,pool:t}}var Ha=Error(r(460)),Gm=Error(r(474)),kl=Error(r(542)),_c={then:function(){}};function Ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ll(){}function Fm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ll,Ll),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qm(t),t;default:if(typeof n.status=="string")n.then(Ll,Ll);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qm(t),t}throw Ba=n,Ha}}var Ba=null;function Km(){if(Ba===null)throw Error(r(459));var t=Ba;return Ba=null,t}function Qm(t){if(t===Ha||t===kl)throw Error(r(483))}var Zn=!1;function vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $n(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jn(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Al(t),km(t,null,a),n}return wl(t,l,n,a),Al(t)}function Va(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Bd(t,a)}}function Ec(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Sc=!1;function qa(){if(Sc){var t=Ms;if(t!==null)throw t}}function Ga(t,n,a,l){Sc=!1;var c=t.updateQueue;Zn=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var b=y,I=b.next;b.next=null,g===null?h=I:g.next=I,g=b;var L=t.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==g&&(y===null?L.firstBaseUpdate=I:y.next=I,L.lastBaseUpdate=b))}if(h!==null){var j=c.baseState;g=0,L=I=b=null,y=h;do{var M=y.lane&-536870913,D=M!==y.lane;if(D?(ye&M)===M:(l&M)===M){M!==0&&M===Is&&(Sc=!0),L!==null&&(L=L.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ae=t,ee=y;M=n;var Oe=a;switch(ee.tag){case 1:if(ae=ee.payload,typeof ae=="function"){j=ae.call(Oe,j,M);break e}j=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ee.payload,M=typeof ae=="function"?ae.call(Oe,j,M):ae,M==null)break e;j=v({},j,M);break e;case 2:Zn=!0}}M=y.callback,M!==null&&(t.flags|=64,D&&(t.flags|=8192),D=c.callbacks,D===null?c.callbacks=[M]:D.push(M))}else D={lane:M,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(I=L=D,b=j):L=L.next=D,g|=M;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;D=y,y=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);L===null&&(b=j),c.baseState=b,c.firstBaseUpdate=I,c.lastBaseUpdate=L,h===null&&(c.shared.lanes=0),li|=g,t.lanes=g,t.memoizedState=j}}function Xm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Wm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xm(a[t],n)}var Ds=V(null),Ul=V(0);function Zm(t,n){t=On,K(Ul,t),K(Ds,n),On=t|n.baseLanes}function bc(){K(Ul,On),K(Ds,Ds.current)}function Tc(){On=Ul.current,Q(Ds),Q(Ul)}var ei=0,ue=null,xe=null,Fe=null,jl=!1,ks=!1,Qi=!1,Pl=0,Ya=0,Ls=null,$S=0;function Ge(){throw Error(r(321))}function Cc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Nt(t[a],n[a]))return!1;return!0}function Rc(t,n,a,l,c,h){return ei=h,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?kp:Lp,Qi=!1,h=a(l,c),Qi=!1,ks&&(h=Jm(n,a,l,c)),$m(t),h}function $m(t){k.H=Gl;var n=xe!==null&&xe.next!==null;if(ei=0,Fe=xe=ue=null,jl=!1,Ya=0,Ls=null,n)throw Error(r(300));t===null||tt||(t=t.dependencies,t!==null&&Il(t)&&(tt=!0))}function Jm(t,n,a,l){ue=t;var c=0;do{if(ks&&(Ls=null),Ya=0,ks=!1,25<=c)throw Error(r(301));if(c+=1,Fe=xe=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=ab,h=n(a,l)}while(ks);return h}function JS(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?Fa(n):n,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(ue.flags|=1024),n}function wc(){var t=Pl!==0;return Pl=0,t}function Ac(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xc(t){if(jl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}jl=!1}ei=0,Fe=xe=ue=null,ks=!1,Ya=Pl=0,Ls=null}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ue.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Ke(){if(xe===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var n=Fe===null?ue.memoizedState:Fe.next;if(n!==null)Fe=n,xe=t;else{if(t===null)throw ue.alternate===null?Error(r(467)):Error(r(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Fe===null?ue.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fa(t){var n=Ya;return Ya+=1,Ls===null&&(Ls=[]),t=Fm(Ls,t,n),n=ue,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?kp:Lp),t}function zl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fa(t);if(t.$$typeof===q)return ft(t)}throw Error(r(438,String(t)))}function Oc(t){var n=null,a=ue.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Nc(),ue.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=B;return n.index++,a}function Cn(t,n){return typeof n=="function"?n(t):n}function Hl(t){var n=Ke();return Ic(n,xe,t)}function Ic(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var y=g=null,b=null,I=n,L=!1;do{var j=I.lane&-536870913;if(j!==I.lane?(ye&j)===j:(ei&j)===j){var M=I.revertLane;if(M===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),j===Is&&(L=!0);else if((ei&M)===M){I=I.next,M===Is&&(L=!0);continue}else j={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},b===null?(y=b=j,g=h):b=b.next=j,ue.lanes|=M,li|=M;j=I.action,Qi&&a(h,j),h=I.hasEagerState?I.eagerState:a(h,j)}else M={lane:j,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},b===null?(y=b=M,g=h):b=b.next=M,ue.lanes|=j,li|=j;I=I.next}while(I!==null&&I!==n);if(b===null?g=h:b.next=y,!Nt(h,t.memoizedState)&&(tt=!0,L&&(a=Ms,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mc(t){var n=Ke(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);Nt(h,n.memoizedState)||(tt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function ep(t,n,a){var l=ue,c=Ke(),h=Re;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Nt((xe||c).memoizedState,a);g&&(c.memoizedState=a,tt=!0),c=c.queue;var y=ip.bind(null,l,c,t);if(Ka(2048,8,y,[t]),c.getSnapshot!==n||g||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,Us(9,Bl(),np.bind(null,l,c,a,n),null),ke===null)throw Error(r(349));h||(ei&124)!==0||tp(l,n,a)}return a}function tp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ue.updateQueue,n===null?(n=Nc(),ue.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function np(t,n,a,l){n.value=a,n.getSnapshot=l,sp(n)&&ap(t)}function ip(t,n,a){return a(function(){sp(n)&&ap(t)})}function sp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Nt(t,a)}catch{return!0}}function ap(t){var n=As(t,2);n!==null&&Lt(n,t,2)}function Dc(t){var n=Et();if(typeof t=="function"){var a=t;if(t=a(),Qi){Kn(!0);try{a()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:t},n}function rp(t,n,a,l){return t.baseState=a,Ic(t,xe,typeof l=="function"?l:Cn)}function eb(t,n,a,l,c){if(ql(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};k.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,lp(n,h)):(h.next=a.next,n.pending=a.next=h)}}function lp(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=k.T,g={};k.T=g;try{var y=a(c,l),b=k.S;b!==null&&b(g,y),op(t,n,y)}catch(I){kc(t,n,I)}finally{k.T=h}}else try{h=a(c,l),op(t,n,h)}catch(I){kc(t,n,I)}}function op(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){up(t,n,l)},function(l){return kc(t,n,l)}):up(t,n,a)}function up(t,n,a){n.status="fulfilled",n.value=a,cp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,lp(t,a)))}function kc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,cp(n),n=n.next;while(n!==l)}t.action=null}function cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fp(t,n){return n}function hp(t,n){if(Re){var a=ke.formState;if(a!==null){e:{var l=ue;if(Re){if(Be){t:{for(var c=Be,h=on;c.nodeType!==8;){if(!h){c=null;break t}if(c=Zt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Be=Zt(c.nextSibling),l=c.data==="F!";break e}}Gi(l)}l=!1}l&&(n=a[0])}}return a=Et(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},a.queue=l,a=Ip.bind(null,ue,l),l.dispatch=a,l=Dc(!1),h=zc.bind(null,ue,!1,l.queue),l=Et(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=eb.bind(null,ue,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function dp(t){var n=Ke();return mp(n,xe,t)}function mp(t,n,a){if(n=Ic(t,n,fp)[0],t=Hl(Cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fa(n)}catch(g){throw g===Ha?kl:g}else l=n;n=Ke();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(ue.flags|=2048,Us(9,Bl(),tb.bind(null,c,a),null)),[l,h,t]}function tb(t,n){t.action=n}function pp(t){var n=Ke(),a=xe;if(a!==null)return mp(n,a,t);Ke(),n=n.memoizedState,a=Ke();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Us(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=ue.updateQueue,n===null&&(n=Nc(),ue.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Bl(){return{destroy:void 0,resource:void 0}}function gp(){return Ke().memoizedState}function Vl(t,n,a,l){var c=Et();l=l===void 0?null:l,ue.flags|=t,c.memoizedState=Us(1|n,Bl(),a,l)}function Ka(t,n,a,l){var c=Ke();l=l===void 0?null:l;var h=c.memoizedState.inst;xe!==null&&l!==null&&Cc(l,xe.memoizedState.deps)?c.memoizedState=Us(n,h,a,l):(ue.flags|=t,c.memoizedState=Us(1|n,h,a,l))}function _p(t,n){Vl(8390656,8,t,n)}function vp(t,n){Ka(2048,8,t,n)}function yp(t,n){return Ka(4,2,t,n)}function Ep(t,n){return Ka(4,4,t,n)}function Sp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bp(t,n,a){a=a!=null?a.concat([t]):null,Ka(4,4,Sp.bind(null,n,t),a)}function Lc(){}function Tp(t,n){var a=Ke();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Cc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Cp(t,n){var a=Ke();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Cc(n,l[1]))return l[0];if(l=t(),Qi){Kn(!0);try{t()}finally{Kn(!1)}}return a.memoizedState=[l,n],l}function Uc(t,n,a){return a===void 0||(ei&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Ag(),ue.lanes|=t,li|=t,a)}function Rp(t,n,a,l){return Nt(a,n)?a:Ds.current!==null?(t=Uc(t,a,l),Nt(t,n)||(tt=!0),t):(ei&42)===0?(tt=!0,t.memoizedState=a):(t=Ag(),ue.lanes|=t,li|=t,n)}function wp(t,n,a,l,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var g=k.T,y={};k.T=y,zc(t,!1,n,a);try{var b=c(),I=k.S;if(I!==null&&I(y,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=ZS(b,l);Qa(t,n,L,kt(t))}else Qa(t,n,l,kt(t))}catch(j){Qa(t,n,{then:function(){},status:"rejected",reason:j},kt())}finally{Y.p=h,k.T=g}}function nb(){}function jc(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Ap(t).queue;wp(t,c,n,Z,a===null?nb:function(){return xp(t),a(l)})}function Ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:Z},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xp(t){var n=Ap(t).next.queue;Qa(t,n,{},kt())}function Pc(){return ft(hr)}function Np(){return Ke().memoizedState}function Op(){return Ke().memoizedState}function ib(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=kt();t=$n(a);var l=Jn(n,t,a);l!==null&&(Lt(l,n,a),Va(l,n,a)),n={cache:mc()},t.payload=n;return}n=n.return}}function sb(t,n,a){var l=kt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ql(t)?Mp(n,a):(a=sc(t,n,a,l),a!==null&&(Lt(a,t,l),Dp(a,n,l)))}function Ip(t,n,a){var l=kt();Qa(t,n,a,l)}function Qa(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ql(t))Mp(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,y=h(g,a);if(c.hasEagerState=!0,c.eagerState=y,Nt(y,g))return wl(t,n,c,0),ke===null&&Rl(),!1}catch{}finally{}if(a=sc(t,n,c,l),a!==null)return Lt(a,t,l),Dp(a,n,l),!0}return!1}function zc(t,n,a,l){if(l={lane:2,revertLane:vf(),action:l,hasEagerState:!1,eagerState:null,next:null},ql(t)){if(n)throw Error(r(479))}else n=sc(t,a,l,2),n!==null&&Lt(n,t,2)}function ql(t){var n=t.alternate;return t===ue||n!==null&&n===ue}function Mp(t,n){ks=jl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Dp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Bd(t,a)}}var Gl={readContext:ft,use:zl,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},kp={readContext:ft,use:zl,useCallback:function(t,n){return Et().memoizedState=[t,n===void 0?null:n],t},useContext:ft,useEffect:_p,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Vl(4194308,4,Sp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Vl(4194308,4,t,n)},useInsertionEffect:function(t,n){Vl(4,2,t,n)},useMemo:function(t,n){var a=Et();n=n===void 0?null:n;var l=t();if(Qi){Kn(!0);try{t()}finally{Kn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Et();if(a!==void 0){var c=a(n);if(Qi){Kn(!0);try{a(n)}finally{Kn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=sb.bind(null,ue,t),[l.memoizedState,t]},useRef:function(t){var n=Et();return t={current:t},n.memoizedState=t},useState:function(t){t=Dc(t);var n=t.queue,a=Ip.bind(null,ue,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Lc,useDeferredValue:function(t,n){var a=Et();return Uc(a,t,n)},useTransition:function(){var t=Dc(!1);return t=wp.bind(null,ue,t.queue,!0,!1),Et().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=ue,c=Et();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ke===null)throw Error(r(349));(ye&124)!==0||tp(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,_p(ip.bind(null,l,h,t),[t]),l.flags|=2048,Us(9,Bl(),np.bind(null,l,h,a,n),null),a},useId:function(){var t=Et(),n=ke.identifierPrefix;if(Re){var a=Sn,l=En;a=(l&~(1<<32-xt(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Pl++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=$S++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Pc,useFormState:hp,useActionState:hp,useOptimistic:function(t){var n=Et();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zc.bind(null,ue,!0,a),a.dispatch=n,[t,n]},useMemoCache:Oc,useCacheRefresh:function(){return Et().memoizedState=ib.bind(null,ue)}},Lp={readContext:ft,use:zl,useCallback:Tp,useContext:ft,useEffect:vp,useImperativeHandle:bp,useInsertionEffect:yp,useLayoutEffect:Ep,useMemo:Cp,useReducer:Hl,useRef:gp,useState:function(){return Hl(Cn)},useDebugValue:Lc,useDeferredValue:function(t,n){var a=Ke();return Rp(a,xe.memoizedState,t,n)},useTransition:function(){var t=Hl(Cn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:Fa(t),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:Pc,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var a=Ke();return rp(a,xe,t,n)},useMemoCache:Oc,useCacheRefresh:Op},ab={readContext:ft,use:zl,useCallback:Tp,useContext:ft,useEffect:vp,useImperativeHandle:bp,useInsertionEffect:yp,useLayoutEffect:Ep,useMemo:Cp,useReducer:Mc,useRef:gp,useState:function(){return Mc(Cn)},useDebugValue:Lc,useDeferredValue:function(t,n){var a=Ke();return xe===null?Uc(a,t,n):Rp(a,xe.memoizedState,t,n)},useTransition:function(){var t=Mc(Cn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:Fa(t),n]},useSyncExternalStore:ep,useId:Np,useHostTransitionStatus:Pc,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var a=Ke();return xe!==null?rp(a,xe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Oc,useCacheRefresh:Op},js=null,Xa=0;function Yl(t){var n=Xa;return Xa+=1,js===null&&(js=[]),Fm(js,t,n)}function Wa(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fl(t,n){throw n.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Up(t){var n=t._init;return n(t._payload)}function jp(t){function n(x,C){if(t){var O=x.deletions;O===null?(x.deletions=[C],x.flags|=16):O.push(C)}}function a(x,C){if(!t)return null;for(;C!==null;)n(x,C),C=C.sibling;return null}function l(x){for(var C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function c(x,C){return x=yn(x,C),x.index=0,x.sibling=null,x}function h(x,C,O){return x.index=O,t?(O=x.alternate,O!==null?(O=O.index,O<C?(x.flags|=67108866,C):O):(x.flags|=67108866,C)):(x.flags|=1048576,C)}function g(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function y(x,C,O,U){return C===null||C.tag!==6?(C=rc(O,x.mode,U),C.return=x,C):(C=c(C,O),C.return=x,C)}function b(x,C,O,U){var X=O.type;return X===A?L(x,C,O.props.children,U,O.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===_e&&Up(X)===C.type)?(C=c(C,O.props),Wa(C,O),C.return=x,C):(C=xl(O.type,O.key,O.props,null,x.mode,U),Wa(C,O),C.return=x,C)}function I(x,C,O,U){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=lc(O,x.mode,U),C.return=x,C):(C=c(C,O.children||[]),C.return=x,C)}function L(x,C,O,U,X){return C===null||C.tag!==7?(C=Hi(O,x.mode,U,X),C.return=x,C):(C=c(C,O),C.return=x,C)}function j(x,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=rc(""+C,x.mode,O),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return O=xl(C.type,C.key,C.props,null,x.mode,O),Wa(O,C),O.return=x,O;case w:return C=lc(C,x.mode,O),C.return=x,C;case _e:var U=C._init;return C=U(C._payload),j(x,C,O)}if(Xe(C)||le(C))return C=Hi(C,x.mode,O,null),C.return=x,C;if(typeof C.then=="function")return j(x,Yl(C),O);if(C.$$typeof===q)return j(x,Ml(x,C),O);Fl(x,C)}return null}function M(x,C,O,U){var X=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return X!==null?null:y(x,C,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===X?b(x,C,O,U):null;case w:return O.key===X?I(x,C,O,U):null;case _e:return X=O._init,O=X(O._payload),M(x,C,O,U)}if(Xe(O)||le(O))return X!==null?null:L(x,C,O,U,null);if(typeof O.then=="function")return M(x,C,Yl(O),U);if(O.$$typeof===q)return M(x,C,Ml(x,O),U);Fl(x,O)}return null}function D(x,C,O,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return x=x.get(O)||null,y(C,x,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return x=x.get(U.key===null?O:U.key)||null,b(C,x,U,X);case w:return x=x.get(U.key===null?O:U.key)||null,I(C,x,U,X);case _e:var ce=U._init;return U=ce(U._payload),D(x,C,O,U,X)}if(Xe(U)||le(U))return x=x.get(O)||null,L(C,x,U,X,null);if(typeof U.then=="function")return D(x,C,O,Yl(U),X);if(U.$$typeof===q)return D(x,C,O,Ml(C,U),X);Fl(C,U)}return null}function ae(x,C,O,U){for(var X=null,ce=null,$=C,te=C=0,it=null;$!==null&&te<O.length;te++){$.index>te?(it=$,$=null):it=$.sibling;var Te=M(x,$,O[te],U);if(Te===null){$===null&&($=it);break}t&&$&&Te.alternate===null&&n(x,$),C=h(Te,C,te),ce===null?X=Te:ce.sibling=Te,ce=Te,$=it}if(te===O.length)return a(x,$),Re&&Vi(x,te),X;if($===null){for(;te<O.length;te++)$=j(x,O[te],U),$!==null&&(C=h($,C,te),ce===null?X=$:ce.sibling=$,ce=$);return Re&&Vi(x,te),X}for($=l($);te<O.length;te++)it=D($,x,te,O[te],U),it!==null&&(t&&it.alternate!==null&&$.delete(it.key===null?te:it.key),C=h(it,C,te),ce===null?X=it:ce.sibling=it,ce=it);return t&&$.forEach(function(gi){return n(x,gi)}),Re&&Vi(x,te),X}function ee(x,C,O,U){if(O==null)throw Error(r(151));for(var X=null,ce=null,$=C,te=C=0,it=null,Te=O.next();$!==null&&!Te.done;te++,Te=O.next()){$.index>te?(it=$,$=null):it=$.sibling;var gi=M(x,$,Te.value,U);if(gi===null){$===null&&($=it);break}t&&$&&gi.alternate===null&&n(x,$),C=h(gi,C,te),ce===null?X=gi:ce.sibling=gi,ce=gi,$=it}if(Te.done)return a(x,$),Re&&Vi(x,te),X;if($===null){for(;!Te.done;te++,Te=O.next())Te=j(x,Te.value,U),Te!==null&&(C=h(Te,C,te),ce===null?X=Te:ce.sibling=Te,ce=Te);return Re&&Vi(x,te),X}for($=l($);!Te.done;te++,Te=O.next())Te=D($,x,te,Te.value,U),Te!==null&&(t&&Te.alternate!==null&&$.delete(Te.key===null?te:Te.key),C=h(Te,C,te),ce===null?X=Te:ce.sibling=Te,ce=Te);return t&&$.forEach(function(rT){return n(x,rT)}),Re&&Vi(x,te),X}function Oe(x,C,O,U){if(typeof O=="object"&&O!==null&&O.type===A&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var X=O.key;C!==null;){if(C.key===X){if(X=O.type,X===A){if(C.tag===7){a(x,C.sibling),U=c(C,O.props.children),U.return=x,x=U;break e}}else if(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===_e&&Up(X)===C.type){a(x,C.sibling),U=c(C,O.props),Wa(U,O),U.return=x,x=U;break e}a(x,C);break}else n(x,C);C=C.sibling}O.type===A?(U=Hi(O.props.children,x.mode,U,O.key),U.return=x,x=U):(U=xl(O.type,O.key,O.props,null,x.mode,U),Wa(U,O),U.return=x,x=U)}return g(x);case w:e:{for(X=O.key;C!==null;){if(C.key===X)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){a(x,C.sibling),U=c(C,O.children||[]),U.return=x,x=U;break e}else{a(x,C);break}else n(x,C);C=C.sibling}U=lc(O,x.mode,U),U.return=x,x=U}return g(x);case _e:return X=O._init,O=X(O._payload),Oe(x,C,O,U)}if(Xe(O))return ae(x,C,O,U);if(le(O)){if(X=le(O),typeof X!="function")throw Error(r(150));return O=X.call(O),ee(x,C,O,U)}if(typeof O.then=="function")return Oe(x,C,Yl(O),U);if(O.$$typeof===q)return Oe(x,C,Ml(x,O),U);Fl(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(a(x,C.sibling),U=c(C,O),U.return=x,x=U):(a(x,C),U=rc(O,x.mode,U),U.return=x,x=U),g(x)):a(x,C)}return function(x,C,O,U){try{Xa=0;var X=Oe(x,C,O,U);return js=null,X}catch($){if($===Ha||$===kl)throw $;var ce=Ot(29,$,null,x.mode);return ce.lanes=U,ce.return=x,ce}finally{}}}var Ps=jp(!0),Pp=jp(!1),qt=V(null),un=null;function ti(t){var n=t.alternate;K(Ze,Ze.current&1),K(qt,t),un===null&&(n===null||Ds.current!==null||n.memoizedState!==null)&&(un=t)}function zp(t){if(t.tag===22){if(K(Ze,Ze.current),K(qt,t),un===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(un=t)}}else ni()}function ni(){K(Ze,Ze.current),K(qt,qt.current)}function Rn(t){Q(qt),un===t&&(un=null),Q(Ze)}var Ze=V(0);function Kl(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Of(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Hc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:v({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bc={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=kt(),c=$n(l);c.payload=n,a!=null&&(c.callback=a),n=Jn(t,c,l),n!==null&&(Lt(n,t,l),Va(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=kt(),c=$n(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Jn(t,c,l),n!==null&&(Lt(n,t,l),Va(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=kt(),l=$n(a);l.tag=2,n!=null&&(l.callback=n),n=Jn(t,l,a),n!==null&&(Lt(n,t,a),Va(n,t,a))}};function Hp(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!Ma(a,l)||!Ma(c,h):!0}function Bp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Bc.enqueueReplaceState(n,n.state,null)}function Xi(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=v({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Ql=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vp(t){Ql(t)}function qp(t){console.error(t)}function Gp(t){Ql(t)}function Xl(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vc(t,n,a){return a=$n(a),a.tag=3,a.payload={element:null},a.callback=function(){Xl(t,n)},a}function Fp(t){return t=$n(t),t.tag=3,t}function Kp(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Yp(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Yp(n,a,l),typeof c!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function rb(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ja(n,a,c,!0),a=qt.current,a!==null){switch(a.tag){case 13:return un===null?df():a.alternate===null&&Ve===0&&(Ve=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===_c?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),pf(t,l,c)),!1;case 22:return a.flags|=65536,l===_c?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),pf(t,l,c)),!1}throw Error(r(435,a.tag))}return pf(t,l,c),df(),!1}if(Re)return n=qt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==cc&&(t=Error(r(422),{cause:l}),Ua(zt(t,a)))):(l!==cc&&(n=Error(r(423),{cause:l}),Ua(zt(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=zt(l,a),c=Vc(t.stateNode,l,c),Ec(t,c),Ve!==4&&(Ve=2)),!1;var h=Error(r(520),{cause:l});if(h=zt(h,a),ir===null?ir=[h]:ir.push(h),Ve!==4&&(Ve=2),n===null)return!0;l=zt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vc(a.stateNode,l,t),Ec(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(oi===null||!oi.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Fp(c),Kp(c,t,a,l),Ec(a,c),!1}a=a.return}while(a!==null);return!1}var Qp=Error(r(461)),tt=!1;function lt(t,n,a,l){n.child=t===null?Pp(n,null,a,l):Ps(n,t.child,a,l)}function Xp(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var y in l)y!=="ref"&&(g[y]=l[y])}else g=l;return Fi(n),l=Rc(t,n,a,g,h,c),y=wc(),t!==null&&!tt?(Ac(t,n,c),wn(t,n,c)):(Re&&y&&oc(n),n.flags|=1,lt(t,n,l,c),n.child)}function Wp(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!ac(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Zp(t,n,h,l,c)):(t=xl(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Wc(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(g,l)&&t.ref===n.ref)return wn(t,n,c)}return n.flags|=1,t=yn(h,l),t.ref=n.ref,t.return=n,n.child=t}function Zp(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(Ma(h,l)&&t.ref===n.ref)if(tt=!1,n.pendingProps=l=h,Wc(t,c))(t.flags&131072)!==0&&(tt=!0);else return n.lanes=t.lanes,wn(t,n,c)}return qc(t,n,a,l,c)}function $p(t,n,a){var l=n.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Jp(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dl(n,h!==null?h.cachePool:null),h!==null?Zm(n,h):bc(),zp(n);else return n.lanes=n.childLanes=536870912,Jp(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(Dl(n,h.cachePool),Zm(n,h),ni(),n.memoizedState=null):(t!==null&&Dl(n,null),bc(),ni());return lt(t,n,c,a),n.child}function Jp(t,n,a,l){var c=gc();return c=c===null?null:{parent:We._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Dl(n,null),bc(),zp(n),t!==null&&ja(t,n,l,!0),null}function Wl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qc(t,n,a,l,c){return Fi(n),a=Rc(t,n,a,l,void 0,c),l=wc(),t!==null&&!tt?(Ac(t,n,c),wn(t,n,c)):(Re&&l&&oc(n),n.flags|=1,lt(t,n,a,c),n.child)}function eg(t,n,a,l,c,h){return Fi(n),n.updateQueue=null,a=Jm(n,l,a,c),$m(t),l=wc(),t!==null&&!tt?(Ac(t,n,h),wn(t,n,h)):(Re&&l&&oc(n),n.flags|=1,lt(t,n,a,h),n.child)}function tg(t,n,a,l,c){if(Fi(n),n.stateNode===null){var h=xs,g=a.contextType;typeof g=="object"&&g!==null&&(h=ft(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Bc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},vc(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?ft(g):xs,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Hc(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Bc.enqueueReplaceState(h,h.state,null),Ga(n,l,h,c),qa(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var y=n.memoizedProps,b=Xi(a,y);h.props=b;var I=h.context,L=a.contextType;g=xs,typeof L=="object"&&L!==null&&(g=ft(L));var j=a.getDerivedStateFromProps;L=typeof j=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,L||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||I!==g)&&Bp(n,h,l,g),Zn=!1;var M=n.memoizedState;h.state=M,Ga(n,l,h,c),qa(),I=n.memoizedState,y||M!==I||Zn?(typeof j=="function"&&(Hc(n,a,j,l),I=n.memoizedState),(b=Zn||Hp(n,a,b,l,M,I,g))?(L||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=g,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,yc(t,n),g=n.memoizedProps,L=Xi(a,g),h.props=L,j=n.pendingProps,M=h.context,I=a.contextType,b=xs,typeof I=="object"&&I!==null&&(b=ft(I)),y=a.getDerivedStateFromProps,(I=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==j||M!==b)&&Bp(n,h,l,b),Zn=!1,M=n.memoizedState,h.state=M,Ga(n,l,h,c),qa();var D=n.memoizedState;g!==j||M!==D||Zn||t!==null&&t.dependencies!==null&&Il(t.dependencies)?(typeof y=="function"&&(Hc(n,a,y,l),D=n.memoizedState),(L=Zn||Hp(n,a,L,l,M,D,b)||t!==null&&t.dependencies!==null&&Il(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,D,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,D,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),h.props=l,h.state=D,h.context=b,l=L):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Wl(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Ps(n,t.child,null,c),n.child=Ps(n,null,a,c)):lt(t,n,a,c),n.memoizedState=h.state,t=n.child):t=wn(t,n,c),t}function ng(t,n,a,l){return La(),n.flags|=256,lt(t,n,a,l),n.child}var Gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(t){return{baseLanes:t,cachePool:qm()}}function Fc(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Gt),t}function ig(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Ze.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Re){if(c?ti(n):ni(),Re){var y=Be,b;if(b=y){e:{for(b=y,y=on;b.nodeType!==8;){if(!y){y=null;break e}if(b=Zt(b.nextSibling),b===null){y=null;break e}}y=b}y!==null?(n.memoizedState={dehydrated:y,treeContext:Bi!==null?{id:En,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},b=Ot(18,null,null,0),b.stateNode=y,b.return=n,n.child=b,pt=n,Be=null,b=!0):b=!1}b||Gi(n)}if(y=n.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return Of(y)?n.lanes=32:n.lanes=536870912,null;Rn(n)}return y=l.children,l=l.fallback,c?(ni(),c=n.mode,y=Zl({mode:"hidden",children:y},c),l=Hi(l,c,a,null),y.return=n,l.return=n,y.sibling=l,n.child=y,c=n.child,c.memoizedState=Yc(a),c.childLanes=Fc(t,g,a),n.memoizedState=Gc,l):(ti(n),Kc(n,y))}if(b=t.memoizedState,b!==null&&(y=b.dehydrated,y!==null)){if(h)n.flags&256?(ti(n),n.flags&=-257,n=Qc(t,n,a)):n.memoizedState!==null?(ni(),n.child=t.child,n.flags|=128,n=null):(ni(),c=l.fallback,y=n.mode,l=Zl({mode:"visible",children:l.children},y),c=Hi(c,y,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ps(n,t.child,null,a),l=n.child,l.memoizedState=Yc(a),l.childLanes=Fc(t,g,a),n.memoizedState=Gc,n=c);else if(ti(n),Of(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var I=g.dgst;g=I,l=Error(r(419)),l.stack="",l.digest=g,Ua({value:l,source:null,stack:null}),n=Qc(t,n,a)}else if(tt||ja(t,n,a,!1),g=(a&t.childLanes)!==0,tt||g){if(g=ke,g!==null&&(l=a&-a,l=(l&42)!==0?1:Ou(l),l=(l&(g.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,As(t,l),Lt(g,t,l),Qp;y.data==="$?"||df(),n=Qc(t,n,a)}else y.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,Be=Zt(y.nextSibling),pt=n,Re=!0,qi=null,on=!1,t!==null&&(Bt[Vt++]=En,Bt[Vt++]=Sn,Bt[Vt++]=Bi,En=t.id,Sn=t.overflow,Bi=n),n=Kc(n,l.children),n.flags|=4096);return n}return c?(ni(),c=l.fallback,y=n.mode,b=t.child,I=b.sibling,l=yn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,I!==null?c=yn(I,c):(c=Hi(c,y,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,y=t.child.memoizedState,y===null?y=Yc(a):(b=y.cachePool,b!==null?(I=We._currentValue,b=b.parent!==I?{parent:I,pool:I}:b):b=qm(),y={baseLanes:y.baseLanes|a,cachePool:b}),c.memoizedState=y,c.childLanes=Fc(t,g,a),n.memoizedState=Gc,l):(ti(n),a=t.child,t=a.sibling,a=yn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Kc(t,n){return n=Zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zl(t,n){return t=Ot(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qc(t,n,a){return Ps(n,t.child,null,a),t=Kc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),hc(t.return,n,a)}function Xc(t,n,a,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c)}function ag(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(lt(t,n,l.children,a),l=Ze.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sg(t,a,n);else if(t.tag===19)sg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(K(Ze,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Kl(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Xc(n,!1,c,a,h);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Kl(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Xc(n,!0,a,null,h);break;case"together":Xc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),li|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ja(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=yn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=yn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Wc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Il(t)))}function lb(t,n,a){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Wn(n,We,t.memoizedState.cache),La();break;case 27:case 5:Ru(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Wn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ti(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ig(t,n,a):(ti(n),t=wn(t,n,a),t!==null?t.sibling:null);ti(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ja(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ag(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(Ze,Ze.current),l)break;return null;case 22:case 23:return n.lanes=0,$p(t,n,a);case 24:Wn(n,We,t.memoizedState.cache)}return wn(t,n,a)}function rg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)tt=!0;else{if(!Wc(t,a)&&(n.flags&128)===0)return tt=!1,lb(t,n,a);tt=(t.flags&131072)!==0}else tt=!1,Re&&(n.flags&1048576)!==0&&Um(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")ac(l)?(t=Xi(l,t),n.tag=1,n=tg(null,n,l,t,a)):(n.tag=0,n=qc(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===ne){n.tag=11,n=Xp(null,n,l,t,a);break e}else if(c===ve){n.tag=14,n=Wp(null,n,l,t,a);break e}}throw n=rn(l)||l,Error(r(306,n,""))}}return n;case 0:return qc(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Xi(l,n.pendingProps),tg(t,n,l,c,a);case 3:e:{if(je(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,yc(t,n),Ga(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Wn(n,We,l),l!==h.cache&&dc(n,[We],a,!0),qa(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ng(t,n,l,a);break e}else if(l!==c){c=zt(Error(r(424)),n),Ua(c),n=ng(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Be=Zt(t.firstChild),pt=n,Re=!0,qi=null,on=!0,a=Pp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(La(),l===c){n=wn(t,n,a);break e}lt(t,n,l,a)}n=n.child}return n;case 26:return Wl(t,n),t===null?(a=c_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Re||(a=n.type,t=n.pendingProps,l=fo(re.current).createElement(a),l[ct]=n,l[vt]=t,ut(l,a,t),et(l),n.stateNode=l):n.memoizedState=c_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ru(n),t===null&&Re&&(l=n.stateNode=l_(n.type,n.pendingProps,re.current),pt=n,on=!0,c=Be,fi(n.type)?(If=c,Be=Zt(l.firstChild)):Be=c),lt(t,n,n.pendingProps.children,a),Wl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Re&&((c=l=Be)&&(l=Lb(l,n.type,n.pendingProps,on),l!==null?(n.stateNode=l,pt=n,Be=Zt(l.firstChild),on=!1,c=!0):c=!1),c||Gi(n)),Ru(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,Af(c,h)?l=null:g!==null&&Af(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Rc(t,n,JS,null,null,a),hr._currentValue=c),Wl(t,n),lt(t,n,l,a),n.child;case 6:return t===null&&Re&&((t=a=Be)&&(a=Ub(a,n.pendingProps,on),a!==null?(n.stateNode=a,pt=n,Be=null,t=!0):t=!1),t||Gi(n)),null;case 13:return ig(t,n,a);case 4:return je(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ps(n,null,l,a):lt(t,n,l,a),n.child;case 11:return Xp(t,n,n.type,n.pendingProps,a);case 7:return lt(t,n,n.pendingProps,a),n.child;case 8:return lt(t,n,n.pendingProps.children,a),n.child;case 12:return lt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Wn(n,n.type,l.value),lt(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Fi(n),c=ft(c),l=l(c),n.flags|=1,lt(t,n,l,a),n.child;case 14:return Wp(t,n,n.type,n.pendingProps,a);case 15:return Zp(t,n,n.type,n.pendingProps,a);case 19:return ag(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Zl(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=yn(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return $p(t,n,a);case 24:return Fi(n),l=ft(We),t===null?(c=gc(),c===null&&(c=ke,h=mc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},vc(n),Wn(n,We,c)):((t.lanes&a)!==0&&(yc(t,n),Ga(n,null,null,a),qa()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wn(n,We,l)):(l=h.cache,Wn(n,We,l),l!==c.cache&&dc(n,[We],a,!0))),lt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function An(t){t.flags|=4}function lg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(n)){if(n=qt.current,n!==null&&((ye&4194048)===ye?un!==null:(ye&62914560)!==ye&&(ye&536870912)===0||n!==un))throw Ba=_c,Gm;t.flags|=8192}}function $l(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zd():536870912,t.lanes|=n,Vs|=n)}function Za(t,n){if(!Re)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function He(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function ob(t,n,a){var l=n.pendingProps;switch(uc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(n),null;case 1:return He(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Tn(We),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(n)?An(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zm())),He(n),null;case 26:return a=n.memoizedState,t===null?(An(n),a!==null?(He(n),lg(n,a)):(He(n),n.flags&=-16777217)):a?a!==t.memoizedState?(An(n),He(n),lg(n,a)):(He(n),n.flags&=-16777217):(t.memoizedProps!==l&&An(n),He(n),n.flags&=-16777217),null;case 27:ul(n),a=re.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&An(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return He(n),null}t=J.current,ka(n)?jm(n):(t=l_(c,l,a),n.stateNode=t,An(n))}return He(n),null;case 5:if(ul(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&An(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return He(n),null}if(t=J.current,ka(n))jm(n);else{switch(c=fo(re.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ct]=n,t[vt]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(ut(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&An(n)}}return He(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&An(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=re.current,ka(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=pt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ct]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,a)),t||Gi(n)}else t=fo(t).createTextNode(l),t[ct]=n,n.stateNode=t}return He(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ka(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ct]=n}else La(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;He(n),c=!1}else c=zm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Rn(n),n):(Rn(n),null)}if(Rn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),$l(n,n.updateQueue),He(n),null;case 4:return Fn(),t===null&&bf(n.stateNode.containerInfo),He(n),null;case 10:return Tn(n.type),He(n),null;case 19:if(Q(Ze),c=n.memoizedState,c===null)return He(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)Za(c,!1);else{if(Ve!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Kl(t),h!==null){for(n.flags|=128,Za(c,!1),t=h.updateQueue,n.updateQueue=t,$l(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Lm(a,t),a=a.sibling;return K(Ze,Ze.current&1|2),n.child}t=t.sibling}c.tail!==null&&ln()>to&&(n.flags|=128,l=!0,Za(c,!1),n.lanes=4194304)}else{if(!l)if(t=Kl(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$l(n,t),Za(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Re)return He(n),null}else 2*ln()-c.renderingStartTime>to&&a!==536870912&&(n.flags|=128,l=!0,Za(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ln(),n.sibling=null,t=Ze.current,K(Ze,l?t&1|2:t&1),n):(He(n),null);case 22:case 23:return Rn(n),Tc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(He(n),n.subtreeFlags&6&&(n.flags|=8192)):He(n),a=n.updateQueue,a!==null&&$l(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(Ki),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Tn(We),He(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ub(t,n){switch(uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Tn(We),Fn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ul(n),null;case 13:if(Rn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));La()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Ze),null;case 4:return Fn(),null;case 10:return Tn(n.type),null;case 22:case 23:return Rn(n),Tc(),t!==null&&Q(Ki),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Tn(We),null;case 25:return null;default:return null}}function og(t,n){switch(uc(n),n.tag){case 3:Tn(We),Fn();break;case 26:case 27:case 5:ul(n);break;case 4:Fn();break;case 13:Rn(n);break;case 19:Q(Ze);break;case 10:Tn(n.type);break;case 22:case 23:Rn(n),Tc(),t!==null&&Q(Ki);break;case 24:Tn(We)}}function $a(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(y){Me(n,n.return,y)}}function ii(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=n;var b=a,I=y;try{I()}catch(L){Me(c,b,L)}}}l=l.next}while(l!==h)}}catch(L){Me(n,n.return,L)}}function ug(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Wm(n,a)}catch(l){Me(t,t.return,l)}}}function cg(t,n,a){a.props=Xi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Me(t,n,l)}}function Ja(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Me(t,n,c)}}function cn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Me(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Me(t,n,c)}else a.current=null}function fg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Me(t,t.return,c)}}function Zc(t,n,a){try{var l=t.stateNode;Ob(l,t.type,a,n),l[vt]=n}catch(c){Me(t,t.return,c)}}function hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fi(t.type)||t.tag===4}function $c(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=co));else if(l!==4&&(l===27&&fi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jc(t,n,a),t=t.sibling;t!==null;)Jc(t,n,a),t=t.sibling}function Jl(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&fi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Jl(t,n,a),t=t.sibling;t!==null;)Jl(t,n,a),t=t.sibling}function dg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ut(n,l,a),n[ct]=t,n[vt]=a}catch(h){Me(t,t.return,h)}}var xn=!1,Ye=!1,ef=!1,mg=typeof WeakSet=="function"?WeakSet:Set,nt=null;function cb(t,n){if(t=t.containerInfo,Rf=vo,t=Rm(t),$u(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,y=-1,b=-1,I=0,L=0,j=t,M=null;t:for(;;){for(var D;j!==a||c!==0&&j.nodeType!==3||(y=g+c),j!==h||l!==0&&j.nodeType!==3||(b=g+l),j.nodeType===3&&(g+=j.nodeValue.length),(D=j.firstChild)!==null;)M=j,j=D;for(;;){if(j===t)break t;if(M===a&&++I===c&&(y=g),M===h&&++L===l&&(b=g),(D=j.nextSibling)!==null)break;j=M,M=j.parentNode}j=D}a=y===-1||b===-1?null:{start:y,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(wf={focusedElem:t,selectionRange:a},vo=!1,nt=n;nt!==null;)if(n=nt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,nt=t;else for(;nt!==null;){switch(n=nt,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var ae=Xi(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ae,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Me(a,a.return,ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Nf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,nt=t;break}nt=n.return}}function pg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:si(t,a),l&4&&$a(5,a);break;case 1:if(si(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Me(a,a.return,g)}else{var c=Xi(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Me(a,a.return,g)}}l&64&&ug(a),l&512&&Ja(a,a.return);break;case 3:if(si(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wm(t,n)}catch(g){Me(a,a.return,g)}}break;case 27:n===null&&l&4&&dg(a);case 26:case 5:si(t,a),n===null&&l&4&&fg(a),l&512&&Ja(a,a.return);break;case 12:si(t,a);break;case 13:si(t,a),l&4&&vg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yb.bind(null,a),jb(t,a))));break;case 22:if(l=a.memoizedState!==null||xn,!l){n=n!==null&&n.memoizedState!==null||Ye,c=xn;var h=Ye;xn=l,(Ye=n)&&!h?ai(t,a,(a.subtreeFlags&8772)!==0):si(t,a),xn=c,Ye=h}break;case 30:break;default:si(t,a)}}function gg(t){var n=t.alternate;n!==null&&(t.alternate=null,gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Du(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,St=!1;function Nn(t,n,a){for(a=a.child;a!==null;)_g(t,n,a),a=a.sibling}function _g(t,n,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ea,a)}catch{}switch(a.tag){case 26:Ye||cn(a,n),Nn(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||cn(a,n);var l=Pe,c=St;fi(a.type)&&(Pe=a.stateNode,St=!1),Nn(t,n,a),or(a.stateNode),Pe=l,St=c;break;case 5:Ye||cn(a,n);case 6:if(l=Pe,c=St,Pe=null,Nn(t,n,a),Pe=l,St=c,Pe!==null)if(St)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(a.stateNode)}catch(h){Me(a,n,h)}else try{Pe.removeChild(a.stateNode)}catch(h){Me(a,n,h)}break;case 18:Pe!==null&&(St?(t=Pe,a_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),gr(t)):a_(Pe,a.stateNode));break;case 4:l=Pe,c=St,Pe=a.stateNode.containerInfo,St=!0,Nn(t,n,a),Pe=l,St=c;break;case 0:case 11:case 14:case 15:Ye||ii(2,a,n),Ye||ii(4,a,n),Nn(t,n,a);break;case 1:Ye||(cn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cg(a,n,l)),Nn(t,n,a);break;case 21:Nn(t,n,a);break;case 22:Ye=(l=Ye)||a.memoizedState!==null,Nn(t,n,a),Ye=l;break;default:Nn(t,n,a)}}function vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gr(t)}catch(a){Me(n,n.return,a)}}function fb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mg),n;default:throw Error(r(435,t.tag))}}function tf(t,n){var a=fb(t);n.forEach(function(l){var c=Eb.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function It(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(fi(y.type)){Pe=y.stateNode,St=!1;break e}break;case 5:Pe=y.stateNode,St=!1;break e;case 3:case 4:Pe=y.stateNode.containerInfo,St=!0;break e}y=y.return}if(Pe===null)throw Error(r(160));_g(h,g,c),Pe=null,St=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)yg(n,t),n=n.sibling}var Wt=null;function yg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:It(n,t),Mt(t),l&4&&(ii(3,t,t.return),$a(3,t),ii(5,t,t.return));break;case 1:It(n,t),Mt(t),l&512&&(Ye||a===null||cn(a,a.return)),l&64&&xn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Wt;if(It(n,t),Mt(t),l&512&&(Ye||a===null||cn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ta]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),ut(h,l,a),h[ct]=t,et(h),l=h;break e;case"link":var g=d_("link","href",c).get(l+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(h=g[y],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}h=c.createElement(l),ut(h,l,a),c.head.appendChild(h);break;case"meta":if(g=d_("meta","content",c).get(l+(a.content||""))){for(y=0;y<g.length;y++)if(h=g[y],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}h=c.createElement(l),ut(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[ct]=t,et(h),l=h}t.stateNode=l}else m_(c,t.type,t.stateNode);else t.stateNode=h_(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?m_(c,t.type,t.stateNode):h_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zc(t,t.memoizedProps,a.memoizedProps)}break;case 27:It(n,t),Mt(t),l&512&&(Ye||a===null||cn(a,a.return)),a!==null&&l&4&&Zc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(It(n,t),Mt(t),l&512&&(Ye||a===null||cn(a,a.return)),t.flags&32){c=t.stateNode;try{Es(c,"")}catch(D){Me(t,t.return,D)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Zc(t,c,a!==null?a.memoizedProps:c)),l&1024&&(ef=!0);break;case 6:if(It(n,t),Mt(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(D){Me(t,t.return,D)}}break;case 3:if(po=null,c=Wt,Wt=ho(n.containerInfo),It(n,t),Wt=c,Mt(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gr(n.containerInfo)}catch(D){Me(t,t.return,D)}ef&&(ef=!1,Eg(t));break;case 4:l=Wt,Wt=ho(t.stateNode.containerInfo),It(n,t),Mt(t),Wt=l;break;case 12:It(n,t),Mt(t);break;case 13:It(n,t),Mt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(of=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,I=xn,L=Ye;if(xn=I||c,Ye=L||b,It(n,t),Ye=L,xn=I,Mt(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||xn||Ye||Wi(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(h=b.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=b.stateNode;var j=b.memoizedProps.style,M=j!=null&&j.hasOwnProperty("display")?j.display:null;y.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(D){Me(b,b.return,D)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(D){Me(b,b.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tf(t,a))));break;case 19:It(n,t),Mt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tf(t,l)));break;case 30:break;case 21:break;default:It(n,t),Mt(t)}}function Mt(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(hg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=$c(t);Jl(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(Es(g,""),a.flags&=-33);var y=$c(t);Jl(t,y,g);break;case 3:case 4:var b=a.stateNode.containerInfo,I=$c(t);Jc(t,I,b);break;default:throw Error(r(161))}}catch(L){Me(t,t.return,L)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Eg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Eg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pg(t,n.alternate,n),n=n.sibling}function Wi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ii(4,n,n.return),Wi(n);break;case 1:cn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cg(n,n.return,a),Wi(n);break;case 27:or(n.stateNode);case 26:case 5:cn(n,n.return),Wi(n);break;case 22:n.memoizedState===null&&Wi(n);break;case 30:Wi(n);break;default:Wi(n)}t=t.sibling}}function ai(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:ai(c,h,a),$a(4,h);break;case 1:if(ai(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Me(l,l.return,I)}if(l=h,c=l.updateQueue,c!==null){var y=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Xm(b[c],y)}catch(I){Me(l,l.return,I)}}a&&g&64&&ug(h),Ja(h,h.return);break;case 27:dg(h);case 26:case 5:ai(c,h,a),a&&l===null&&g&4&&fg(h),Ja(h,h.return);break;case 12:ai(c,h,a);break;case 13:ai(c,h,a),a&&g&4&&vg(c,h);break;case 22:h.memoizedState===null&&ai(c,h,a),Ja(h,h.return);break;case 30:break;default:ai(c,h,a)}n=n.sibling}}function nf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Pa(a))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pa(t))}function fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sg(t,n,a,l),n=n.sibling}function Sg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fn(t,n,a,l),c&2048&&$a(9,n);break;case 1:fn(t,n,a,l);break;case 3:fn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pa(t)));break;case 12:if(c&2048){fn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,y=h.onPostCommit;typeof y=="function"&&y(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Me(n,n.return,b)}}else fn(t,n,a,l);break;case 13:fn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?fn(t,n,a,l):er(t,n):h._visibility&2?fn(t,n,a,l):(h._visibility|=2,zs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&nf(g,n);break;case 24:fn(t,n,a,l),c&2048&&sf(n.alternate,n);break;default:fn(t,n,a,l)}}function zs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,g=n,y=a,b=l,I=g.flags;switch(g.tag){case 0:case 11:case 15:zs(h,g,y,b,c),$a(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?zs(h,g,y,b,c):er(h,g):(L._visibility|=2,zs(h,g,y,b,c)),c&&I&2048&&nf(g.alternate,g);break;case 24:zs(h,g,y,b,c),c&&I&2048&&sf(g.alternate,g);break;default:zs(h,g,y,b,c)}n=n.sibling}}function er(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:er(a,l),c&2048&&nf(l.alternate,l);break;case 24:er(a,l),c&2048&&sf(l.alternate,l);break;default:er(a,l)}n=n.sibling}}var tr=8192;function Hs(t){if(t.subtreeFlags&tr)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 26:Hs(t),t.flags&tr&&t.memoizedState!==null&&Wb(Wt,t.memoizedState,t.memoizedProps);break;case 5:Hs(t);break;case 3:case 4:var n=Wt;Wt=ho(t.stateNode.containerInfo),Hs(t),Wt=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=tr,tr=16777216,Hs(t),tr=n):Hs(t));break;default:Hs(t)}}function Tg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function nr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nt=l,Rg(l,t)}Tg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 0:case 11:case 15:nr(t),t.flags&2048&&ii(9,t,t.return);break;case 3:nr(t);break;case 12:nr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,eo(t)):nr(t);break;default:nr(t)}}function eo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];nt=l,Rg(l,t)}Tg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ii(8,n,n.return),eo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,eo(n));break;default:eo(n)}t=t.sibling}}function Rg(t,n){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:ii(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,nt=l;else e:for(a=t;nt!==null;){l=nt;var c=l.sibling,h=l.return;if(gg(l),l===a){nt=null;break e}if(c!==null){c.return=h,nt=c;break e}nt=h}}}var hb={getCacheForType:function(t){var n=ft(We),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},db=typeof WeakMap=="function"?WeakMap:Map,we=0,ke=null,de=null,ye=0,Ae=0,Dt=null,ri=!1,Bs=!1,af=!1,On=0,Ve=0,li=0,Zi=0,rf=0,Gt=0,Vs=0,ir=null,bt=null,lf=!1,of=0,to=1/0,no=null,oi=null,ot=0,ui=null,qs=null,Gs=0,uf=0,cf=null,wg=null,sr=0,ff=null;function kt(){if((we&2)!==0&&ye!==0)return ye&-ye;if(k.T!==null){var t=Is;return t!==0?t:vf()}return Vd()}function Ag(){Gt===0&&(Gt=(ye&536870912)===0||Re?Pd():536870912);var t=qt.current;return t!==null&&(t.flags|=32),Gt}function Lt(t,n,a){(t===ke&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(Ys(t,0),ci(t,ye,Gt,!1)),ba(t,a),((we&2)===0||t!==ke)&&(t===ke&&((we&2)===0&&(Zi|=a),Ve===4&&ci(t,ye,Gt,!1)),hn(t))}function xg(t,n,a){if((we&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Sa(t,n),c=l?gb(t,n):mf(t,n,!0),h=l;do{if(c===0){Bs&&!l&&ci(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!mb(a)){c=mf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var y=t;c=ir;var b=y.current.memoizedState.isDehydrated;if(b&&(Ys(y,g).flags|=256),g=mf(y,g,!1),g!==2){if(af&&!b){y.errorRecoveryDisabledLanes|=h,Zi|=h,c=4;break e}h=bt,bt=c,h!==null&&(bt===null?bt=h:bt.push.apply(bt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Ys(t,0),ci(t,n,0,!0);break}e:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ci(l,n,Gt,!ri);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=of+300-ln(),10<c)){if(ci(l,n,Gt,!ri),dl(l,0,!0)!==0)break e;l.timeoutHandle=i_(Ng.bind(null,l,a,bt,no,lf,n,Gt,Zi,Vs,ri,h,2,-0,0),c);break e}Ng(l,a,bt,no,lf,n,Gt,Zi,Vs,ri,h,0,-0,0)}}break}while(!0);hn(t)}function Ng(t,n,a,l,c,h,g,y,b,I,L,j,M,D){if(t.timeoutHandle=-1,j=n.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(fr={stylesheets:null,count:0,unsuspend:Xb},bg(n),j=Zb(),j!==null)){t.cancelPendingCommit=j(Ug.bind(null,t,n,h,a,l,c,g,y,b,L,1,M,D)),ci(t,h,g,!I);return}Ug(t,n,h,a,l,c,g,y,b)}function mb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!Nt(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ci(t,n,a,l){n&=~rf,n&=~Zi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-xt(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&Hd(t,a,n)}function io(){return(we&6)===0?(ar(0),!1):!0}function hf(){if(de!==null){if(Ae===0)var t=de.return;else t=de,bn=Yi=null,xc(t),js=null,Xa=0,t=de;for(;t!==null;)og(t.alternate,t),t=t.return;de=null}}function Ys(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Mb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hf(),ke=t,de=a=yn(t.current,null),ye=n,Ae=0,Dt=null,ri=!1,Bs=Sa(t,n),af=!1,Vs=Gt=rf=Zi=li=Ve=0,bt=ir=null,lf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-xt(l),h=1<<c;n|=t[c],l&=~h}return On=n,Rl(),a}function Og(t,n){ue=null,k.H=Gl,n===Ha||n===kl?(n=Km(),Ae=3):n===Gm?(n=Km(),Ae=4):Ae=n===Qp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dt=n,de===null&&(Ve=1,Xl(t,zt(n,t.current)))}function Ig(){var t=k.H;return k.H=Gl,t===null?Gl:t}function Mg(){var t=k.A;return k.A=hb,t}function df(){Ve=4,ri||(ye&4194048)!==ye&&qt.current!==null||(Bs=!0),(li&134217727)===0&&(Zi&134217727)===0||ke===null||ci(ke,ye,Gt,!1)}function mf(t,n,a){var l=we;we|=2;var c=Ig(),h=Mg();(ke!==t||ye!==n)&&(no=null,Ys(t,n)),n=!1;var g=Ve;e:do try{if(Ae!==0&&de!==null){var y=de,b=Dt;switch(Ae){case 8:hf(),g=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(n=!0);var I=Ae;if(Ae=0,Dt=null,Fs(t,y,b,I),a&&Bs){g=0;break e}break;default:I=Ae,Ae=0,Dt=null,Fs(t,y,b,I)}}pb(),g=Ve;break}catch(L){Og(t,L)}while(!0);return n&&t.shellSuspendCounter++,bn=Yi=null,we=l,k.H=c,k.A=h,de===null&&(ke=null,ye=0,Rl()),g}function pb(){for(;de!==null;)Dg(de)}function gb(t,n){var a=we;we|=2;var l=Ig(),c=Mg();ke!==t||ye!==n?(no=null,to=ln()+500,Ys(t,n)):Bs=Sa(t,n);e:do try{if(Ae!==0&&de!==null){n=de;var h=Dt;t:switch(Ae){case 1:Ae=0,Dt=null,Fs(t,n,h,1);break;case 2:case 9:if(Ym(h)){Ae=0,Dt=null,kg(n);break}n=function(){Ae!==2&&Ae!==9||ke!==t||(Ae=7),hn(t)},h.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Ym(h)?(Ae=0,Dt=null,kg(n)):(Ae=0,Dt=null,Fs(t,n,h,7));break;case 5:var g=null;switch(de.tag){case 26:g=de.memoizedState;case 5:case 27:var y=de;if(!g||p_(g)){Ae=0,Dt=null;var b=y.sibling;if(b!==null)de=b;else{var I=y.return;I!==null?(de=I,so(I)):de=null}break t}}Ae=0,Dt=null,Fs(t,n,h,5);break;case 6:Ae=0,Dt=null,Fs(t,n,h,6);break;case 8:hf(),Ve=6;break e;default:throw Error(r(462))}}_b();break}catch(L){Og(t,L)}while(!0);return bn=Yi=null,k.H=l,k.A=c,we=a,de!==null?0:(ke=null,ye=0,Rl(),Ve)}function _b(){for(;de!==null&&!zE();)Dg(de)}function Dg(t){var n=rg(t.alternate,t,On);t.memoizedProps=t.pendingProps,n===null?so(t):de=n}function kg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=eg(a,n,n.pendingProps,n.type,void 0,ye);break;case 11:n=eg(a,n,n.pendingProps,n.type.render,n.ref,ye);break;case 5:xc(n);default:og(a,n),n=de=Lm(n,On),n=rg(a,n,On)}t.memoizedProps=t.pendingProps,n===null?so(t):de=n}function Fs(t,n,a,l){bn=Yi=null,xc(n),js=null,Xa=0;var c=n.return;try{if(rb(t,c,n,a,ye)){Ve=1,Xl(t,zt(a,t.current)),de=null;return}}catch(h){if(c!==null)throw de=c,h;Ve=1,Xl(t,zt(a,t.current)),de=null;return}n.flags&32768?(Re||l===1?t=!0:Bs||(ye&536870912)!==0?t=!1:(ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lg(n,t)):so(n)}function so(t){var n=t;do{if((n.flags&32768)!==0){Lg(n,ri);return}t=n.return;var a=ob(n.alternate,n,On);if(a!==null){de=a;return}if(n=n.sibling,n!==null){de=n;return}de=n=t}while(n!==null);Ve===0&&(Ve=5)}function Lg(t,n){do{var a=ub(t.alternate,t);if(a!==null){a.flags&=32767,de=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){de=t;return}de=t=a}while(t!==null);Ve=6,de=null}function Ug(t,n,a,l,c,h,g,y,b){t.cancelPendingCommit=null;do ao();while(ot!==0);if((we&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=ic,XE(t,a,h,g,y,b),t===ke&&(de=ke=null,ye=0),qs=n,ui=t,Gs=a,uf=h,cf=c,wg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sb(cl,function(){return Bg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=Y.p,Y.p=2,g=we,we|=4;try{cb(t,n,a)}finally{we=g,Y.p=c,k.T=l}}ot=1,jg(),Pg(),zg()}}function jg(){if(ot===1){ot=0;var t=ui,n=qs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=Y.p;Y.p=2;var c=we;we|=4;try{yg(n,t);var h=wf,g=Rm(t.containerInfo),y=h.focusedElem,b=h.selectionRange;if(g!==y&&y&&y.ownerDocument&&Cm(y.ownerDocument.documentElement,y)){if(b!==null&&$u(y)){var I=b.start,L=b.end;if(L===void 0&&(L=I),"selectionStart"in y)y.selectionStart=I,y.selectionEnd=Math.min(L,y.value.length);else{var j=y.ownerDocument||document,M=j&&j.defaultView||window;if(M.getSelection){var D=M.getSelection(),ae=y.textContent.length,ee=Math.min(b.start,ae),Oe=b.end===void 0?ee:Math.min(b.end,ae);!D.extend&&ee>Oe&&(g=Oe,Oe=ee,ee=g);var x=Tm(y,ee),C=Tm(y,Oe);if(x&&C&&(D.rangeCount!==1||D.anchorNode!==x.node||D.anchorOffset!==x.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var O=j.createRange();O.setStart(x.node,x.offset),D.removeAllRanges(),ee>Oe?(D.addRange(O),D.extend(C.node,C.offset)):(O.setEnd(C.node,C.offset),D.addRange(O))}}}}for(j=[],D=y;D=D.parentNode;)D.nodeType===1&&j.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<j.length;y++){var U=j[y];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}vo=!!Rf,wf=Rf=null}finally{we=c,Y.p=l,k.T=a}}t.current=n,ot=2}}function Pg(){if(ot===2){ot=0;var t=ui,n=qs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=Y.p;Y.p=2;var c=we;we|=4;try{pg(t,n.alternate,n)}finally{we=c,Y.p=l,k.T=a}}ot=3}}function zg(){if(ot===4||ot===3){ot=0,HE();var t=ui,n=qs,a=Gs,l=wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ot=5:(ot=0,qs=ui=null,Hg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(oi=null),Iu(a),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ea,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=Y.p,Y.p=2,k.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var y=l[g];h(y.value,{componentStack:y.stack})}}finally{k.T=n,Y.p=c}}(Gs&3)!==0&&ao(),hn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===ff?sr++:(sr=0,ff=t):sr=0,ar(0)}}function Hg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Pa(n)))}function ao(t){return jg(),Pg(),zg(),Bg()}function Bg(){if(ot!==5)return!1;var t=ui,n=uf;uf=0;var a=Iu(Gs),l=k.T,c=Y.p;try{Y.p=32>a?32:a,k.T=null,a=cf,cf=null;var h=ui,g=Gs;if(ot=0,qs=ui=null,Gs=0,(we&6)!==0)throw Error(r(331));var y=we;if(we|=4,Cg(h.current),Sg(h,h.current,g,a),we=y,ar(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ea,h)}catch{}return!0}finally{Y.p=c,k.T=l,Hg(t,n)}}function Vg(t,n,a){n=zt(a,n),n=Vc(t.stateNode,n,2),t=Jn(t,n,2),t!==null&&(ba(t,2),hn(t))}function Me(t,n,a){if(t.tag===3)Vg(t,t,a);else for(;n!==null;){if(n.tag===3){Vg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oi===null||!oi.has(l))){t=zt(a,t),a=Fp(2),l=Jn(n,a,2),l!==null&&(Kp(a,l,n,t),ba(l,2),hn(l));break}}n=n.return}}function pf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new db;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(af=!0,c.add(a),t=vb.bind(null,t,n,a),n.then(t,t))}function vb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ke===t&&(ye&a)===a&&(Ve===4||Ve===3&&(ye&62914560)===ye&&300>ln()-of?(we&2)===0&&Ys(t,0):rf|=a,Vs===ye&&(Vs=0)),hn(t)}function qg(t,n){n===0&&(n=zd()),t=As(t,n),t!==null&&(ba(t,n),hn(t))}function yb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),qg(t,a)}function Eb(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),qg(t,a)}function Sb(t,n){return Au(t,n)}var ro=null,Ks=null,gf=!1,lo=!1,_f=!1,$i=0;function hn(t){t!==Ks&&t.next===null&&(Ks===null?ro=Ks=t:Ks=Ks.next=t),lo=!0,gf||(gf=!0,Tb())}function ar(t,n){if(!_f&&lo){_f=!0;do for(var a=!1,l=ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,y=l.pingedLanes;h=(1<<31-xt(42|t)+1)-1,h&=c&~(g&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Kg(l,h))}else h=ye,h=dl(l,l===ke?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Sa(l,h)||(a=!0,Kg(l,h));l=l.next}while(a);_f=!1}}function bb(){Gg()}function Gg(){lo=gf=!1;var t=0;$i!==0&&(Ib()&&(t=$i),$i=0);for(var n=ln(),a=null,l=ro;l!==null;){var c=l.next,h=Yg(l,n);h===0?(l.next=null,a===null?ro=c:a.next=c,c===null&&(Ks=a)):(a=l,(t!==0||(h&3)!==0)&&(lo=!0)),l=c}ar(t)}function Yg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-xt(h),y=1<<g,b=c[g];b===-1?((y&a)===0||(y&l)!==0)&&(c[g]=QE(y,n)):b<=n&&(t.expiredLanes|=y),h&=~y}if(n=ke,a=ye,a=dl(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xu(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Sa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&xu(l),Iu(a)){case 2:case 8:a=Ud;break;case 32:a=cl;break;case 268435456:a=jd;break;default:a=cl}return l=Fg.bind(null,t),a=Au(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&xu(l),t.callbackPriority=2,t.callbackNode=null,2}function Fg(t,n){if(ot!==0&&ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ao()&&t.callbackNode!==a)return null;var l=ye;return l=dl(t,t===ke?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xg(t,l,n),Yg(t,ln()),t.callbackNode!=null&&t.callbackNode===a?Fg.bind(null,t):null)}function Kg(t,n){if(ao())return null;xg(t,n,!0)}function Tb(){Db(function(){(we&6)!==0?Au(Ld,bb):Gg()})}function vf(){return $i===0&&($i=Pd()),$i}function Qg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vl(""+t)}function Xg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Cb(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Qg((c[vt]||null).action),g=l.submitter;g&&(n=(n=g[vt]||null)?Qg(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var y=new bl("action","action",null,l,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($i!==0){var b=g?Xg(c,g):new FormData(c);jc(a,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(y.preventDefault(),b=g?Xg(c,g):new FormData(c),jc(a,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var yf=0;yf<nc.length;yf++){var Ef=nc[yf],Rb=Ef.toLowerCase(),wb=Ef[0].toUpperCase()+Ef.slice(1);Xt(Rb,"on"+wb)}Xt(xm,"onAnimationEnd"),Xt(Nm,"onAnimationIteration"),Xt(Om,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(qS,"onTransitionRun"),Xt(GS,"onTransitionStart"),Xt(YS,"onTransitionCancel"),Xt(Im,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rr));function Wg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var y=l[g],b=y.instance,I=y.currentTarget;if(y=y.listener,b!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=I;try{h(c)}catch(L){Ql(L)}c.currentTarget=null,h=b}else for(g=0;g<l.length;g++){if(y=l[g],b=y.instance,I=y.currentTarget,y=y.listener,b!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=I;try{h(c)}catch(L){Ql(L)}c.currentTarget=null,h=b}}}}function me(t,n){var a=n[Mu];a===void 0&&(a=n[Mu]=new Set);var l=t+"__bubble";a.has(l)||(Zg(n,t,2,!1),a.add(l))}function Sf(t,n,a){var l=0;n&&(l|=4),Zg(a,t,l,n)}var oo="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[oo]){t[oo]=!0,Gd.forEach(function(a){a!=="selectionchange"&&(Ab.has(a)||Sf(a,!1,t),Sf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oo]||(n[oo]=!0,Sf("selectionchange",!1,n))}}function Zg(t,n,a,l){switch(S_(n)){case 2:var c=eT;break;case 8:c=tT;break;default:c=Uf}a=c.bind(null,n,a,t),c=void 0,!qu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Tf(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var y=l.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=ms(y),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=h=g;continue e}y=y.parentNode}}l=l.return}sm(function(){var I=h,L=Bu(a),j=[];e:{var M=Mm.get(t);if(M!==void 0){var D=bl,ae=t;switch(t){case"keypress":if(El(a)===0)break e;case"keydown":case"keyup":D=SS;break;case"focusin":ae="focus",D=Ku;break;case"focusout":ae="blur",D=Ku;break;case"beforeblur":case"afterblur":D=Ku;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=CS;break;case xm:case Nm:case Om:D=hS;break;case Im:D=wS;break;case"scroll":case"scrollend":D=lS;break;case"wheel":D=xS;break;case"copy":case"cut":case"paste":D=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=um;break;case"toggle":case"beforetoggle":D=OS}var ee=(n&4)!==0,Oe=!ee&&(t==="scroll"||t==="scrollend"),x=ee?M!==null?M+"Capture":null:M;ee=[];for(var C=I,O;C!==null;){var U=C;if(O=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||O===null||x===null||(U=Ra(C,x),U!=null&&ee.push(lr(C,U,O))),Oe)break;C=C.return}0<ee.length&&(M=new D(M,ae,null,a,L),j.push({event:M,listeners:ee}))}}if((n&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",D=t==="mouseout"||t==="pointerout",M&&a!==Hu&&(ae=a.relatedTarget||a.fromElement)&&(ms(ae)||ae[ds]))break e;if((D||M)&&(M=L.window===L?L:(M=L.ownerDocument)?M.defaultView||M.parentWindow:window,D?(ae=a.relatedTarget||a.toElement,D=I,ae=ae?ms(ae):null,ae!==null&&(Oe=u(ae),ee=ae.tag,ae!==Oe||ee!==5&&ee!==27&&ee!==6)&&(ae=null)):(D=null,ae=I),D!==ae)){if(ee=lm,U="onMouseLeave",x="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ee=um,U="onPointerLeave",x="onPointerEnter",C="pointer"),Oe=D==null?M:Ca(D),O=ae==null?M:Ca(ae),M=new ee(U,C+"leave",D,a,L),M.target=Oe,M.relatedTarget=O,U=null,ms(L)===I&&(ee=new ee(x,C+"enter",ae,a,L),ee.target=O,ee.relatedTarget=Oe,U=ee),Oe=U,D&&ae)t:{for(ee=D,x=ae,C=0,O=ee;O;O=Qs(O))C++;for(O=0,U=x;U;U=Qs(U))O++;for(;0<C-O;)ee=Qs(ee),C--;for(;0<O-C;)x=Qs(x),O--;for(;C--;){if(ee===x||x!==null&&ee===x.alternate)break t;ee=Qs(ee),x=Qs(x)}ee=null}else ee=null;D!==null&&$g(j,M,D,ee,!1),ae!==null&&Oe!==null&&$g(j,Oe,ae,ee,!0)}}e:{if(M=I?Ca(I):window,D=M.nodeName&&M.nodeName.toLowerCase(),D==="select"||D==="input"&&M.type==="file")var X=_m;else if(pm(M))if(vm)X=HS;else{X=PS;var ce=jS}else D=M.nodeName,!D||D.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?I&&zu(I.elementType)&&(X=_m):X=zS;if(X&&(X=X(t,I))){gm(j,X,a,L);break e}ce&&ce(t,M,I),t==="focusout"&&I&&M.type==="number"&&I.memoizedProps.value!=null&&Pu(M,"number",M.value)}switch(ce=I?Ca(I):window,t){case"focusin":(pm(ce)||ce.contentEditable==="true")&&(Cs=ce,Ju=I,Da=null);break;case"focusout":Da=Ju=Cs=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,wm(j,a,L);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":wm(j,a,L)}var $;if(Xu)e:{switch(t){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Ts?dm(t,a)&&(te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(te="onCompositionStart");te&&(cm&&a.locale!=="ko"&&(Ts||te!=="onCompositionStart"?te==="onCompositionEnd"&&Ts&&($=am()):(Xn=L,Gu="value"in Xn?Xn.value:Xn.textContent,Ts=!0)),ce=uo(I,te),0<ce.length&&(te=new om(te,t,null,a,L),j.push({event:te,listeners:ce}),$?te.data=$:($=mm(a),$!==null&&(te.data=$)))),($=MS?DS(t,a):kS(t,a))&&(te=uo(I,"onBeforeInput"),0<te.length&&(ce=new om("onBeforeInput","beforeinput",null,a,L),j.push({event:ce,listeners:te}),ce.data=$)),Cb(j,t,I,a,L)}Wg(j,n)})}function lr(t,n,a){return{instance:t,listener:n,currentTarget:a}}function uo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ra(t,a),c!=null&&l.unshift(lr(t,c,h)),c=Ra(t,n),c!=null&&l.push(lr(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $g(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var y=a,b=y.alternate,I=y.stateNode;if(y=y.tag,b!==null&&b===l)break;y!==5&&y!==26&&y!==27||I===null||(b=I,c?(I=Ra(a,h),I!=null&&g.unshift(lr(a,I,b))):c||(I=Ra(a,h),I!=null&&g.push(lr(a,I,b)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var xb=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(Nb,"")}function e_(t,n){return n=Jg(n),Jg(t)===n}function co(){}function Ne(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Es(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Es(t,""+l);break;case"className":pl(t,"class",l);break;case"tabIndex":pl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(t,a,l);break;case"style":nm(t,l,h);break;case"data":if(n!=="object"){pl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=vl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Ne(t,n,"name",c.name,c,null),Ne(t,n,"formEncType",c.formEncType,c,null),Ne(t,n,"formMethod",c.formMethod,c,null),Ne(t,n,"formTarget",c.formTarget,c,null)):(Ne(t,n,"encType",c.encType,c,null),Ne(t,n,"method",c.method,c,null),Ne(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=vl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=co);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=vl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":me("beforetoggle",t),me("toggle",t),ml(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ml(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=aS.get(a)||a,ml(t,a,l))}}function Cf(t,n,a,l,c,h){switch(a){case"style":nm(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Es(t,l):(typeof l=="number"||typeof l=="bigint")&&Es(t,""+l);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[vt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ml(t,a,l)}}}function ut(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ne(t,n,h,g,a,null)}}c&&Ne(t,n,"srcSet",a.srcSet,a,null),l&&Ne(t,n,"src",a.src,a,null);return;case"input":me("invalid",t);var y=h=g=c=null,b=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var L=a[l];if(L!=null)switch(l){case"name":c=L;break;case"type":g=L;break;case"checked":b=L;break;case"defaultChecked":I=L;break;case"value":h=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,n));break;default:Ne(t,n,l,L,a,null)}}$d(t,h,y,b,I,g,c,!1),gl(t);return;case"select":me("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":h=y;break;case"defaultValue":g=y;break;case"multiple":l=y;default:Ne(t,n,c,y,a,null)}n=h,a=g,t.multiple=!!l,n!=null?ys(t,!!l,n,!1):a!=null&&ys(t,!!l,a,!0);return;case"textarea":me("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":l=y;break;case"defaultValue":c=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ne(t,n,g,y,a,null)}em(t,l,c,h),gl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(t,n,b,l,a,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(l=0;l<rr.length;l++)me(rr[l],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ne(t,n,I,l,a,null)}return;default:if(zu(n)){for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!==void 0&&Cf(t,n,L,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&Ne(t,n,y,l,a,null))}function Ob(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,y=null,b=null,I=null,L=null;for(D in a){var j=a[D];if(a.hasOwnProperty(D)&&j!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=j;default:l.hasOwnProperty(D)||Ne(t,n,D,null,l,j)}}for(var M in l){var D=l[M];if(j=a[M],l.hasOwnProperty(M)&&(D!=null||j!=null))switch(M){case"type":h=D;break;case"name":c=D;break;case"checked":I=D;break;case"defaultChecked":L=D;break;case"value":g=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:D!==j&&Ne(t,n,M,D,l,j)}}ju(t,g,y,b,I,L,h,c);return;case"select":D=g=y=M=null;for(h in a)if(b=a[h],a.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":D=b;default:l.hasOwnProperty(h)||Ne(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=a[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":M=h;break;case"defaultValue":y=h;break;case"multiple":g=h;default:h!==b&&Ne(t,n,c,h,l,b)}n=y,a=g,l=D,M!=null?ys(t,!!a,M,!1):!!l!=!!a&&(n!=null?ys(t,!!a,n,!0):ys(t,!!a,a?[]:"",!1));return;case"textarea":D=M=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ne(t,n,y,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":M=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Ne(t,n,g,c,l,h)}Jd(t,M,D);return;case"option":for(var ae in a)if(M=a[ae],a.hasOwnProperty(ae)&&M!=null&&!l.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:Ne(t,n,ae,null,l,M)}for(b in l)if(M=l[b],D=a[b],l.hasOwnProperty(b)&&M!==D&&(M!=null||D!=null))switch(b){case"selected":t.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ne(t,n,b,M,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in a)M=a[ee],a.hasOwnProperty(ee)&&M!=null&&!l.hasOwnProperty(ee)&&Ne(t,n,ee,null,l,M);for(I in l)if(M=l[I],D=a[I],l.hasOwnProperty(I)&&M!==D&&(M!=null||D!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,n));break;default:Ne(t,n,I,M,l,D)}return;default:if(zu(n)){for(var Oe in a)M=a[Oe],a.hasOwnProperty(Oe)&&M!==void 0&&!l.hasOwnProperty(Oe)&&Cf(t,n,Oe,void 0,l,M);for(L in l)M=l[L],D=a[L],!l.hasOwnProperty(L)||M===D||M===void 0&&D===void 0||Cf(t,n,L,M,l,D);return}}for(var x in a)M=a[x],a.hasOwnProperty(x)&&M!=null&&!l.hasOwnProperty(x)&&Ne(t,n,x,null,l,M);for(j in l)M=l[j],D=a[j],!l.hasOwnProperty(j)||M===D||M==null&&D==null||Ne(t,n,j,M,l,D)}var Rf=null,wf=null;function fo(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function Ib(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(t){return s_.resolve(null).then(t).catch(kb)}:i_;function kb(t){setTimeout(function(){throw t})}function fi(t){return t==="head"}function a_(t,n){var a=n,l=0,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var g=t.ownerDocument;if(a&1&&or(g.documentElement),a&2&&or(g.body),a&4)for(a=g.head,or(a),g=a.firstChild;g;){var y=g.nextSibling,b=g.nodeName;g[Ta]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=y}}if(c===0){t.removeChild(h),gr(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);gr(n)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nf(a),Du(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Lb(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ta])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Zt(t.nextSibling),t===null)break}return null}function Ub(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zt(t.nextSibling),t===null))return null;return t}function Of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jb(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var If=null;function r_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function l_(t,n,a){switch(n=fo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function or(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Du(t)}var Yt=new Map,o_=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var In=Y.d;Y.d={f:Pb,r:zb,D:Hb,C:Bb,L:Vb,m:qb,X:Yb,S:Gb,M:Fb};function Pb(){var t=In.f(),n=io();return t||n}function zb(t){var n=ps(t);n!==null&&n.tag===5&&n.type==="form"?xp(n):In.r(t)}var Xs=typeof document>"u"?null:document;function u_(t,n,a){var l=Xs;if(l&&typeof n=="string"&&n){var c=Pt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),o_.has(c)||(o_.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ut(n,"link",t),et(n),l.head.appendChild(n)))}}function Hb(t){In.D(t),u_("dns-prefetch",t,null)}function Bb(t,n){In.C(t,n),u_("preconnect",t,n)}function Vb(t,n,a){In.L(t,n,a);var l=Xs;if(l&&t&&n){var c='link[rel="preload"][as="'+Pt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Pt(a.imageSizes)+'"]')):c+='[href="'+Pt(t)+'"]';var h=c;switch(n){case"style":h=Ws(t);break;case"script":h=Zs(t)}Yt.has(h)||(t=v({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Yt.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(ur(h))||n==="script"&&l.querySelector(cr(h))||(n=l.createElement("link"),ut(n,"link",t),et(n),l.head.appendChild(n)))}}function qb(t,n){In.m(t,n);var a=Xs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Zs(t)}if(!Yt.has(h)&&(t=v({rel:"modulepreload",href:t},n),Yt.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cr(h)))return}l=a.createElement("link"),ut(l,"link",t),et(l),a.head.appendChild(l)}}}function Gb(t,n,a){In.S(t,n,a);var l=Xs;if(l&&t){var c=gs(l).hoistableStyles,h=Ws(t);n=n||"default";var g=c.get(h);if(!g){var y={loading:0,preload:null};if(g=l.querySelector(ur(h)))y.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Yt.get(h))&&Mf(t,a);var b=g=l.createElement("link");et(b),ut(b,"link",t),b._p=new Promise(function(I,L){b.onload=I,b.onerror=L}),b.addEventListener("load",function(){y.loading|=1}),b.addEventListener("error",function(){y.loading|=2}),y.loading|=4,mo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(h,g)}}}function Yb(t,n){In.X(t,n);var a=Xs;if(a&&t){var l=gs(a).hoistableScripts,c=Zs(t),h=l.get(c);h||(h=a.querySelector(cr(c)),h||(t=v({src:t,async:!0},n),(n=Yt.get(c))&&Df(t,n),h=a.createElement("script"),et(h),ut(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Fb(t,n){In.M(t,n);var a=Xs;if(a&&t){var l=gs(a).hoistableScripts,c=Zs(t),h=l.get(c);h||(h=a.querySelector(cr(c)),h||(t=v({src:t,async:!0,type:"module"},n),(n=Yt.get(c))&&Df(t,n),h=a.createElement("script"),et(h),ut(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function c_(t,n,a,l){var c=(c=re.current)?ho(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ws(a.href),a=gs(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ws(a.href);var h=gs(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(ur(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Yt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(t,a),h||Kb(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zs(a),a=gs(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ws(t){return'href="'+Pt(t)+'"'}function ur(t){return'link[rel="stylesheet"]['+t+"]"}function f_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Kb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ut(n,"link",a),et(n),t.head.appendChild(n))}function Zs(t){return'[src="'+Pt(t)+'"]'}function cr(t){return"script[async]"+t}function h_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(l)return n.instance=l,et(l),l;var c=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),ut(l,"style",c),mo(l,a.precedence,t),n.instance=l;case"stylesheet":c=Ws(a.href);var h=t.querySelector(ur(c));if(h)return n.state.loading|=4,n.instance=h,et(h),h;l=f_(a),(c=Yt.get(c))&&Mf(l,c),h=(t.ownerDocument||t).createElement("link"),et(h);var g=h;return g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),ut(h,"link",l),n.state.loading|=4,mo(h,a.precedence,t),n.instance=h;case"script":return h=Zs(a.src),(c=t.querySelector(cr(h)))?(n.instance=c,et(c),c):(l=a,(c=Yt.get(h))&&(l=v({},a),Df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),et(c),ut(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mo(l,a.precedence,t));return n.instance}function mo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var y=l[g];if(y.dataset.precedence===n)h=y;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var po=null;function d_(t,n,a){if(po===null){var l=new Map,c=po=new Map;c.set(a,l)}else c=po,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[Ta]||h[ct]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var y=l.get(g);y?y.push(h):l.set(g,[h])}}return l}function m_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Qb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var fr=null;function Xb(){}function Wb(t,n,a){if(fr===null)throw Error(r(475));var l=fr;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ws(a.href),h=t.querySelector(ur(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,et(h);return}h=t.ownerDocument||t,a=f_(a),(c=Yt.get(c))&&Mf(a,c),h=h.createElement("link"),et(h);var g=h;g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),ut(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Zb(){if(fr===null)throw Error(r(475));var t=fr;return t.stylesheets&&t.count===0&&kf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&kf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _o=null;function kf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_o=new Map,n.forEach($b,t),_o=null,go.call(t))}function $b(t,n){if(!(n.state.loading&4)){var a=_o.get(t);if(a)var l=a.get(null);else{a=new Map,_o.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var hr={$$typeof:q,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Jb(t,n,a,l,c,h,g,y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.hiddenUpdates=Nu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function g_(t,n,a,l,c,h,g,y,b,I,L,j){return t=new Jb(t,n,a,g,y,b,I,j),n=1,h===!0&&(n|=24),h=Ot(3,null,null,n),t.current=h,h.stateNode=t,n=mc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},vc(h),t}function __(t){return t?(t=xs,t):xs}function v_(t,n,a,l,c,h){c=__(c),l.context===null?l.context=c:l.pendingContext=c,l=$n(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=Jn(t,l,n),a!==null&&(Lt(a,t,n),Va(a,t,n))}function y_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Lf(t,n){y_(t,n),(t=t.alternate)&&y_(t,n)}function E_(t){if(t.tag===13){var n=As(t,67108864);n!==null&&Lt(n,t,67108864),Lf(t,67108864)}}var vo=!0;function eT(t,n,a,l){var c=k.T;k.T=null;var h=Y.p;try{Y.p=2,Uf(t,n,a,l)}finally{Y.p=h,k.T=c}}function tT(t,n,a,l){var c=k.T;k.T=null;var h=Y.p;try{Y.p=8,Uf(t,n,a,l)}finally{Y.p=h,k.T=c}}function Uf(t,n,a,l){if(vo){var c=jf(l);if(c===null)Tf(t,n,l,yo,a),b_(t,l);else if(iT(c,t,n,a,l))l.stopPropagation();else if(b_(t,l),n&4&&-1<nT.indexOf(t)){for(;c!==null;){var h=ps(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Li(h.pendingLanes);if(g!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var b=1<<31-xt(g);y.entanglements[1]|=b,g&=~b}hn(h),(we&6)===0&&(to=ln()+500,ar(0))}}break;case 13:y=As(h,2),y!==null&&Lt(y,h,2),io(),Lf(h,2)}if(h=jf(l),h===null&&Tf(t,n,l,yo,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else Tf(t,n,l,null,a)}}function jf(t){return t=Bu(t),Pf(t)}var yo=null;function Pf(t){if(yo=null,t=ms(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yo=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(BE()){case Ld:return 2;case Ud:return 8;case cl:case VE:return 32;case jd:return 268435456;default:return 32}default:return 32}}var zf=!1,hi=null,di=null,mi=null,dr=new Map,mr=new Map,pi=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":dr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(n.pointerId)}}function pr(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ps(n),n!==null&&E_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function iT(t,n,a,l,c){switch(n){case"focusin":return hi=pr(hi,t,n,a,l,c),!0;case"dragenter":return di=pr(di,t,n,a,l,c),!0;case"mouseover":return mi=pr(mi,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return dr.set(h,pr(dr.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,mr.set(h,pr(mr.get(h)||null,t,n,a,l,c)),!0}return!1}function T_(t){var n=ms(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,WE(t.priority,function(){if(a.tag===13){var l=kt();l=Ou(l);var c=As(a,l);c!==null&&Lt(c,a,l),Lf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Hu=l,a.target.dispatchEvent(l),Hu=null}else return n=ps(a),n!==null&&E_(n),t.blockedOn=a,!1;n.shift()}return!0}function C_(t,n,a){Eo(t)&&a.delete(n)}function sT(){zf=!1,hi!==null&&Eo(hi)&&(hi=null),di!==null&&Eo(di)&&(di=null),mi!==null&&Eo(mi)&&(mi=null),dr.forEach(C_),mr.forEach(C_)}function So(t,n){t.blockedOn===n&&(t.blockedOn=null,zf||(zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sT)))}var bo=null;function R_(t){bo!==t&&(bo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bo===t&&(bo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Pf(l||a)===null)continue;break}var h=ps(a);h!==null&&(t.splice(n,3),n-=3,jc(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function gr(t){function n(b){return So(b,t)}hi!==null&&So(hi,t),di!==null&&So(di,t),mi!==null&&So(mi,t),dr.forEach(n),mr.forEach(n);for(var a=0;a<pi.length;a++){var l=pi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pi.length&&(a=pi[0],a.blockedOn===null);)T_(a),a.blockedOn===null&&pi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[vt]||null;if(typeof h=="function")g||R_(a);else if(g){var y=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[vt]||null)y=g.formAction;else if(Pf(c)!==null)continue}else y=g.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),R_(a)}}}function Hf(t){this._internalRoot=t}To.prototype.render=Hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=kt();v_(a,l,t,n,null,null)},To.prototype.unmount=Hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;v_(t.current,2,null,t,null,null),io(),n[ds]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var n=Vd();t={blockedOn:null,target:t,priority:n};for(var a=0;a<pi.length&&n!==0&&n<pi[a].priority;a++);pi.splice(a,0,t),a===0&&T_(t)}};var w_=e.version;if(w_!=="19.1.0")throw Error(r(527,w_,"19.1.0"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var aT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Ea=Co.inject(aT),At=Co}catch{}}return vr.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Vp,h=qp,g=Gp,y=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(y=n.unstable_transitionCallbacks)),n=g_(t,1,!1,null,null,a,l,c,h,g,y,null),t[ds]=n.current,bf(t),new Hf(n)},vr.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",h=Vp,g=qp,y=Gp,b=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),n=g_(t,1,!0,n,a??null,l,c,h,g,y,b,I),n.context=__(null),a=n.current,l=kt(),l=Ou(l),c=$n(l),c.callback=null,Jn(a,c,l),a=l,n.current.lanes=a,ba(n,a),hn(n),t[ds]=n.current,bf(t),new To(n)},vr.version="19.1.0",vr}var U_;function pT(){if(U_)return qf.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qf.exports=mT(),qf.exports}var gT=pT(),yr={},j_;function _T(){if(j_)return yr;j_=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.parse=f,yr.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,w){const A=new u,P=E.length;if(P<2)return A;const H=(w==null?void 0:w.decode)||v;let z=0;do{const F=E.indexOf("=",z);if(F===-1)break;const q=E.indexOf(";",z),ne=q===-1?P:q;if(F>ne){z=E.lastIndexOf(";",F-1)+1;continue}const W=d(E,z,F),Ee=m(E,F,W),ve=E.slice(W,Ee);if(A[ve]===void 0){let _e=d(E,F+1,ne),R=m(E,ne,_e);const B=H(E.slice(_e,R));A[ve]=B}z=ne+1}while(z<P);return A}function d(E,w,A){do{const P=E.charCodeAt(w);if(P!==32&&P!==9)return w}while(++w<A);return A}function m(E,w,A){for(;w>A;){const P=E.charCodeAt(--w);if(P!==32&&P!==9)return w+1}return A}function p(E,w,A){const P=(A==null?void 0:A.encode)||encodeURIComponent;if(!s.test(E))throw new TypeError(`argument name is invalid: ${E}`);const H=P(w);if(!e.test(H))throw new TypeError(`argument val is invalid: ${w}`);let z=E+"="+H;if(!A)return z;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);z+="; Max-Age="+A.maxAge}if(A.domain){if(!i.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);z+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);z+="; Path="+A.path}if(A.expires){if(!S(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);z+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(z+="; HttpOnly"),A.secure&&(z+="; Secure"),A.partitioned&&(z+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return z}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function S(E){return o.call(E)==="[object Date]"}return yr}_T();var P_="popstate";function vT(s={}){function e(o,u){let{pathname:f="/",search:d="",hash:m=""}=fs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),ch("",{pathname:f,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),d="";if(f&&f.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof u=="string"?u:Lr(u))}function r(o,u){Kt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ET(e,i,r,s)}function ze(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Kt(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yT(){return Math.random().toString(36).substring(2,10)}function z_(s,e){return{usr:s.state,key:s.key,idx:e}}function ch(s,e,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?fs(e):e,state:i,key:e&&e.key||r||yT()}}function Lr({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function fs(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function ET(s,e,i,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,d="POP",m=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function S(){d="POP";let H=v(),z=H==null?null:H-p;p=H,m&&m({action:d,location:P.location,delta:z})}function E(H,z){d="PUSH";let F=ch(P.location,H,z);i&&i(F,H),p=v()+1;let q=z_(F,p),ne=P.createHref(F);try{f.pushState(q,"",ne)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(ne)}u&&m&&m({action:d,location:P.location,delta:1})}function w(H,z){d="REPLACE";let F=ch(P.location,H,z);i&&i(F,H),p=v();let q=z_(F,p),ne=P.createHref(F);f.replaceState(q,"",ne),u&&m&&m({action:d,location:P.location,delta:0})}function A(H){let z=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof H=="string"?H:Lr(H);return F=F.replace(/ $/,"%20"),ze(z,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,z)}let P={get action(){return d},get location(){return s(o,f)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(P_,S),m=H,()=>{o.removeEventListener(P_,S),m=null}},createHref(H){return e(o,H)},createURL:A,encodeLocation(H){let z=A(H);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:w,go(H){return f.go(H)}};return P}function ny(s,e,i="/"){return ST(s,e,i,!1)}function ST(s,e,i,r){let o=typeof e=="string"?fs(e):e,u=zn(o.pathname||"/",i);if(u==null)return null;let f=iy(s);bT(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let p=DT(u);d=IT(f[m],p,r)}return d}function iy(s,e=[],i=[],r=""){let o=(u,f,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ze(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=Un([r,m.relativePath]),v=i.concat(m);u.children&&u.children.length>0&&(ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),iy(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:NT(p,u.index),routesMeta:v})};return s.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let m of sy(u.path))o(u,f,m)}),e}function sy(s){let e=s.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=sy(r.join("/")),d=[];return d.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...f),d.map(m=>s.startsWith("/")&&m===""?"/":m)}function bT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:OT(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var TT=/^:[\w-]+$/,CT=3,RT=2,wT=1,AT=10,xT=-2,H_=s=>s==="*";function NT(s,e){let i=s.split("/"),r=i.length;return i.some(H_)&&(r+=xT),e&&(r+=RT),i.filter(o=>!H_(o)).reduce((o,u)=>o+(TT.test(u)?CT:u===""?wT:AT),r)}function OT(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function IT(s,e,i=!1){let{routesMeta:r}=s,o={},u="/",f=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=Uo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),E=m.route;if(!S&&p&&i&&!r[r.length-1].route.index&&(S=Uo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Un([u,S.pathname]),pathnameBase:jT(Un([u,S.pathnameBase])),route:E}),S.pathnameBase!=="/"&&(u=Un([u,S.pathnameBase]))}return f}function Uo(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=MT(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:S},E)=>{if(v==="*"){let A=d[E]||"";f=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const w=d[E];return S&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:s}}function MT(s,e=!1,i=!0){Kt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function DT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function zn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function kT(s,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?fs(s):s;return{pathname:i?i.startsWith("/")?i:LT(i,e):e,search:PT(r),hash:zT(o)}}function LT(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Kf(s,e,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function kh(s){let e=UT(s);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Lh(s,e,i,r=!1){let o;typeof s=="string"?o=fs(s):(o={...s},ze(!o.pathname||!o.pathname.includes("?"),Kf("?","pathname","search",o)),ze(!o.pathname||!o.pathname.includes("#"),Kf("#","pathname","hash",o)),ze(!o.search||!o.search.includes("#"),Kf("#","search","hash",o)));let u=s===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=i;else{let S=e.length-1;if(!r&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),S-=1;o.pathname=E.join("/")}d=S>=0?e[S]:"/"}let m=kT(o,d),p=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Un=s=>s.join("/").replace(/\/\/+/g,"/"),jT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),PT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function HT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var ay=["POST","PUT","PATCH","DELETE"];new Set(ay);var BT=["GET",...ay];new Set(BT);var fa=N.createContext(null);fa.displayName="DataRouter";var ou=N.createContext(null);ou.displayName="DataRouterState";var ry=N.createContext({isTransitioning:!1});ry.displayName="ViewTransition";var VT=N.createContext(new Map);VT.displayName="Fetchers";var qT=N.createContext(null);qT.displayName="Await";var an=N.createContext(null);an.displayName="Navigation";var Xr=N.createContext(null);Xr.displayName="Location";var gn=N.createContext({outlet:null,matches:[],isDataRoute:!1});gn.displayName="Route";var Uh=N.createContext(null);Uh.displayName="RouteError";function GT(s,{relative:e}={}){ze(ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=N.useContext(an),{hash:o,pathname:u,search:f}=Wr(s,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:Un([i,u])),r.createHref({pathname:d,search:f,hash:o})}function ha(){return N.useContext(Xr)!=null}function Oi(){return ze(ha(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Xr).location}var ly="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oy(s){N.useContext(an).static||N.useLayoutEffect(s)}function Ii(){let{isDataRoute:s}=N.useContext(gn);return s?iC():YT()}function YT(){ze(ha(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(fa),{basename:e,navigator:i}=N.useContext(an),{matches:r}=N.useContext(gn),{pathname:o}=Oi(),u=JSON.stringify(kh(r)),f=N.useRef(!1);return oy(()=>{f.current=!0}),N.useCallback((m,p={})=>{if(Kt(f.current,ly),!f.current)return;if(typeof m=="number"){i.go(m);return}let v=Lh(m,JSON.parse(u),o,p.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Un([e,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[e,i,u,o,s])}N.createContext(null);function Wr(s,{relative:e}={}){let{matches:i}=N.useContext(gn),{pathname:r}=Oi(),o=JSON.stringify(kh(i));return N.useMemo(()=>Lh(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function FT(s,e){return uy(s,e)}function uy(s,e,i,r){var F;ze(ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=N.useContext(an),{matches:f}=N.useContext(gn),d=f[f.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",S=d&&d.route;{let q=S&&S.path||"";cy(p,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=Oi(),w;if(e){let q=typeof e=="string"?fs(e):e;ze(v==="/"||((F=q.pathname)==null?void 0:F.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=E;let A=w.pathname||"/",P=A;if(v!=="/"){let q=v.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(q.length).join("/")}let H=!u&&i&&i.matches&&i.matches.length>0?i.matches:ny(s,{pathname:P});Kt(S||H!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Kt(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=ZT(H&&H.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Un([v,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Un([v,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,i,r);return e&&z?N.createElement(Xr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},z):z}function KT(){let s=nC(),e=HT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),i?N.createElement("pre",{style:o},i):null,f)}var QT=N.createElement(KT,null),XT=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?N.createElement(gn.Provider,{value:this.props.routeContext},N.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WT({routeContext:s,match:e,children:i}){let r=N.useContext(fa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(gn.Provider,{value:s},i)}function ZT(s,e=[],i=null,r=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let o=s,u=i==null?void 0:i.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ze(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,d=-1;if(i)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:S}=i,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||E){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,p,v)=>{let S,E=!1,w=null,A=null;i&&(S=u&&p.route.id?u[p.route.id]:void 0,w=p.route.errorElement||QT,f&&(d<0&&v===0?(cy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):d===v&&(E=!0,A=p.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,v+1)),H=()=>{let z;return S?z=w:E?z=A:p.route.Component?z=N.createElement(p.route.Component,null):p.route.element?z=p.route.element:z=m,N.createElement(WT,{match:p,routeContext:{outlet:m,matches:P,isDataRoute:i!=null},children:z})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?N.createElement(XT,{location:i.location,revalidation:i.revalidation,component:w,error:S,children:H(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):H()},null)}function jh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $T(s){let e=N.useContext(fa);return ze(e,jh(s)),e}function JT(s){let e=N.useContext(ou);return ze(e,jh(s)),e}function eC(s){let e=N.useContext(gn);return ze(e,jh(s)),e}function Ph(s){let e=eC(s),i=e.matches[e.matches.length-1];return ze(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function tC(){return Ph("useRouteId")}function nC(){var r;let s=N.useContext(Uh),e=JT("useRouteError"),i=Ph("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[i]}function iC(){let{router:s}=$T("useNavigate"),e=Ph("useNavigate"),i=N.useRef(!1);return oy(()=>{i.current=!0}),N.useCallback(async(o,u={})=>{Kt(i.current,ly),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...u}))},[s,e])}var B_={};function cy(s,e,i){!e&&!B_[s]&&(B_[s]=!0,Kt(!1,i))}N.memo(sC);function sC({routes:s,future:e,state:i}){return uy(s,void 0,i,e)}function Qf({to:s,replace:e,state:i,relative:r}){ze(ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(an);Kt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(gn),{pathname:f}=Oi(),d=Ii(),m=Lh(s,kh(u),f,r==="path"),p=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(p),{replace:e,state:i,relative:r})},[d,p,r,e,i]),null}function dn(s){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aC({basename:s="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:u=!1}){ze(!ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=fs(i));let{pathname:m="/",search:p="",hash:v="",state:S=null,key:E="default"}=i,w=N.useMemo(()=>{let A=zn(m,f);return A==null?null:{location:{pathname:A,search:p,hash:v,state:S,key:E},navigationType:r}},[f,m,p,v,S,E,r]);return Kt(w!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(an.Provider,{value:d},N.createElement(Xr.Provider,{children:e,value:w}))}function rC({children:s,location:e}){return FT(fh(s),e)}function fh(s,e=[]){let i=[];return N.Children.forEach(s,(r,o)=>{if(!N.isValidElement(r))return;let u=[...e,o];if(r.type===N.Fragment){i.push.apply(i,fh(r.props.children,u));return}ze(r.type===dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=fh(r.props.children,u)),i.push(f)}),i}var No="get",Oo="application/x-www-form-urlencoded";function uu(s){return s!=null&&typeof s.tagName=="string"}function lC(s){return uu(s)&&s.tagName.toLowerCase()==="button"}function oC(s){return uu(s)&&s.tagName.toLowerCase()==="form"}function uC(s){return uu(s)&&s.tagName.toLowerCase()==="input"}function cC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function fC(s,e){return s.button===0&&(!e||e==="_self")&&!cC(s)}var Ro=null;function hC(){if(Ro===null)try{new FormData(document.createElement("form"),0),Ro=!1}catch{Ro=!0}return Ro}var dC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xf(s){return s!=null&&!dC.has(s)?(Kt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oo}"`),null):s}function mC(s,e){let i,r,o,u,f;if(oC(s)){let d=s.getAttribute("action");r=d?zn(d,e):null,i=s.getAttribute("method")||No,o=Xf(s.getAttribute("enctype"))||Oo,u=new FormData(s)}else if(lC(s)||uC(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||d.getAttribute("action");if(r=m?zn(m,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||No,o=Xf(s.getAttribute("formenctype"))||Xf(d.getAttribute("enctype"))||Oo,u=new FormData(d,s),!hC()){let{name:p,type:v,value:S}=s;if(v==="image"){let E=p?`${p}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else p&&u.append(p,S)}}else{if(uu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=No,r=null,o=Oo,f=s}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:u,body:f}}function zh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function pC(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function _C(s,e,i){let r=await Promise.all(s.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await pC(u,i);return f.links?f.links():[]}return[]}));return SC(r.flat(1).filter(gC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V_(s,e,i,r,o,u){let f=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,d=(m,p)=>{var v;return i[p].pathname!==m.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||d(m,p)):u==="data"?e.filter((m,p)=>{var S;let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function vC(s,e,{includeHydrateFallback:i}={}){return yC(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yC(s){return[...new Set(s)]}function EC(s){let e={},i=Object.keys(s).sort();for(let r of i)e[r]=s[r];return e}function SC(s,e){let i=new Set;return new Set(e),s.reduce((r,o)=>{let u=JSON.stringify(EC(o));return i.has(u)||(i.add(u),r.push({key:u,link:o})),r},[])}var bC=new Set([100,101,204,205]);function TC(s,e){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":e&&zn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function fy(){let s=N.useContext(fa);return zh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function CC(){let s=N.useContext(ou);return zh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Hh=N.createContext(void 0);Hh.displayName="FrameworkContext";function hy(){let s=N.useContext(Hh);return zh(s,"You must render this element inside a <HydratedRouter> element"),s}function RC(s,e){let i=N.useContext(Hh),[r,o]=N.useState(!1),[u,f]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:S}=e,E=N.useRef(null);N.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let P=z=>{z.forEach(F=>{f(F.isIntersecting)})},H=new IntersectionObserver(P,{threshold:.5});return E.current&&H.observe(E.current),()=>{H.disconnect()}}},[s]),N.useEffect(()=>{if(r){let P=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(P)}}},[r]);let w=()=>{o(!0)},A=()=>{o(!1),f(!1)};return i?s!=="intent"?[u,E,{}]:[u,E,{onFocus:Er(d,w),onBlur:Er(m,A),onMouseEnter:Er(p,w),onMouseLeave:Er(v,A),onTouchStart:Er(S,w)}]:[!1,E,{}]}function Er(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function wC({page:s,...e}){let{router:i}=fy(),r=N.useMemo(()=>ny(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?N.createElement(xC,{page:s,matches:r,...e}):null}function AC(s){let{manifest:e,routeModules:i}=hy(),[r,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return _C(s,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[s,e,i]),r}function xC({page:s,matches:e,...i}){let r=Oi(),{manifest:o,routeModules:u}=hy(),{basename:f}=fy(),{loaderData:d,matches:m}=CC(),p=N.useMemo(()=>V_(s,e,m,o,r,"data"),[s,e,m,o,r]),v=N.useMemo(()=>V_(s,e,m,o,r,"assets"),[s,e,m,o,r]),S=N.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let A=new Set,P=!1;if(e.forEach(z=>{var q;let F=o.routes[z.route.id];!F||!F.hasLoader||(!p.some(ne=>ne.route.id===z.route.id)&&z.route.id in d&&((q=u[z.route.id])!=null&&q.shouldRevalidate)||F.hasClientLoader?P=!0:A.add(z.route.id))}),A.size===0)return[];let H=TC(s,f);return P&&A.size>0&&H.searchParams.set("_routes",e.filter(z=>A.has(z.route.id)).map(z=>z.route.id).join(",")),[H.pathname+H.search]},[f,d,r,o,p,e,s,u]),E=N.useMemo(()=>vC(v,o),[v,o]),w=AC(v);return N.createElement(N.Fragment,null,S.map(A=>N.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),E.map(A=>N.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),w.map(({key:A,link:P})=>N.createElement("link",{key:A,...P})))}function NC(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dy&&(window.__reactRouterVersion="7.5.3")}catch{}function OC({basename:s,children:e,window:i}){let r=N.useRef();r.current==null&&(r.current=vT({window:i,v5Compat:!0}));let o=r.current,[u,f]=N.useState({action:o.action,location:o.location}),d=N.useCallback(m=>{N.startTransition(()=>f(m))},[f]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(aC,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:o})}var my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=N.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:d,target:m,to:p,preventScrollReset:v,viewTransition:S,...E},w){let{basename:A}=N.useContext(an),P=typeof p=="string"&&my.test(p),H,z=!1;if(typeof p=="string"&&P&&(H=p,dy))try{let R=new URL(window.location.href),B=p.startsWith("//")?new URL(R.protocol+p):new URL(p),Se=zn(B.pathname,A);B.origin===R.origin&&Se!=null?p=Se+B.search+B.hash:z=!0}catch{Kt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=GT(p,{relative:o}),[q,ne,W]=RC(r,E),Ee=kC(p,{replace:f,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:S});function ve(R){e&&e(R),R.defaultPrevented||Ee(R)}let _e=N.createElement("a",{...E,...W,href:H||F,onClick:z||u?e:ve,ref:NC(w,ne),target:m,"data-discover":!P&&i==="render"?"true":void 0});return q&&!P?N.createElement(N.Fragment,null,_e,N.createElement(wC,{page:F})):_e});Ft.displayName="Link";var IC=N.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:d,children:m,...p},v){let S=Wr(f,{relative:p.relative}),E=Oi(),w=N.useContext(ou),{navigator:A,basename:P}=N.useContext(an),H=w!=null&&zC(S)&&d===!0,z=A.encodeLocation?A.encodeLocation(S).pathname:S.pathname,F=E.pathname,q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(F=F.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&P&&(q=zn(q,P)||q);const ne=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let W=F===z||!o&&F.startsWith(z)&&F.charAt(ne)==="/",Ee=q!=null&&(q===z||!o&&q.startsWith(z)&&q.charAt(z.length)==="/"),ve={isActive:W,isPending:Ee,isTransitioning:H},_e=W?e:void 0,R;typeof r=="function"?R=r(ve):R=[r,W?"active":null,Ee?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let B=typeof u=="function"?u(ve):u;return N.createElement(Ft,{...p,"aria-current":_e,className:R,ref:v,style:B,to:f,viewTransition:d},typeof m=="function"?m(ve):m)});IC.displayName="NavLink";var MC=N.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:u,method:f=No,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:S,...E},w)=>{let A=jC(),P=PC(d,{relative:p}),H=f.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&my.test(d),F=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let ne=q.nativeEvent.submitter,W=(ne==null?void 0:ne.getAttribute("formmethod"))||f;A(ne||q.currentTarget,{fetcherKey:e,method:W,navigate:i,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:S})};return N.createElement("form",{ref:w,method:H,action:P,onSubmit:r?m:F,...E,"data-discover":!z&&s==="render"?"true":void 0})});MC.displayName="Form";function DC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function py(s){let e=N.useContext(fa);return ze(e,DC(s)),e}function kC(s,{target:e,replace:i,state:r,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=Ii(),m=Oi(),p=Wr(s,{relative:u});return N.useCallback(v=>{if(fC(v,e)){v.preventDefault();let S=i!==void 0?i:Lr(m)===Lr(p);d(s,{replace:S,state:r,preventScrollReset:o,relative:u,viewTransition:f})}},[m,d,p,i,r,e,s,o,u,f])}var LC=0,UC=()=>`__${String(++LC)}__`;function jC(){let{router:s}=py("useSubmit"),{basename:e}=N.useContext(an),i=tC();return N.useCallback(async(r,o={})=>{let{action:u,method:f,encType:d,formData:m,body:p}=mC(r,e);if(o.navigate===!1){let v=o.fetcherKey||UC();await s.fetch(v,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function PC(s,{relative:e}={}){let{basename:i}=N.useContext(an),r=N.useContext(gn);ze(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Wr(s||".",{relative:e})},f=Oi();if(s==null){u.search=f.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(S=>S).forEach(S=>d.append("index",S));let v=d.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Un([i,u.pathname])),Lr(u)}function zC(s,e={}){let i=N.useContext(ry);ze(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=py("useViewTransitionState"),o=Wr(s,{relative:e.relative});if(!i.isTransitioning)return!1;let u=zn(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=zn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Uo(o.pathname,f)!=null||Uo(o.pathname,u)!=null}new TextEncoder;[...bC];const HC=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(s,e){if(!s)throw da(e)},da=function(s){return new Error("Firebase Database ("+gy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},BC=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],d=s[i++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const u=s[i++],f=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,d=f?s[o+1]:0,m=o+2<s.length,p=m?s[o+2]:0,v=u>>2,S=(u&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;m||(w=64,f||(E=64)),r.push(i[v],i[S],i[E],i[w])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(_y(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):BC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||d==null||p==null||S==null)throw new VC;const E=u<<2|d>>4;if(r.push(E),p!==64){const w=d<<4&240|p>>2;if(r.push(w),S!==64){const A=p<<6&192|S;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vy=function(s){const e=_y(s);return Bh.encodeByteArray(e,!0)},jo=function(s){return vy(s).replace(/\./g,"")},Po=function(s){try{return Bh.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(s){return yy(void 0,s)}function yy(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!GC(i)||(s[i]=yy(s[i],e[i]));return s}function GC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=()=>YC().__FIREBASE_DEFAULTS__,KC=()=>{if(typeof process>"u"||typeof q_>"u")return;const s=q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},QC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Po(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return HC()||FC()||KC()||QC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ey=s=>{var e,i;return(i=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},XC=s=>{const e=Ey(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Sy=()=>{var s;return(s=Vh())===null||s===void 0?void 0:s.config},by=s=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(s){return s.endsWith(".cloudworkstations.dev")}async function Ty(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[jo(JSON.stringify(i)),jo(JSON.stringify(f)),""].join(".")}const Ar={};function ZC(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ar))Ar[e]?s.emulator.push(e):s.prod.push(e);return s}function $C(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let G_=!1;function Cy(s,e){if(typeof window>"u"||typeof document>"u"||!Zr(window.location.host)||Ar[s]===e||Ar[s]||G_)return;Ar[s]=e;function i(E){return`__firebase__banner__${E}`}const r="__firebase__banner",u=ZC().prod.length>0;function f(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{G_=!0,f()},E}function v(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function S(){const E=$C(r),w=i("text"),A=document.getElementById(w)||document.createElement("span"),P=i("learnmore"),H=document.getElementById(P)||document.createElement("a"),z=i("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;d(q),v(H,P);const ne=p();m(F,z),q.append(F,A,H,ne),document.body.appendChild(q)}u?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ry(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t1(){const s=_t();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function n1(){return gy.NODE_ADMIN===!0}function i1(){try{return typeof indexedDB=="object"}catch{return!1}}function s1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="FirebaseError";class Mi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=a1,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?r1(u,r):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Mi(o,d,r)}}function r1(s,e){return s.replace(l1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const l1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(s){return JSON.parse(s)}function $e(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=function(s){let e={},i={},r={},o="";try{const u=s.split(".");e=Ur(Po(u[0])||""),i=Ur(Po(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:o}},o1=function(s){const e=wy(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},u1=function(s){const e=wy(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function aa(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function hh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function zo(s,e,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=e.call(i,s[o],o,s));return r}function ss(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(Y_(u)&&Y_(f)){if(!ss(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Y_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rr(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function wr(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let S=0;S<16;S++)r[S]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let S=0;S<16;S++)r[S]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let S=16;S<80;S++){const E=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],m=this.chain_[4],p,v;for(let S=0;S<80;S++){S<40?S<20?(p=d^u&(f^d),v=1518500249):(p=u^f^d,v=1859775393):S<60?(p=u&f|d&(u|f),v=2400959708):(p=u^f^d,v=3395469782);const E=(o<<5|o>>>27)+p+m+v+r[S]&4294967295;m=d,d=f,f=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<i;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function f1(s,e){const i=new h1(s,e);return i.subscribe.bind(i)}class h1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");d1(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Wf),o.error===void 0&&(o.error=Wf),o.complete===void 0&&(o.complete=Wf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wf(){}function Gh(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,G(r<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(r)-56320;o=65536+(u<<10)+f}o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):o<65536?(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},fu=function(s){let e=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s){return s&&s._delegate?s._delegate:s}class as{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new cu;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_1(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(s){return s===Ji?void 0:s}function _1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new p1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ie||(Ie={}));const y1={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},E1=Ie.INFO,S1={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},b1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=S1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const T1=(s,e)=>e.some(i=>s instanceof i);let F_,K_;function C1(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ay=new WeakMap,dh=new WeakMap,xy=new WeakMap,Zf=new WeakMap,Fh=new WeakMap;function w1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(Si(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Ay.set(i,s)}).catch(()=>{}),Fh.set(e,s),e}function A1(s){if(dh.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});dh.set(s,e)}let mh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return dh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Si(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function x1(s){mh=s(mh)}function N1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call($f(this),e,...i);return xy.set(r,e.sort?e.sort():[e]),Si(r)}:R1().includes(s)?function(...e){return s.apply($f(this),e),Si(Ay.get(this))}:function(...e){return Si(s.apply($f(this),e))}}function O1(s){return typeof s=="function"?N1(s):(s instanceof IDBTransaction&&A1(s),T1(s,C1())?new Proxy(s,mh):s)}function Si(s){if(s instanceof IDBRequest)return w1(s);if(Zf.has(s))return Zf.get(s);const e=O1(s);return e!==s&&(Zf.set(s,e),Fh.set(e,s)),e}const $f=s=>Fh.get(s);function I1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),d=Si(f);return r&&f.addEventListener("upgradeneeded",m=>{r(Si(f.result),m.oldVersion,m.newVersion,Si(f.transaction),m)}),i&&f.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const M1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],Jf=new Map;function Q_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=D1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||M1.includes(i)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[i](...d),o&&m.done]))[0]};return Jf.set(e,u),u}x1(s=>({...s,get:(e,i,r)=>Q_(e,i)||s.get(e,i,r),has:(e,i)=>!!Q_(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",X_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Yh("@firebase/app"),U1="@firebase/app-compat",j1="@firebase/analytics-compat",P1="@firebase/analytics",z1="@firebase/app-check-compat",H1="@firebase/app-check",B1="@firebase/auth",V1="@firebase/auth-compat",q1="@firebase/database",G1="@firebase/data-connect",Y1="@firebase/database-compat",F1="@firebase/functions",K1="@firebase/functions-compat",Q1="@firebase/installations",X1="@firebase/installations-compat",W1="@firebase/messaging",Z1="@firebase/messaging-compat",$1="@firebase/performance",J1="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",iR="@firebase/storage-compat",sR="@firebase/firestore",aR="@firebase/ai",rR="@firebase/firestore-compat",lR="firebase",oR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]",uR={[ph]:"fire-core",[U1]:"fire-core-compat",[P1]:"fire-analytics",[j1]:"fire-analytics-compat",[H1]:"fire-app-check",[z1]:"fire-app-check-compat",[B1]:"fire-auth",[V1]:"fire-auth-compat",[q1]:"fire-rtdb",[G1]:"fire-data-connect",[Y1]:"fire-rtdb-compat",[F1]:"fire-fn",[K1]:"fire-fn-compat",[Q1]:"fire-iid",[X1]:"fire-iid-compat",[W1]:"fire-fcm",[Z1]:"fire-fcm-compat",[$1]:"fire-perf",[J1]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[iR]:"fire-gcs-compat",[sR]:"fire-fst",[rR]:"fire-fst-compat",[aR]:"fire-vertex","fire-js":"fire-js",[lR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map,cR=new Map,_h=new Map;function W_(s,e){try{s.container.addComponent(e)}catch(i){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ra(s){const e=s.name;if(_h.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;_h.set(e,s);for(const i of Ho.values())W_(i,s);for(const i of cR.values())W_(i,s);return!0}function Kh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Ut(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new $r("app","Firebase",fR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=oR;function Ny(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gh,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(i||(i=Sy()),!i)throw bi.create("no-options");const u=Ho.get(o);if(u){if(ss(i,u.options)&&ss(r,u.config))return u;throw bi.create("duplicate-app",{appName:o})}const f=new v1(o);for(const m of _h.values())f.addComponent(m);const d=new hR(i,r,f);return Ho.set(o,d),d}function Oy(s=gh){const e=Ho.get(s);if(!e&&s===gh&&Sy())return Ny();if(!e)throw bi.create("no-app",{appName:s});return e}function Ti(s,e,i){var r;let o=(r=uR[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(d.join(" "));return}ra(new as(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebase-heartbeat-database",mR=1,jr="firebase-heartbeat-store";let eh=null;function Iy(){return eh||(eh=I1(dR,mR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jr)}catch(i){console.warn(i)}}}}).catch(s=>{throw bi.create("idb-open",{originalErrorMessage:s.message})})),eh}async function pR(s){try{const i=(await Iy()).transaction(jr),r=await i.objectStore(jr).get(My(s));return await i.done,r}catch(e){if(e instanceof Mi)Hn.warn(e.message);else{const i=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hn.warn(i.message)}}}async function Z_(s,e){try{const r=(await Iy()).transaction(jr,"readwrite");await r.objectStore(jr).put(e,My(s)),await r.done}catch(i){if(i instanceof Mi)Hn.warn(i.message);else{const r=bi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hn.warn(r.message)}}}function My(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1024,_R=30;class vR{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ER(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_R){const f=SR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=$_(),{heartbeatsToSend:r,unsentEntries:o}=yR(this._heartbeatsCache.heartbeats),u=jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Hn.warn(i),""}}}function $_(){return new Date().toISOString().substring(0,10)}function yR(s,e=gR){const i=[];let r=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),J_(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),J_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i1()?s1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function J_(s){return jo(JSON.stringify({version:2,heartbeats:s})).length}function SR(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(s){ra(new as("platform-logger",e=>new k1(e),"PRIVATE")),ra(new as("heartbeat",e=>new vR(e),"PRIVATE")),Ti(ph,X_,s),Ti(ph,X_,"esm2017"),Ti("fire-js","")}bR("");function Qh(s,e){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(i[r[o]]=s[r[o]]);return i}function Dy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TR=Dy,ky=new $r("auth","Firebase",Dy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Yh("@firebase/auth");function CR(s,...e){Bo.logLevel<=Ie.WARN&&Bo.warn(`Auth (${pa}): ${s}`,...e)}function Io(s,...e){Bo.logLevel<=Ie.ERROR&&Bo.error(`Auth (${pa}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(s,...e){throw Wh(s,...e)}function nn(s,...e){return Wh(s,...e)}function Xh(s,e,i){const r=Object.assign(Object.assign({},TR()),{[e]:i});return new $r("auth","Firebase",r).create(e,{appName:s.name})}function jn(s){return Xh(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RR(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qt(s,"argument-error"),Xh(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wh(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return ky.create(s,...e)}function ie(s,e,...i){if(!s)throw Wh(e,...i)}function Dn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Io(e),new Error(e)}function Bn(s,e){s||Dn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function wR(){return ev()==="http:"||ev()==="https:"}function ev(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wR()||e1()||"connection"in navigator)?navigator.onLine:!0}function xR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,i){this.shortDelay=e,this.longDelay=i,Bn(i>e,"Short delay should be less than long delay!"),this.isMobile=qh()||Ry()}get(){return AR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(s,e){Bn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IR=new Jr(3e4,6e4);function Di(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Gn(s,e,i,r,o={}){return Uy(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const d=ma(Object.assign({key:s.config.apiKey},f)).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const p=Object.assign({method:e,headers:m},u);return JC()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Zr(s.emulatorConfig.host)&&(p.credentials="include"),Ly.fetch()(await jy(s,s.config.apiHost,i,d),p)})}async function Uy(s,e,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},NR),e);try{const o=new DR(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wo(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw wo(s,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw wo(s,"email-already-in-use",f);if(m==="USER_DISABLED")throw wo(s,"user-disabled",f);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xh(s,v,p);Qt(s,v)}}catch(o){if(o instanceof Mi)throw o;Qt(s,"network-request-failed",{message:String(o)})}}async function el(s,e,i,r,o={}){const u=await Gn(s,e,i,r,o);return"mfaPendingCredential"in u&&Qt(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function jy(s,e,i,r){const o=`${e}${i}?${r}`,u=s,f=u.config.emulator?Zh(s.config,o):`${s.config.apiScheme}://${o}`;return OR.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function MR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(nn(this.auth,"network-request-failed")),IR.get())})}}function wo(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=nn(s,e,r);return o.customData._tokenResponse=i,o}function tv(s){return s!==void 0&&s.enterprise!==void 0}class kR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return MR(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LR(s,e){return Gn(s,"GET","/v2/recaptchaConfig",Di(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(s,e){return Gn(s,"POST","/v1/accounts:delete",e)}async function Vo(s,e){return Gn(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jR(s,e=!1){const i=mt(s),r=await i.getIdToken(e),o=$h(r);ie(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:xr(th(o.auth_time)),issuedAtTime:xr(th(o.iat)),expirationTime:xr(th(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function th(s){return Number(s)*1e3}function $h(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Io("JWT malformed, contained fewer than 3 sections"),null;try{const o=Po(i);return o?JSON.parse(o):(Io("Failed to decode base64 JWT payload"),null)}catch(o){return Io("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nv(s){const e=$h(s);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Mi&&PR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function PR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xr(this.lastLoginAt),this.creationTime=xr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(s){var e;const i=s.auth,r=await s.getIdToken(),o=await la(s,Vo(i,{idToken:r}));ie(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Py(u.providerUserInfo):[],d=BR(s.providerData,f),m=s.isAnonymous,p=!(s.email&&u.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new yh(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(s,S)}async function HR(s){const e=mt(s);await qo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BR(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Py(s){return s.map(e=>{var{providerId:i}=e,r=Qh(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(s,e){const i=await Uy(s,{},async()=>{const r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await jy(s,o,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Ly.fetch()(f,{method:"POST",headers:d,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qR(s,e){return Gn(s,"POST","/v2/accounts:revokeToken",Di(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const i=nv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await VR(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,f=new ea;return r&&(ie(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(ie(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ie(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return Dn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(s,e){ie(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Jt{constructor(e){var{uid:i,auth:r,stsTokenManager:o}=e,u=Qh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new yh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await la(this,this.stsTokenManager.getToken(this.auth,e));return ie(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return jR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Jt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await qo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(jn(this.auth));const e=await this.getIdToken();return await la(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,o,u,f,d,m,p,v;const S=(r=i.displayName)!==null&&r!==void 0?r:void 0,E=(o=i.email)!==null&&o!==void 0?o:void 0,w=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,A=(f=i.photoURL)!==null&&f!==void 0?f:void 0,P=(d=i.tenantId)!==null&&d!==void 0?d:void 0,H=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,z=(p=i.createdAt)!==null&&p!==void 0?p:void 0,F=(v=i.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:q,emailVerified:ne,isAnonymous:W,providerData:Ee,stsTokenManager:ve}=i;ie(q&&ve,e,"internal-error");const _e=ea.fromJSON(this.name,ve);ie(typeof q=="string",e,"internal-error"),_i(S,e.name),_i(E,e.name),ie(typeof ne=="boolean",e,"internal-error"),ie(typeof W=="boolean",e,"internal-error"),_i(w,e.name),_i(A,e.name),_i(P,e.name),_i(H,e.name),_i(z,e.name),_i(F,e.name);const R=new Jt({uid:q,auth:e,email:E,emailVerified:ne,displayName:S,isAnonymous:W,photoURL:A,phoneNumber:w,tenantId:P,stsTokenManager:_e,createdAt:z,lastLoginAt:F});return Ee&&Array.isArray(Ee)&&(R.providerData=Ee.map(B=>Object.assign({},B))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,i,r=!1){const o=new ea;o.updateFromServerResponse(i);const u=new Jt({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await qo(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];ie(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Py(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new ea;d.updateFromIdToken(r);const m=new Jt({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function kn(s){Bn(s instanceof Function,"Expected a class definition");let e=iv.get(s);return e?(Bn(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,iv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}zy.type="NONE";const sv=zy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(s,e,i){return`firebase:${s}:${e}:${i}`}class ta{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Mo(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Vo(this.auth,{idToken:e}).catch(()=>{});return i?Jt._fromGetAccountInfoResponse(this.auth,i,e):null}return Jt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ta(kn(sv),e,r);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||kn(sv);const f=Mo(r,e.config.apiKey,e.name);let d=null;for(const p of i)try{const v=await p._get(f);if(v){let S;if(typeof v=="string"){const E=await Vo(e,{idToken:v}).catch(()=>{});if(!E)break;S=await Jt._fromGetAccountInfoResponse(e,E,v)}else S=Jt._fromJSON(e,v);p!==u&&(d=S),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ta(u,e,r):(u=m[0],d&&await u._set(f,d.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new ta(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yy(e))return"Blackberry";if(Fy(e))return"Webos";if(By(e))return"Safari";if((e.includes("chrome/")||Vy(e))&&!e.includes("edge/"))return"Chrome";if(Gy(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hy(s=_t()){return/firefox\//i.test(s)}function By(s=_t()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vy(s=_t()){return/crios\//i.test(s)}function qy(s=_t()){return/iemobile/i.test(s)}function Gy(s=_t()){return/android/i.test(s)}function Yy(s=_t()){return/blackberry/i.test(s)}function Fy(s=_t()){return/webos/i.test(s)}function Jh(s=_t()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function GR(s=_t()){var e;return Jh(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YR(){return t1()&&document.documentMode===10}function Ky(s=_t()){return Jh(s)||Gy(s)||Fy(s)||Yy(s)||/windows phone/i.test(s)||qy(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(s,e=[]){let i;switch(s){case"Browser":i=av(_t());break;case"Worker":i=`${av(_t())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,d)=>{try{const m=e(u);f(m)}catch(m){d(m)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(s,e={}){return Gn(s,"GET","/v2/passwordPolicy",Di(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=6;class XR{constructor(e){var i,r,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:QR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,o,u,f,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(i=m.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ky,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=kn(i)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Vo(this,{idToken:e}),r=await Jt._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ut(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await qo(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ut(this.app))return Promise.reject(jn(this));const i=e?mt(e):null;return i&&ie(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ut(this.app)?Promise.reject(jn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KR(this),i=new XR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await qR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&kn(e)||this._popupRedirectResolver;ie(i,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[kn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,r,o);return()=>{f=!0,m()}}else{const m=e.addObserver(i);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&CR(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function ki(s){return mt(s)}class rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=f1(i=>this.observer=i)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(s){hu=s}function Xy(s){return hu.loadJS(s)}function $R(){return hu.recaptchaEnterpriseScript}function JR(){return hu.gapiScript}function ew(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class tw{constructor(){this.enterprise=new nw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class nw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const iw="recaptcha-enterprise",Wy="NO_RECAPTCHA";class sw{constructor(e){this.type=iw,this.auth=ki(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{LR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new kR(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(m=>{d(m)})})}function o(u,f,d){const m=window.grecaptcha;tv(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(Wy)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(d=>{if(!i&&tv(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=$R();m.length!==0&&(m+=d),Xy(m).then(()=>{o(d,u,f)}).catch(p=>{f(p)})}}).catch(d=>{f(d)})})}}async function lv(s,e,i,r=!1,o=!1){const u=new sw(s);let f;if(o)f=Wy;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Eh(s,e,i,r,o){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await lv(s,e,i,i==="getOobCode");return r(s,f)}else return r(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await lv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(s,e){const i=Kh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(ss(u,e??{}))return o;Qt(o,"already-initialized")}return i.initialize({options:e})}function rw(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(kn);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lw(s,e,i){const r=ki(s);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=Zy(e),{host:f,port:d}=ow(e),m=d===null?"":`:${d}`,p={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(ss(p,r.config.emulator)&&ss(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Zr(f)?(Ty(`${u}//${f}${m}`),Cy("Auth",!0)):uw()}function Zy(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function ow(s){const e=Zy(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:ov(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:ov(f)}}}function ov(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function uw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,i){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}}async function cw(s,e){return Gn(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(s,e){return el(s,"POST","/v1/accounts:signInWithPassword",Di(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(s,e){return el(s,"POST","/v1/accounts:signInWithEmailLink",Di(s,e))}async function dw(s,e){return el(s,"POST","/v1/accounts:signInWithEmailLink",Di(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ed{constructor(e,i,r,o=null){super("password",r),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new Pr(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Pr(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,i,"signInWithPassword",fw);case"emailLink":return hw(e,{email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,r,"signUpPassword",cw);case"emailLink":return dw(e,{idToken:i,email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(s,e){return el(s,"POST","/v1/accounts:signInWithIdp",Di(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="http://localhost";class rs extends ed{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Qt("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=i,u=Qh(i,["providerId","signInMethod"]);if(!r||!o)return null;const f=new rs(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return na(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,na(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,na(e,i)}buildRequest(){const e={requestUri:mw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ma(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gw(s){const e=Rr(wr(s)).link,i=e?Rr(wr(e)).deep_link_id:null,r=Rr(wr(s)).deep_link_id;return(r?Rr(wr(r)).link:null)||r||i||e||s}class td{constructor(e){var i,r,o,u,f,d;const m=Rr(wr(e)),p=(i=m.apiKey)!==null&&i!==void 0?i:null,v=(r=m.oobCode)!==null&&r!==void 0?r:null,S=pw((o=m.mode)!==null&&o!==void 0?o:null);ie(p&&v&&S,"argument-error"),this.apiKey=p,this.operation=S,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.lang)!==null&&f!==void 0?f:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=gw(e);try{return new td(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,i){return Pr._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=td.parseLink(i);return ie(r,"argument-error"),Pr._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends nd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends tl{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return rs._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Mn.credential(i,r)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends tl{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends tl{constructor(){super("twitter.com")}static credential(e,i){return rs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ei.credential(i,r)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(s,e){return el(s,"POST","/v1/accounts:signUp",Di(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await Jt._fromIdTokenResponse(e,r,o),f=uv(r);return new ls({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=uv(r);return new ls({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Mi{constructor(e,i,r,o){var u;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new Go(e,i,r,o)}}function $y(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Go._fromErrorAndOperation(s,u,e,r):u})}async function vw(s,e,i=!1){const r=await la(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ls._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(s,e,i=!1){const{auth:r}=s;if(Ut(r.app))return Promise.reject(jn(r));const o="reauthenticate";try{const u=await la(s,$y(r,o,e,s),i);ie(u.idToken,r,"internal-error");const f=$h(u.idToken);ie(f,r,"internal-error");const{sub:d}=f;return ie(s.uid===d,r,"user-mismatch"),ls._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qt(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jy(s,e,i=!1){if(Ut(s.app))return Promise.reject(jn(s));const r="signIn",o=await $y(s,r,e),u=await ls._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}async function Ew(s,e){return Jy(ki(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0(s){const e=ki(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sw(s,e,i){if(Ut(s.app))return Promise.reject(jn(s));const r=ki(s),f=await Eh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_w).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&e0(s),m}),d=await ls._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(d.user),d}function bw(s,e,i){return Ut(s.app)?Promise.reject(jn(s)):Ew(mt(s),ga.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&e0(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(s,e){return Gn(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const r=mt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},f=await la(r,Tw(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const d=r.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function Cw(s,e,i,r){return mt(s).onIdTokenChanged(e,i,r)}function Rw(s,e,i){return mt(s).beforeAuthStateChanged(e,i)}function ww(s,e,i,r){return mt(s).onAuthStateChanged(e,i,r)}const Yo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1e3,xw=10;class i0 extends n0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ky(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,d,m)=>{this.notifyListeners(f,m)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);YR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xw):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}i0.type="LOCAL";const Nw=i0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends n0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}s0.type="SESSION";const a0=s0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new du(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(f).map(async p=>p(i.origin,u)),m=await Ow(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}du.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,m)=>{const p=id("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const E=S;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(E.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function Mw(s){mn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function Dw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kw(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Lw(){return r0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="firebaseLocalStorageDb",Uw=1,Fo="firebaseLocalStorage",o0="fbase_key";class nl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mu(s,e){return s.transaction([Fo],e?"readwrite":"readonly").objectStore(Fo)}function jw(){const s=indexedDB.deleteDatabase(l0);return new nl(s).toPromise()}function Sh(){const s=indexedDB.open(l0,Uw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Fo,{keyPath:o0})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Fo)?e(r):(r.close(),await jw(),e(await Sh()))})})}async function cv(s,e,i){const r=mu(s,!0).put({[o0]:e,value:i});return new nl(r).toPromise()}async function Pw(s,e){const i=mu(s,!1).get(e),r=await new nl(i).toPromise();return r===void 0?null:r.value}function fv(s,e){const i=mu(s,!0).delete(e);return new nl(i).toPromise()}const zw=800,Hw=3;class u0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>Hw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=du._getInstance(Lw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await Dw(),!this.activeServiceWorker)return;this.sender=new Iw(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sh();return await cv(e,Yo,"1"),await fv(e,Yo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>cv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>Pw(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=mu(o,!1).getAll();return new nl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u0.type="LOCAL";const Bw=u0;new Jr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(s,e){return e?kn(e):(ie(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends ed{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,i){return na(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Vw(s){return Jy(s.auth,new sd(s),s.bypassAuthState)}function qw(s){const{auth:e,user:i}=s;return ie(i,e,"internal-error"),yw(i,new sd(s),s.bypassAuthState)}async function Gw(s){const{auth:e,user:i}=s;return ie(i,e,"internal-error"),vw(i,new sd(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vw;case"linkViaPopup":case"linkViaRedirect":return Gw;case"reauthViaPopup":case"reauthViaRedirect":return qw;default:Qt(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Jr(2e3,1e4);async function Fw(s,e,i){if(Ut(s.app))return Promise.reject(nn(s,"operation-not-supported-in-this-environment"));const r=ki(s);RR(s,e,nd);const o=c0(r,i);return new ts(r,"signInViaPopup",e,o).executeNotNull()}class ts extends f0{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=id();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yw.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="pendingRedirect",Do=new Map;class Qw extends f0{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Do.get(this.auth._key());if(!e){try{const r=await Xw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Do.set(this.auth._key(),e)}return this.bypassAuthState||Do.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xw(s,e){const i=$w(e),r=Zw(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function Ww(s,e){Do.set(s._key(),e)}function Zw(s){return kn(s._redirectPersistence)}function $w(s){return Mo(Kw,s.config.apiKey,s.name)}async function Jw(s,e,i=!1){if(Ut(s.app))return Promise.reject(jn(s));const r=ki(s),o=c0(r,e),f=await new Qw(r,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=10*60*1e3;class tA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!h0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(nn(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eA&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(e))}saveEventToCache(e){this.cachedEventUids.add(hv(e)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function h0({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(s,e={}){return Gn(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aA=/^https?/;async function rA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await iA(s);for(const i of e)try{if(lA(i))return}catch{}Qt(s,"unauthorized-domain")}function lA(s){const e=vh(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!aA.test(i))return!1;if(sA.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Jr(3e4,6e4);function dv(){const s=mn().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function uA(s){return new Promise((e,i)=>{var r,o,u;function f(){dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dv(),i(nn(s,"network-request-failed"))},timeout:oA.get()})}if(!((o=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mn().gapi)===null||u===void 0)&&u.load)f();else{const d=ew("iframefcb");return mn()[d]=()=>{gapi.load?f():i(nn(s,"network-request-failed"))},Xy(`${JR()}?onload=${d}`).catch(m=>i(m))}}).catch(e=>{throw ko=null,e})}let ko=null;function cA(s){return ko=ko||uA(s),ko}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Jr(5e3,15e3),hA="__/auth/iframe",dA="emulator/auth/iframe",mA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gA(s){const e=s.config;ie(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Zh(e,dA):`https://${s.config.authDomain}/${hA}`,r={apiKey:e.apiKey,appName:s.name,v:pa},o=pA.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ma(r).slice(1)}`}async function _A(s){const e=await cA(s),i=mn().gapi;return ie(i,s,"internal-error"),e.open({where:document.body,url:gA(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mA,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=nn(s,"network-request-failed"),d=mn().setTimeout(()=>{u(f)},fA.get());function m(){mn().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yA=500,EA=600,SA="_blank",bA="http://localhost";class mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TA(s,e,i,r=yA,o=EA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},vA),{width:r.toString(),height:o.toString(),top:u,left:f}),p=_t().toLowerCase();i&&(d=Vy(p)?SA:i),Hy(p)&&(e=e||bA,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[w,A])=>`${E}${w}=${A},`,"");if(GR(p)&&d!=="_self")return CA(e||"",d),new mv(null);const S=window.open(e||"",d,v);ie(S,s,"popup-blocked");try{S.focus()}catch{}return new mv(S)}function CA(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="__/auth/handler",wA="emulator/auth/handler",AA=encodeURIComponent("fac");async function pv(s,e,i,r,o,u){ie(s.config.authDomain,s,"auth-domain-config-required"),ie(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:pa,eventId:o};if(e instanceof nd){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",hh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))f[v]=S}if(e instanceof tl){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(f.scopes=v.join(","))}s.tenantId&&(f.tid=s.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await s._getAppCheckToken(),p=m?`#${AA}=${encodeURIComponent(m)}`:"";return`${xA(s)}?${ma(d).slice(1)}${p}`}function xA({config:s}){return s.emulator?Zh(s,wA):`https://${s.authDomain}/${RA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="webStorageSupport";class NA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a0,this._completeRedirectFn=Jw,this._overrideRedirectResult=Ww}async _openPopup(e,i,r,o){var u;Bn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await pv(e,i,r,vh(),o);return TA(e,f,id())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await pv(e,i,r,vh(),o);return Mw(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Bn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await _A(e),r=new tA(e);return i.register("authEvent",o=>(ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nh,{type:nh},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[nh];f!==void 0&&i(!!f),Qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ky()||By()||Jh()}}const OA=NA;var gv="@firebase/auth",_v="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DA(s){ra(new as("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=r.options;ie(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:f,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qy(s)},p=new WR(r,o,u,m);return rw(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ra(new as("auth-internal",e=>{const i=ki(e.getProvider("auth").getImmediate());return(r=>new IA(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(gv,_v,MA(s)),Ti(gv,_v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=5*60,LA=by("authIdTokenMaxAge")||kA;let vv=null;const UA=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>LA)return;const o=i==null?void 0:i.token;vv!==o&&(vv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jA(s=Oy()){const e=Kh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=aw(s,{popupRedirectResolver:OA,persistence:[Bw,Nw,a0]}),r=by("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=UA(u.toString());Rw(i,f,()=>f(i.currentUser)),Cw(i,d=>f(d))}}const o=Ey("auth");return o&&lw(i,`http://${o}`),i}function PA(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}ZR({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=nn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",PA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DA("Browser");var zA="firebase",HA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(zA,HA,"app");var yv={};const Ev="@firebase/database",Sv="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0="";function BA(s){d0=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Ur(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return qn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new VA(e)}}catch{}return new qA},ns=m0("localStorage"),GA=m0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Yh("@firebase/database"),YA=function(){let s=1;return function(){return s++}}(),p0=function(s){const e=m1(s),i=new c1;i.update(e);const r=i.digest();return Bh.encodeByteArray(r)},il=function(...s){let e="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=il.apply(null,r):typeof r=="object"?e+=$e(r):e+=r,e+=" "}return e};let Nr=null,bv=!0;const FA=function(s,e){G(!0,"Can't turn on custom loggers persistently."),ia.logLevel=Ie.VERBOSE,Nr=ia.log.bind(ia)},dt=function(...s){if(bv===!0&&(bv=!1,Nr===null&&GA.get("logging_enabled")===!0&&FA()),Nr){const e=il.apply(null,s);Nr(e)}},sl=function(s){return function(...e){dt(s,...e)}},bh=function(...s){const e="FIREBASE INTERNAL ERROR: "+il(...s);ia.error(e)},Vn=function(...s){const e=`FIREBASE FATAL ERROR: ${il(...s)}`;throw ia.error(e),new Error(e)},Ct=function(...s){const e="FIREBASE WARNING: "+il(...s);ia.warn(e)},KA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},g0=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},QA=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},oa="[MIN_NAME]",os="[MAX_NAME]",_a=function(s,e){if(s===e)return 0;if(s===oa||e===os)return-1;if(e===oa||s===os)return 1;{const i=Tv(s),r=Tv(e);return i!==null?r!==null?i-r===0?s.length-e.length:i-r:-1:r!==null?1:s<e?-1:1}},XA=function(s,e){return s===e?0:s<e?-1:1},Sr=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+$e(e))},ad=function(s){if(typeof s!="object"||s===null)return $e(s);const e=[];for(const r in s)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=$e(e[r]),i+=":",i+=ad(s[e[r]]);return i+="}",i},_0=function(s,e){const i=s.length;if(i<=e)return[s];const r=[];for(let o=0;o<i;o+=e)o+e>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+e));return r};function Rt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const v0=function(s){G(!g0(s),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let o,u,f,d,m;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=d+r,f=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-r-i))));const p=[];for(m=i;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const v=p.join("");let S="";for(m=0;m<64;m+=8){let E=parseInt(v.substr(m,8),2).toString(16);E.length===1&&(E="0"+E),S=S+E}return S.toLowerCase()},WA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $A(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+e._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const JA=new RegExp("^-?(0*)\\d{1,10}$"),ex=-2147483648,tx=2147483647,Tv=function(s){if(JA.test(s)){const e=Number(s);if(e>=ex&&e<=tx)return e}return null},va=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Ct("Exception was thrown by user callback.",i),e},Math.floor(0))}},nx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Or=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Ut(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ct(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ct(e)}}class Lo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="5",y0="v",E0="s",S0="r",b0="f",T0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,C0="ls",R0="p",Th="ac",w0="websocket",A0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,i,r,o,u=!1,f="",d=!1,m=!1,p=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ns.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ns.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function ax(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function N0(s,e,i){G(typeof e=="string","typeof type must == string"),G(typeof i=="object","typeof params must == object");let r;if(e===w0)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===A0)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ax(s)&&(i.ns=s.namespace);const o=[];return Rt(i,(u,f)=>{o.push(u+"="+f)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.counters_={}}incrementCounter(e,i=1){qn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return qC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih={},sh={};function ld(s){const e=s.toString();return ih[e]||(ih[e]=new rx),ih[e]}function lx(s,e){const i=s.toString();return sh[i]||(sh[i]=e()),sh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&va(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="start",ux="close",cx="pLPCommand",fx="pRTLPCB",O0="id",I0="pw",M0="ser",hx="cb",dx="seg",mx="ts",px="d",gx="dframe",D0=1870,k0=30,_x=D0-k0,vx=25e3,yx=3e4;class Js{constructor(e,i,r,o,u,f,d){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sl(e),this.stats_=ld(i),this.urlFn=m=>(this.appCheckToken&&(m[Th]=this.appCheckToken),N0(i,A0,m))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new ox(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yx)),QA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new od((...u)=>{const[f,d,m,p,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Cv)this.id=d,this.password=m;else if(f===ux)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[Cv]="t",r[M0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[y0]=rd,this.transportSessionId&&(r[E0]=this.transportSessionId),this.lastSessionId&&(r[C0]=this.lastSessionId),this.applicationId&&(r[R0]=this.applicationId),this.appCheckToken&&(r[Th]=this.appCheckToken),typeof location<"u"&&location.hostname&&T0.test(location.hostname)&&(r[S0]=b0);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Js.forceAllow_=!0}static forceDisallow(){Js.forceDisallow_=!0}static isAvailable(){return Js.forceAllow_?!0:!Js.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WA()&&!ZA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=$e(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=vy(i),o=_0(r,_x);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[gx]="t",r[O0]=e,r[I0]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=$e(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class od{constructor(e,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YA(),window[cx+this.uniqueCallbackIdentifier]=e,window[fx+this.uniqueCallbackIdentifier]=i,this.myIFrame=od.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){dt("frame writing exception"),d.stack&&dt(d.stack),dt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[O0]=this.myID,e[I0]=this.myPW,e[M0]=this.currentSerial;let i=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+k0+r.length<=D0;){const f=this.pendingSegs.shift();r=r+"&"+dx+o+"="+f.seg+"&"+mx+o+"="+f.ts+"&"+px+o+"="+f.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(vx)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=16384,Sx=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class $t{constructor(e,i,r,o,u,f,d){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sl(this.connId),this.stats_=ld(i),this.connURL=$t.connectionURL_(i,f,d,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const f={};return f[y0]=rd,typeof location<"u"&&location.hostname&&T0.test(location.hostname)&&(f[S0]=b0),i&&(f[E0]=i),r&&(f[C0]=r),o&&(f[Th]=o),u&&(f[R0]=u),N0(e,w0,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ns.set("previous_websocket_failure",!0);try{let r;n1(),this.mySock=new Ko(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ko!==null&&!$t.forceDisallow_}static previouslyFailed(){return ns.isInMemoryStorage||ns.get("previous_websocket_failure")===!0}markConnectionHealthy(){ns.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Ur(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=$e(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=_0(i,Ex);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Sx))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$t.responsesRequiredToBeHealthy=2;$t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{static get ALL_TRANSPORTS(){return[Js,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=$t&&$t.isAvailable();let r=i&&!$t.previouslyFailed();if(e.webSocketOnly&&(i||Ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$t];else{const o=this.transports_=[];for(const u of zr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);zr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=6e4,Tx=5e3,Cx=10*1024,Rx=100*1024,ah="t",Rv="d",wx="s",wv="r",Ax="e",Av="o",xv="a",Nv="n",Ov="p",xx="h";class Nx{constructor(e,i,r,o,u,f,d,m,p,v){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sl("c:"+this.id+":"),this.transportManager_=new zr(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Or(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Cx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ah in e){const i=e[ah];i===xv?this.upgradeIfSecondaryHealthy_():i===wv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Av&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Sr("t",e),r=Sr("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ov,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Nv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Sr("t",e),r=Sr("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Sr(ah,e);if(Rv in e){const r=e[Rv];if(i===xx){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Nv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===wx?this.onConnectionShutdown_(r):i===wv?this.onReset_(r):i===Ax?bh("Server Error: "+r):i===Av?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bh("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),rd!==r&&Ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Or(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Or(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Tx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ov,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ns.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{put(e,i,r,o){}merge(e,i,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const o=this.getInitialEvent(e);o&&i.apply(r,o)}off(e,i,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){G(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends U0{static getInstance(){return new Qo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=32,Mv=768;class De{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ce(){return new De("")}function fe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function wi(s){return s.pieces_.length-s.pieceNum_}function Le(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new De(s.pieces_,e)}function j0(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function Ox(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function P0(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function z0(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new De(e,0)}function Je(s,e){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(e instanceof De)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new De(i,0)}function pe(s){return s.pieceNum_>=s.pieces_.length}function gt(s,e){const i=fe(s),r=fe(e);if(i===null)return e;if(i===r)return gt(Le(s),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function ud(s,e){if(wi(s)!==wi(e))return!1;for(let i=s.pieceNum_,r=e.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==e.pieces_[r])return!1;return!0}function en(s,e){let i=s.pieceNum_,r=e.pieceNum_;if(wi(s)>wi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class Ix{constructor(e,i){this.errorPrefix_=i,this.parts_=P0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fu(this.parts_[r]);H0(this)}}function Mx(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=fu(e),H0(s)}function Dx(s){const e=s.parts_.pop();s.byteLength_-=fu(e),s.parts_.length>0&&(s.byteLength_-=1)}function H0(s){if(s.byteLength_>Mv)throw new Error(s.errorPrefix_+"has a key path longer than "+Mv+" bytes ("+s.byteLength_+").");if(s.parts_.length>Iv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Iv+") or object contains a cycle "+es(s))}function es(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends U0{static getInstance(){return new cd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=1e3,kx=60*5*1e3,Dv=30*1e3,Lx=1.3,Ux=3e4,jx="server_kill",kv=3;class Pn extends L0{constructor(e,i,r,o,u,f,d,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=Pn.nextPersistentConnectionId_++,this.log_=sl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=br,this.maxReconnectDelay_=kx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_($e(u)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new cu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const m=d.d,p=d.s;Pn.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&qn(e,"w")){const r=aa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||u1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=o1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";o&&(u.q=r,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const f={p:i,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$e(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):bh("Unrecognized action received from server: "+$e(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ux&&(this.reconnectDelay_=br),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Lx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Pn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const m=function(){d?d.close():(f=!0,r())},p=function(S){G(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(S)};this.realtime_={close:m,sendRequest:p};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,E]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=E&&E.token,d=new Nx(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,w=>{Ct(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(jx)},u))}catch(S){this.log_("Failed to get token: "+S),f||(this.repoInfo_.nodeAdmin&&Ct(S),m())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hh(this.interruptReasons_)&&(this.reconnectDelay_=br,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>ad(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new De(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){dt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kv&&(this.reconnectDelay_=Dv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){dt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+d0.replace(/\./g,"-")]=1,qh()?e["framework.cordova"]=1:Ry()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qo.getInstance().currentlyOnline();return hh(this.interruptReasons_)&&e}}Pn.nextPersistentConnectionId_=0;Pn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new he(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new he(oa,e),o=new he(oa,i);return this.compare(r,o)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;class B0 extends pu{static get __EMPTY_NODE(){return Ao}static set __EMPTY_NODE(e){Ao=e}compare(e,i){return _a(e.name,i.name)}isDefinedOn(e){throw da("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return he.MIN}maxPost(){return new he(os,Ao)}makePost(e,i){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,Ao)}toString(){return".key"}}const sa=new B0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?r(e.key,i):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??at.RED,this.left=o??Tt.EMPTY_NODE,this.right=u??Tt.EMPTY_NODE}copy(e,i,r,o,u){return new at(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class Px{copy(e,i,r,o,u){return this}insert(e,i,r){return new at(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Tt{constructor(e,i=Tt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Tt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new Tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new xo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new xo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new xo(this.root_,null,this.comparator_,!0,e)}}Tt.EMPTY_NODE=new Px;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(s,e){return _a(s.name,e.name)}function fd(s,e){return _a(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch;function Hx(s){Ch=s}const V0=function(s){return typeof s=="number"?"number:"+v0(s):"string:"+s},q0=function(s){if(s.isLeafNode()){const e=s.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qn(e,".sv"),"Priority must be a string or number.")}else G(s===Ch||s.isEmpty(),"priority of unexpected type.");G(s===Ch||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv;class st{static set __childrenNodeConstructor(e){Lv=e}static get __childrenNodeConstructor(){return Lv}constructor(e,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),q0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:fe(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=fe(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||wi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+V0(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=v0(this.value_):e+=this.value_,this.lazyHash_=p0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),u=st.VALUE_TYPE_ORDER.indexOf(r);return G(o>=0,"Unknown leaf type: "+i),G(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0,Y0;function Bx(s){G0=s}function Vx(s){Y0=s}class qx extends pu{compare(e,i){const r=e.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?_a(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(os,new st("[PRIORITY-POST]",Y0))}makePost(e,i){const r=G0(e);return new he(i,new st("[PRIORITY-POST]",r))}toString(){return".priority"}}const qe=new qx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=Math.log(2);class Yx{constructor(e){const i=u=>parseInt(Math.log(u)/Gx,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xo=function(s,e,i,r){s.sort(e);const o=function(m,p){const v=p-m;let S,E;if(v===0)return null;if(v===1)return S=s[m],E=i?i(S):S,new at(E,S.node,at.BLACK,null,null);{const w=parseInt(v/2,10)+m,A=o(m,w),P=o(w+1,p);return S=s[w],E=i?i(S):S,new at(E,S.node,at.BLACK,A,P)}},u=function(m){let p=null,v=null,S=s.length;const E=function(A,P){const H=S-A,z=S;S-=A;const F=o(H+1,z),q=s[H],ne=i?i(q):q;w(new at(ne,q.node,P,null,F))},w=function(A){p?(p.left=A,p=A):(v=A,p=A)};for(let A=0;A<m.count;++A){const P=m.nextBitIsOne(),H=Math.pow(2,m.count-(A+1));P?E(H,at.BLACK):(E(H,at.BLACK),E(H,at.RED))}return v},f=new Yx(s.length),d=u(f);return new Tt(r||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;const $s={};class Ln{static get Default(){return G($s&&qe,"ChildrenNode.ts has not been loaded"),rh=rh||new Ln({".priority":$s},{".priority":qe}),rh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=aa(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Tt?i:null}hasIndex(e){return qn(this.indexSet_,e.toString())}addIndex(e,i){G(e!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(he.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let d;o?d=Xo(r,e.getCompare()):d=$s;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const v=Object.assign({},this.indexes_);return v[m]=d,new Ln(v,p)}addToIndexes(e,i){const r=zo(this.indexes_,(o,u)=>{const f=aa(this.indexSet_,u);if(G(f,"Missing index implementation for "+u),o===$s)if(f.isDefinedOn(e.node)){const d=[],m=i.getIterator(he.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&d.push(p),p=m.getNext();return d.push(e),Xo(d,f.getCompare())}else return $s;else{const d=i.get(e.name);let m=o;return d&&(m=m.remove(new he(e.name,d))),m.insert(e,e.node)}});return new Ln(r,this.indexSet_)}removeFromIndexes(e,i){const r=zo(this.indexes_,o=>{if(o===$s)return o;{const u=i.get(e.name);return u?o.remove(new he(e.name,u)):o}});return new Ln(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr;class se{static get EMPTY_NODE(){return Tr||(Tr=new se(new Tt(fd),null,Ln.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&q0(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tr}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Tr:i}}getChild(e){const i=fe(e);return i===null?this:this.getImmediateChild(i).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(G(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new he(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?Tr:this.priorityNode_;return new se(o,f,u)}}updateChild(e,i){const r=fe(e);if(r===null)return i;{G(fe(e)!==".priority"||wi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Le(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(qe,(f,d)=>{i[f]=d.val(e),r++,u&&se.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*r){const f=[];for(const d in i)f[d]=i[d];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+V0(this.getPriority().val())+":"),this.forEachChild(qe,(i,r)=>{const o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":p0(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new he(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new he(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new he(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,he.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===al?-1:0}withIndex(e){if(e===sa||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===sa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(qe),o=i.getIterator(qe);let u=r.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===sa?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Fx extends se{constructor(){super(new Tt(fd),se.EMPTY_NODE,Ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const al=new Fx;Object.defineProperties(he,{MIN:{value:new he(oa,se.EMPTY_NODE)},MAX:{value:new he(os,al)}});B0.__EMPTY_NODE=se.EMPTY_NODE;st.__childrenNodeConstructor=se;Hx(al);Vx(al);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=!0;function rt(s,e=null){if(s===null)return se.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new st(i,rt(e))}if(!(s instanceof Array)&&Kx){const i=[];let r=!1;if(Rt(s,(f,d)=>{if(f.substring(0,1)!=="."){const m=rt(d);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),i.push(new he(f,m)))}}),i.length===0)return se.EMPTY_NODE;const u=Xo(i,zx,f=>f.name,fd);if(r){const f=Xo(i,qe.getCompare());return new se(u,rt(e),new Ln({".priority":f},{".priority":qe}))}else return new se(u,rt(e),Ln.Default)}else{let i=se.EMPTY_NODE;return Rt(s,(r,o)=>{if(qn(s,r)&&r.substring(0,1)!=="."){const u=rt(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(rt(e))}}Bx(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends pu{constructor(e){super(),this.indexPath_=e,G(!pe(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?_a(e.name,i.name):u}makePost(e,i){const r=rt(e),o=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new he(i,o)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,al);return new he(os,e)}toString(){return P0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends pu{compare(e,i){const r=e.node.compareTo(i.node);return r===0?_a(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,i){const r=rt(e);return new he(i,r)}toString(){return".value"}}const Wx=new Xx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(s){return{type:"value",snapshotNode:s}}function ua(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function Hr(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function Br(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function Zx(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.index_=e}updateChild(e,i,r,o,u,f){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(o).equals(r.getChild(o))&&d.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(i)?f.trackChildChange(Hr(i,d)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(ua(i,r)):f.trackChildChange(Br(i,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(qe,(o,u)=>{i.hasChild(o)||r.trackChildChange(Hr(o,u))}),i.isLeafNode()||i.forEachChild(qe,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||r.trackChildChange(Br(o,u,f))}else r.trackChildChange(ua(o,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.indexedFilter_=new hd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Vr.getStartPost_(e),this.endPost_=Vr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,o,u,f){return this.matches(new he(i,r))||(r=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,o,u,f)}updateFullNode(e,i,r){i.isLeafNode()&&(i=se.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(se.EMPTY_NODE);const u=this;return i.forEachChild(qe,(f,d)=>{u.matches(new he(f,d))||(o=o.updateImmediateChild(f,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Vr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,o,u,f){return this.rangedFilter_.matches(new he(i,r))||(r=se.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,o,u,f):this.fullLimitUpdateChild_(e,i,r,u,f)}updateFullNode(e,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=se.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(se.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:o=o.updateImmediateChild(d.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,o,u){let f;if(this.reverse_){const S=this.index_.getCompare();f=(E,w)=>S(w,E)}else f=this.index_.getCompare();const d=e;G(d.numChildren()===this.limit_,"");const m=new he(i,r),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(d.hasChild(i)){const S=d.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===i||d.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const w=E==null?1:f(E,m);if(v&&!r.isEmpty()&&w>=0)return u!=null&&u.trackChildChange(Br(i,r,S)),d.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(Hr(i,S));const P=d.updateImmediateChild(i,se.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(ua(E.name,E.node)),P.updateImmediateChild(E.name,E.node)):P}}else return r.isEmpty()?e:v&&f(p,m)>=0?(u!=null&&(u.trackChildChange(Hr(p.name,p.node)),u.trackChildChange(ua(i,r))),d.updateImmediateChild(i,r).updateImmediateChild(p.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oa}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const e=new dd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jx(s){return s.loadsAllData()?new hd(s.getIndex()):s.hasLimit()?new $x(s):new Vr(s)}function Uv(s){const e={};if(s.isDefault())return e;let i;if(s.index_===qe?i="$priority":s.index_===Wx?i="$value":s.index_===sa?i="$key":(G(s.index_ instanceof Qx,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=$e(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";e[r]=$e(s.indexStartValue_),s.startNameSet_&&(e[r]+=","+$e(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";e[r]=$e(s.indexEndValue_),s.endNameSet_&&(e[r]+=","+$e(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function jv(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==qe&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends L0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=sl("p:rest:"),this.listens_={}}listen(e,i,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=Wo.getListenId_(e,r),d={};this.listens_[f]=d;const m=Uv(e._queryParams);this.restRequest_(u+".json",m,(p,v)=>{let S=v;if(p===404&&(S=null,p=null),p===null&&this.onDataUpdate_(u,S,!1,r),aa(this.listens_,f)===d){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(e,i){const r=Wo.getListenId_(e,i);delete this.listens_[r]}get(e){const i=Uv(e._queryParams),r=e._path.toString(),o=new cu;return this.restRequest_(r+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ma(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=Ur(d.responseText)}catch{Ct("Failed to parse JSON response for "+f+": "+d.responseText)}r(null,m)}else d.status!==401&&d.status!==404&&Ct("Got unsuccessful REST response for "+f+" Status: "+d.status),r(d.status);r=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return{value:null,children:new Map}}function K0(s,e,i){if(pe(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const r=fe(e);s.children.has(r)||s.children.set(r,Zo());const o=s.children.get(r);e=Le(e),K0(o,e,i)}}function Rh(s,e,i){s.value!==null?i(e,s.value):tN(s,(r,o)=>{const u=new De(e.toString()+"/"+r);Rh(o,u,i)})}function tN(s,e){s.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Rt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=10*1e3,iN=30*1e3,sN=5*60*1e3;class aN{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new nN(e);const r=Pv+(iN-Pv)*Math.random();Or(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Rt(e,(o,u)=>{u>0&&qn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Or(this.reportStats_.bind(this),Math.floor(Math.random()*2*sN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function Q0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function md(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=tn.ACK_USER_WRITE,this.source=Q0()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new De(e));return new $o(Ce(),i,this.revert)}}else return G(fe(this.path)===e,"operationForChild called for unrelated child."),new $o(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,i){this.source=e,this.path=i,this.type=tn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new qr(this.source,Ce()):new qr(this.source,Le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=tn.OVERWRITE}operationForChild(e){return pe(this.path)?new us(this.source,Ce(),this.snap.getImmediateChild(e)):new us(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=tn.MERGE}operationForChild(e){if(pe(this.path)){const i=this.children.subtree(new De(e));return i.isEmpty()?null:i.value?new us(this.source,Ce(),i.value):new Gr(this.source,Ce(),i)}else return G(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gr(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const i=fe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lN(s,e,i,r){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(Zx(f.childName,f.snapshotNode))}),Cr(s,o,"child_removed",e,r,i),Cr(s,o,"child_added",e,r,i),Cr(s,o,"child_moved",u,r,i),Cr(s,o,"child_changed",e,r,i),Cr(s,o,"value",e,r,i),o}function Cr(s,e,i,r,o,u){const f=r.filter(d=>d.type===i);f.sort((d,m)=>uN(s,d,m)),f.forEach(d=>{const m=oN(s,d,u);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(m,s.query_))})})}function oN(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function uN(s,e,i){if(e.childName==null||i.childName==null)throw da("Should only compare child_ events.");const r=new he(e.childName,e.snapshotNode),o=new he(i.childName,i.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(s,e){return{eventCache:s,serverCache:e}}function Ir(s,e,i,r){return gu(new Ai(e,i,r),s.serverCache)}function X0(s,e,i,r){return gu(s.eventCache,new Ai(e,i,r))}function Jo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function cs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh;const cN=()=>(lh||(lh=new Tt(XA)),lh);class Ue{static fromObject(e){let i=new Ue(null);return Rt(e,(r,o)=>{i=i.set(new De(r),o)}),i}constructor(e,i=cN()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ce(),value:this.value};if(pe(e))return null;{const r=fe(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Le(e),i);return u!=null?{path:Je(new De(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const i=fe(e),r=this.children.get(i);return r!==null?r.subtree(Le(e)):new Ue(null)}}set(e,i){if(pe(e))return new Ue(i,this.children);{const r=fe(e),u=(this.children.get(r)||new Ue(null)).set(Le(e),i),f=this.children.insert(r,u);return new Ue(this.value,f)}}remove(e){if(pe(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const i=fe(e),r=this.children.get(i);if(r){const o=r.remove(Le(e));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ue(null):new Ue(this.value,u)}else return this}}get(e){if(pe(e))return this.value;{const i=fe(e),r=this.children.get(i);return r?r.get(Le(e)):null}}setTree(e,i){if(pe(e))return i;{const r=fe(e),u=(this.children.get(r)||new Ue(null)).setTree(Le(e),i);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new Ue(this.value,f)}}fold(e){return this.fold_(Ce(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Je(e,o),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Ce(),i)}findOnPath_(e,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(pe(e))return null;{const u=fe(e),f=this.children.get(u);return f?f.findOnPath_(Le(e),Je(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ce(),i)}foreachOnPath_(e,i,r){if(pe(e))return this;{this.value&&r(i,this.value);const o=fe(e),u=this.children.get(o);return u?u.foreachOnPath_(Le(e),Je(i,o),r):new Ue(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,i){this.children.inorderTraversal((r,o)=>{o.foreach_(Je(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.writeTree_=e}static empty(){return new sn(new Ue(null))}}function Mr(s,e,i){if(pe(e))return new sn(new Ue(i));{const r=s.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const f=gt(o,e);return u=u.updateChild(f,i),new sn(s.writeTree_.set(o,u))}else{const o=new Ue(i),u=s.writeTree_.setTree(e,o);return new sn(u)}}}function zv(s,e,i){let r=s;return Rt(i,(o,u)=>{r=Mr(r,Je(e,o),u)}),r}function Hv(s,e){if(pe(e))return sn.empty();{const i=s.writeTree_.setTree(e,new Ue(null));return new sn(i)}}function wh(s,e){return hs(s,e)!=null}function hs(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(gt(i.path,e)):null}function Bv(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(qe,(r,o)=>{e.push(new he(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new he(r,o.value))}),e}function Ci(s,e){if(pe(e))return s;{const i=hs(s,e);return i!=null?new sn(new Ue(i)):new sn(s.writeTree_.subtree(e))}}function Ah(s){return s.writeTree_.isEmpty()}function ca(s,e){return W0(Ce(),s.writeTree_,e)}function W0(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(G(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=W0(Je(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(Je(s,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(s,e){return eE(e,s)}function fN(s,e,i,r,o){G(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:e,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=Mr(s.visibleWrites,e,i)),s.lastWriteId=r}function hN(s,e){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===e)return r}return null}function dN(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);G(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const d=s.allWrites[f];d.visible&&(f>=i&&mN(d,r.path)?o=!1:en(r.path,d.path)&&(u=!0)),f--}if(o){if(u)return pN(s),!0;if(r.snap)s.visibleWrites=Hv(s.visibleWrites,r.path);else{const d=r.children;Rt(d,m=>{s.visibleWrites=Hv(s.visibleWrites,Je(r.path,m))})}return!0}else return!1}function mN(s,e){if(s.snap)return en(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&en(Je(s.path,i),e))return!0;return!1}function pN(s){s.visibleWrites=Z0(s.allWrites,gN,Ce()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function gN(s){return s.visible}function Z0(s,e,i){let r=sn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(e(u)){const f=u.path;let d;if(u.snap)en(i,f)?(d=gt(i,f),r=Mr(r,d,u.snap)):en(f,i)&&(d=gt(f,i),r=Mr(r,Ce(),u.snap.getChild(d)));else if(u.children){if(en(i,f))d=gt(i,f),r=zv(r,d,u.children);else if(en(f,i))if(d=gt(f,i),pe(d))r=zv(r,Ce(),u.children);else{const m=aa(u.children,fe(d));if(m){const p=m.getChild(Le(d));r=Mr(r,Ce(),p)}}}else throw da("WriteRecord should have .snap or .children")}}return r}function $0(s,e,i,r,o){if(!r&&!o){const u=hs(s.visibleWrites,e);if(u!=null)return u;{const f=Ci(s.visibleWrites,e);if(Ah(f))return i;if(i==null&&!wh(f,Ce()))return null;{const d=i||se.EMPTY_NODE;return ca(f,d)}}}else{const u=Ci(s.visibleWrites,e);if(!o&&Ah(u))return i;if(!o&&i==null&&!wh(u,Ce()))return null;{const f=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(en(p.path,e)||en(e,p.path))},d=Z0(s.allWrites,f,e),m=i||se.EMPTY_NODE;return ca(d,m)}}}function _N(s,e,i){let r=se.EMPTY_NODE;const o=hs(s.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(qe,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(i){const u=Ci(s.visibleWrites,e);return i.forEachChild(qe,(f,d)=>{const m=ca(Ci(u,new De(f)),d);r=r.updateImmediateChild(f,m)}),Bv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=Ci(s.visibleWrites,e);return Bv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function vN(s,e,i,r,o){G(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Je(e,i);if(wh(s.visibleWrites,u))return null;{const f=Ci(s.visibleWrites,u);return Ah(f)?o.getChild(i):ca(f,o.getChild(i))}}function yN(s,e,i,r){const o=Je(e,i),u=hs(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const f=Ci(s.visibleWrites,o);return ca(f,r.getNode().getImmediateChild(i))}else return null}function EN(s,e){return hs(s.visibleWrites,e)}function SN(s,e,i,r,o,u,f){let d;const m=Ci(s.visibleWrites,e),p=hs(m,Ce());if(p!=null)d=p;else if(i!=null)d=ca(m,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const v=[],S=f.getCompare(),E=u?d.getReverseIteratorFrom(r,f):d.getIteratorFrom(r,f);let w=E.getNext();for(;w&&v.length<o;)S(w,r)!==0&&v.push(w),w=E.getNext();return v}else return[]}function bN(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}function eu(s,e,i,r){return $0(s.writeTree,s.treePath,e,i,r)}function gd(s,e){return _N(s.writeTree,s.treePath,e)}function Vv(s,e,i,r){return vN(s.writeTree,s.treePath,e,i,r)}function tu(s,e){return EN(s.writeTree,Je(s.treePath,e))}function TN(s,e,i,r,o,u){return SN(s.writeTree,s.treePath,e,i,r,o,u)}function _d(s,e,i){return yN(s.writeTree,s.treePath,e,i)}function J0(s,e){return eE(Je(s.treePath,e),s.writeTree)}function eE(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;G(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Br(r,e.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Hr(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,ua(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Br(r,e.snapshotNode,o.oldSnap));else throw da("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const tE=new RN;class vd{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _d(this.writes_,e,r)}}getChildAfterChild(e,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cs(this.viewCache_),u=TN(this.writes_,o,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(s){return{filter:s}}function AN(s,e){G(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function xN(s,e,i,r,o){const u=new CN;let f,d;if(i.type===tn.OVERWRITE){const p=i;p.source.fromUser?f=xh(s,e,p.path,p.snap,r,o,u):(G(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!pe(p.path),f=nu(s,e,p.path,p.snap,r,o,d,u))}else if(i.type===tn.MERGE){const p=i;p.source.fromUser?f=ON(s,e,p.path,p.children,r,o,u):(G(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),f=Nh(s,e,p.path,p.children,r,o,d,u))}else if(i.type===tn.ACK_USER_WRITE){const p=i;p.revert?f=DN(s,e,p.path,r,o,u):f=IN(s,e,p.path,p.affectedTree,r,o,u)}else if(i.type===tn.LISTEN_COMPLETE)f=MN(s,e,i.path,r,u);else throw da("Unknown operation type: "+i.type);const m=u.getChanges();return NN(e,f,m),{viewCache:f,changes:m}}function NN(s,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Jo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(F0(Jo(e)))}}function nE(s,e,i,r,o,u){const f=e.eventCache;if(tu(r,i)!=null)return e;{let d,m;if(pe(i))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=cs(e),v=p instanceof se?p:se.EMPTY_NODE,S=gd(r,v);d=s.filter.updateFullNode(e.eventCache.getNode(),S,u)}else{const p=eu(r,cs(e));d=s.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=fe(i);if(p===".priority"){G(wi(i)===1,"Can't have a priority with additional path components");const v=f.getNode();m=e.serverCache.getNode();const S=Vv(r,i,v,m);S!=null?d=s.filter.updatePriority(v,S):d=f.getNode()}else{const v=Le(i);let S;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const E=Vv(r,i,f.getNode(),m);E!=null?S=f.getNode().getImmediateChild(p).updateChild(v,E):S=f.getNode().getImmediateChild(p)}else S=_d(r,p,e.serverCache);S!=null?d=s.filter.updateChild(f.getNode(),p,S,v,o,u):d=f.getNode()}}return Ir(e,d,f.isFullyInitialized()||pe(i),s.filter.filtersNodes())}}function nu(s,e,i,r,o,u,f,d){const m=e.serverCache;let p;const v=f?s.filter:s.filter.getIndexedFilter();if(pe(i))p=v.updateFullNode(m.getNode(),r,null);else if(v.filtersNodes()&&!m.isFiltered()){const w=m.getNode().updateChild(i,r);p=v.updateFullNode(m.getNode(),w,null)}else{const w=fe(i);if(!m.isCompleteForPath(i)&&wi(i)>1)return e;const A=Le(i),H=m.getNode().getImmediateChild(w).updateChild(A,r);w===".priority"?p=v.updatePriority(m.getNode(),H):p=v.updateChild(m.getNode(),w,H,A,tE,null)}const S=X0(e,p,m.isFullyInitialized()||pe(i),v.filtersNodes()),E=new vd(o,S,u);return nE(s,S,i,o,E,d)}function xh(s,e,i,r,o,u,f){const d=e.eventCache;let m,p;const v=new vd(o,e,u);if(pe(i))p=s.filter.updateFullNode(e.eventCache.getNode(),r,f),m=Ir(e,p,!0,s.filter.filtersNodes());else{const S=fe(i);if(S===".priority")p=s.filter.updatePriority(e.eventCache.getNode(),r),m=Ir(e,p,d.isFullyInitialized(),d.isFiltered());else{const E=Le(i),w=d.getNode().getImmediateChild(S);let A;if(pe(E))A=r;else{const P=v.getCompleteChild(S);P!=null?j0(E)===".priority"&&P.getChild(z0(E)).isEmpty()?A=P:A=P.updateChild(E,r):A=se.EMPTY_NODE}if(w.equals(A))m=e;else{const P=s.filter.updateChild(d.getNode(),S,A,E,v,f);m=Ir(e,P,d.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function qv(s,e){return s.eventCache.isCompleteForChild(e)}function ON(s,e,i,r,o,u,f){let d=e;return r.foreach((m,p)=>{const v=Je(i,m);qv(e,fe(v))&&(d=xh(s,d,v,p,o,u,f))}),r.foreach((m,p)=>{const v=Je(i,m);qv(e,fe(v))||(d=xh(s,d,v,p,o,u,f))}),d}function Gv(s,e,i){return i.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Nh(s,e,i,r,o,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;pe(i)?p=r:p=new Ue(null).setTree(i,r);const v=e.serverCache.getNode();return p.children.inorderTraversal((S,E)=>{if(v.hasChild(S)){const w=e.serverCache.getNode().getImmediateChild(S),A=Gv(s,w,E);m=nu(s,m,new De(S),A,o,u,f,d)}}),p.children.inorderTraversal((S,E)=>{const w=!e.serverCache.isCompleteForChild(S)&&E.value===null;if(!v.hasChild(S)&&!w){const A=e.serverCache.getNode().getImmediateChild(S),P=Gv(s,A,E);m=nu(s,m,new De(S),P,o,u,f,d)}}),m}function IN(s,e,i,r,o,u,f){if(tu(o,i)!=null)return e;const d=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(pe(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return nu(s,e,i,m.getNode().getChild(i),o,u,d,f);if(pe(i)){let p=new Ue(null);return m.getNode().forEachChild(sa,(v,S)=>{p=p.set(new De(v),S)}),Nh(s,e,i,p,o,u,d,f)}else return e}else{let p=new Ue(null);return r.foreach((v,S)=>{const E=Je(i,v);m.isCompleteForPath(E)&&(p=p.set(v,m.getNode().getChild(E)))}),Nh(s,e,i,p,o,u,d,f)}}function MN(s,e,i,r,o){const u=e.serverCache,f=X0(e,u.getNode(),u.isFullyInitialized()||pe(i),u.isFiltered());return nE(s,f,i,r,tE,o)}function DN(s,e,i,r,o,u){let f;if(tu(r,i)!=null)return e;{const d=new vd(r,e,o),m=e.eventCache.getNode();let p;if(pe(i)||fe(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=eu(r,cs(e));else{const S=e.serverCache.getNode();G(S instanceof se,"serverChildren would be complete if leaf node"),v=gd(r,S)}v=v,p=s.filter.updateFullNode(m,v,u)}else{const v=fe(i);let S=_d(r,v,e.serverCache);S==null&&e.serverCache.isCompleteForChild(v)&&(S=m.getImmediateChild(v)),S!=null?p=s.filter.updateChild(m,v,S,Le(i),d,u):e.eventCache.getNode().hasChild(v)?p=s.filter.updateChild(m,v,se.EMPTY_NODE,Le(i),d,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=eu(r,cs(e)),f.isLeafNode()&&(p=s.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||tu(r,Ce())!=null,Ir(e,p,f,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new hd(r.getIndex()),u=Jx(r);this.processor_=wN(u);const f=i.serverCache,d=i.eventCache,m=o.updateFullNode(se.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(se.EMPTY_NODE,d.getNode(),null),v=new Ai(m,f.isFullyInitialized(),o.filtersNodes()),S=new Ai(p,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=gu(S,v),this.eventGenerator_=new rN(this.query_)}get query(){return this.query_}}function LN(s){return s.viewCache_.serverCache.getNode()}function UN(s){return Jo(s.viewCache_)}function jN(s,e){const i=cs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!pe(e)&&!i.getImmediateChild(fe(e)).isEmpty())?i.getChild(e):null}function Yv(s){return s.eventRegistrations_.length===0}function PN(s,e){s.eventRegistrations_.push(e)}function Fv(s,e,i){const r=[];if(i){G(e==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&r.push(f)})}if(e){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function Kv(s,e,i,r){e.type===tn.MERGE&&e.source.queryId!==null&&(G(cs(s.viewCache_),"We should always have a full cache before handling merges"),G(Jo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=xN(s.processor_,o,e,i,r);return AN(s.processor_,u.viewCache),G(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,iE(s,u.changes,u.viewCache.eventCache.getNode(),null)}function zN(s,e){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(qe,(u,f)=>{r.push(ua(u,f))}),i.isFullyInitialized()&&r.push(F0(i.getNode())),iE(s,r,i.getNode(),e)}function iE(s,e,i,r){const o=r?[r]:s.eventRegistrations_;return lN(s.eventGenerator_,e,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;class sE{constructor(){this.views=new Map}}function HN(s){G(!iu,"__referenceConstructor has already been defined"),iu=s}function BN(){return G(iu,"Reference.ts has not been loaded"),iu}function VN(s){return s.views.size===0}function yd(s,e,i,r){const o=e.source.queryId;if(o!==null){const u=s.views.get(o);return G(u!=null,"SyncTree gave us an op for an invalid query."),Kv(u,e,i,r)}else{let u=[];for(const f of s.views.values())u=u.concat(Kv(f,e,i,r));return u}}function aE(s,e,i,r,o){const u=e._queryIdentifier,f=s.views.get(u);if(!f){let d=eu(i,o?r:null),m=!1;d?m=!0:r instanceof se?(d=gd(i,r),m=!1):(d=se.EMPTY_NODE,m=!1);const p=gu(new Ai(d,m,!1),new Ai(r,o,!1));return new kN(e,p)}return f}function qN(s,e,i,r,o,u){const f=aE(s,e,r,o,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),PN(f,i),zN(f,i)}function GN(s,e,i,r){const o=e._queryIdentifier,u=[];let f=[];const d=xi(s);if(o==="default")for(const[m,p]of s.views.entries())f=f.concat(Fv(p,i,r)),Yv(p)&&(s.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=s.views.get(o);m&&(f=f.concat(Fv(m,i,r)),Yv(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return d&&!xi(s)&&u.push(new(BN())(e._repo,e._path)),{removed:u,events:f}}function rE(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function Ri(s,e){let i=null;for(const r of s.views.values())i=i||jN(r,e);return i}function lE(s,e){if(e._queryParams.loadsAllData())return vu(s);{const r=e._queryIdentifier;return s.views.get(r)}}function oE(s,e){return lE(s,e)!=null}function xi(s){return vu(s)!=null}function vu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;function YN(s){G(!su,"__referenceConstructor has already been defined"),su=s}function FN(){return G(su,"Reference.ts has not been loaded"),su}let KN=1;class Qv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=bN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uE(s,e,i,r,o){return fN(s.pendingWriteTree_,e,i,r,o),o?ll(s,new us(Q0(),e,i)):[]}function is(s,e,i=!1){const r=hN(s.pendingWriteTree_,e);if(dN(s.pendingWriteTree_,e)){let u=new Ue(null);return r.snap!=null?u=u.set(Ce(),!0):Rt(r.children,f=>{u=u.set(new De(f),!0)}),ll(s,new $o(r.path,u,i))}else return[]}function rl(s,e,i){return ll(s,new us(md(),e,i))}function QN(s,e,i){const r=Ue.fromObject(i);return ll(s,new Gr(md(),e,r))}function XN(s,e){return ll(s,new qr(md(),e))}function WN(s,e,i){const r=Sd(s,i);if(r){const o=bd(r),u=o.path,f=o.queryId,d=gt(u,e),m=new qr(pd(f),d);return Td(s,u,m)}else return[]}function au(s,e,i,r,o=!1){const u=e._path,f=s.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||oE(f,e))){const m=GN(f,e,i,r);VN(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const p=m.removed;if(d=m.events,!o){const v=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(u,(E,w)=>xi(w));if(v&&!S){const E=s.syncPointTree_.subtree(u);if(!E.isEmpty()){const w=JN(E);for(let A=0;A<w.length;++A){const P=w[A],H=P.query,z=dE(s,P);s.listenProvider_.startListening(Dr(H),Yr(s,H),z.hashFn,z.onComplete)}}}!S&&p.length>0&&!r&&(v?s.listenProvider_.stopListening(Dr(e),null):p.forEach(E=>{const w=s.queryToTagMap.get(yu(E));s.listenProvider_.stopListening(Dr(E),w)}))}eO(s,p)}return d}function cE(s,e,i,r){const o=Sd(s,r);if(o!=null){const u=bd(o),f=u.path,d=u.queryId,m=gt(f,e),p=new us(pd(d),m,i);return Td(s,f,p)}else return[]}function ZN(s,e,i,r){const o=Sd(s,r);if(o){const u=bd(o),f=u.path,d=u.queryId,m=gt(f,e),p=Ue.fromObject(i),v=new Gr(pd(d),m,p);return Td(s,f,v)}else return[]}function Oh(s,e,i,r=!1){const o=e._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(E,w)=>{const A=gt(E,o);u=u||Ri(w,A),f=f||xi(w)});let d=s.syncPointTree_.get(o);d?(f=f||xi(d),u=u||Ri(d,Ce())):(d=new sE,s.syncPointTree_=s.syncPointTree_.set(o,d));let m;u!=null?m=!0:(m=!1,u=se.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((w,A)=>{const P=Ri(A,Ce());P&&(u=u.updateImmediateChild(w,P))}));const p=oE(d,e);if(!p&&!e._queryParams.loadsAllData()){const E=yu(e);G(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const w=tO();s.queryToTagMap.set(E,w),s.tagToQueryMap.set(w,E)}const v=_u(s.pendingWriteTree_,o);let S=qN(d,e,i,v,u,m);if(!p&&!f&&!r){const E=lE(d,e);S=S.concat(nO(s,e,E))}return S}function Ed(s,e,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(f,d)=>{const m=gt(f,e),p=Ri(d,m);if(p)return p});return $0(o,e,u,i,!0)}function $N(s,e){const i=e._path;let r=null;s.syncPointTree_.foreachOnPath(i,(p,v)=>{const S=gt(p,i);r=r||Ri(v,S)});let o=s.syncPointTree_.get(i);o?r=r||Ri(o,Ce()):(o=new sE,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=r!=null,f=u?new Ai(r,!0,!1):null,d=_u(s.pendingWriteTree_,e._path),m=aE(o,e,d,u?f.getNode():se.EMPTY_NODE,u);return UN(m)}function ll(s,e){return fE(e,s.syncPointTree_,null,_u(s.pendingWriteTree_,Ce()))}function fE(s,e,i,r){if(pe(s.path))return hE(s,e,i,r);{const o=e.get(Ce());i==null&&o!=null&&(i=Ri(o,Ce()));let u=[];const f=fe(s.path),d=s.operationForChild(f),m=e.children.get(f);if(m&&d){const p=i?i.getImmediateChild(f):null,v=J0(r,f);u=u.concat(fE(d,m,p,v))}return o&&(u=u.concat(yd(o,s,r,i))),u}}function hE(s,e,i,r){const o=e.get(Ce());i==null&&o!=null&&(i=Ri(o,Ce()));let u=[];return e.children.inorderTraversal((f,d)=>{const m=i?i.getImmediateChild(f):null,p=J0(r,f),v=s.operationForChild(f);v&&(u=u.concat(hE(v,d,m,p)))}),o&&(u=u.concat(yd(o,s,r,i))),u}function dE(s,e){const i=e.query,r=Yr(s,i);return{hashFn:()=>(LN(e)||se.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?WN(s,i._path,r):XN(s,i._path);{const u=$A(o,i);return au(s,i,null,u)}}}}function Yr(s,e){const i=yu(e);return s.queryToTagMap.get(i)}function yu(s){return s._path.toString()+"$"+s._queryIdentifier}function Sd(s,e){return s.tagToQueryMap.get(e)}function bd(s){const e=s.indexOf("$");return G(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new De(s.substr(0,e))}}function Td(s,e,i){const r=s.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const o=_u(s.pendingWriteTree_,e);return yd(r,i,o,null)}function JN(s){return s.fold((e,i,r)=>{if(i&&xi(i))return[vu(i)];{let o=[];return i&&(o=rE(i)),Rt(r,(u,f)=>{o=o.concat(f)}),o}})}function Dr(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(FN())(s._repo,s._path):s}function eO(s,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const o=yu(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function tO(){return KN++}function nO(s,e,i){const r=e._path,o=Yr(s,e),u=dE(s,i),f=s.listenProvider_.startListening(Dr(e),o,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(r);if(o)G(!xi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((p,v,S)=>{if(!pe(p)&&v&&xi(v))return[vu(v).query];{let E=[];return v&&(E=E.concat(rE(v).map(w=>w.query))),Rt(S,(w,A)=>{E=E.concat(A)}),E}});for(let p=0;p<m.length;++p){const v=m[p];s.listenProvider_.stopListening(Dr(v),Yr(s,v))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Cd(i)}node(){return this.node_}}class Rd{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Je(this.path_,e);return new Rd(this.syncTree_,i)}node(){return Ed(this.syncTree_,this.path_)}}const iO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Xv=function(s,e,i){if(!s||typeof s!="object")return s;if(G(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return sO(s[".sv"],e,i);if(typeof s[".sv"]=="object")return aO(s[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},sO=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:G(!1,"Unexpected server value: "+s)}},aO=function(s,e,i){s.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const o=e.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},rO=function(s,e,i,r){return wd(e,new Rd(i,s),r)},mE=function(s,e,i){return wd(s,new Cd(e),i)};function wd(s,e,i){const r=s.getPriority().val(),o=Xv(r,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,d=Xv(f.getValue(),e,i);return d!==f.getValue()||o!==f.getPriority().val()?new st(d,rt(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new st(o))),f.forEachChild(qe,(d,m)=>{const p=wd(m,e.getImmediateChild(d),i);p!==m&&(u=u.updateImmediateChild(d,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function xd(s,e){let i=e instanceof De?e:new De(e),r=s,o=fe(i);for(;o!==null;){const u=aa(r.node.children,o)||{children:{},childCount:0};r=new Ad(o,r,u),i=Le(i),o=fe(i)}return r}function ya(s){return s.node.value}function pE(s,e){s.node.value=e,Ih(s)}function gE(s){return s.node.childCount>0}function lO(s){return ya(s)===void 0&&!gE(s)}function Eu(s,e){Rt(s.node.children,(i,r)=>{e(new Ad(i,s,r))})}function _E(s,e,i,r){i&&e(s),Eu(s,o=>{_E(o,e,!0)})}function oO(s,e,i){let r=s.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ol(s){return new De(s.parent===null?s.name:ol(s.parent)+"/"+s.name)}function Ih(s){s.parent!==null&&uO(s.parent,s.name,s)}function uO(s,e,i){const r=lO(i),o=qn(s.node.children,e);r&&o?(delete s.node.children[e],s.node.childCount--,Ih(s)):!r&&!o&&(s.node.children[e]=i.node,s.node.childCount++,Ih(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/[\[\].#$\/\u0000-\u001F\u007F]/,fO=/[\[\].#$\u0000-\u001F\u007F]/,oh=10*1024*1024,vE=function(s){return typeof s=="string"&&s.length!==0&&!cO.test(s)},yE=function(s){return typeof s=="string"&&s.length!==0&&!fO.test(s)},hO=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),yE(s)},EE=function(s,e,i,r){r&&e===void 0||Nd(Gh(s,"value"),e,i)},Nd=function(s,e,i){const r=i instanceof De?new Ix(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+es(r));if(typeof e=="function")throw new Error(s+"contains a function "+es(r)+" with contents = "+e.toString());if(g0(e))throw new Error(s+"contains "+e.toString()+" "+es(r));if(typeof e=="string"&&e.length>oh/3&&fu(e)>oh)throw new Error(s+"contains a string greater than "+oh+" utf8 bytes "+es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Rt(e,(f,d)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!vE(f)))throw new Error(s+" contains an invalid key ("+f+") "+es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Mx(r,f),Nd(s,d,r),Dx(r)}),o&&u)throw new Error(s+' contains ".value" child '+es(r)+" in addition to actual children.")}},SE=function(s,e,i,r){if(!yE(i))throw new Error(Gh(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dO=function(s,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),SE(s,e,i)},bE=function(s,e){if(fe(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},mO=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!hO(i))throw new Error(Gh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Od(s,e){let i=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();i!==null&&!ud(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function TE(s,e,i){Od(s,i),CE(s,r=>ud(r,e))}function pn(s,e,i){Od(s,i),CE(s,r=>en(r,e)||en(e,r))}function CE(s,e){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;e(u)?(gO(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function gO(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const r=i.getEventRunner();Nr&&dt("event: "+i.toString()),va(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="repo_interrupt",vO=25;class yO{constructor(e,i,r,o){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zo(),this.transactionQueueTree_=new Ad,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function EO(s,e,i){if(s.stats_=ld(s.repoInfo_),s.forceRestClient_||nx())s.server_=new Wo(s.repoInfo_,(r,o,u,f)=>{Wv(s,r,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Zv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Pn(s.repoInfo_,e,(r,o,u,f)=>{Wv(s,r,o,u,f)},r=>{Zv(s,r)},r=>{SO(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=lx(s.repoInfo_,()=>new aN(s.stats_,s.server_)),s.infoData_=new eN,s.infoSyncTree_=new Qv({startListening:(r,o,u,f)=>{let d=[];const m=s.infoData_.getNode(r._path);return m.isEmpty()||(d=rl(s.infoSyncTree_,r._path,m),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),Md(s,"connected",!1),s.serverSyncTree_=new Qv({startListening:(r,o,u,f)=>(s.server_.listen(r,u,o,(d,m)=>{const p=f(d,m);pn(s.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function RE(s){const i=s.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Id(s){return iO({timestamp:RE(s)})}function Wv(s,e,i,r,o){s.dataUpdateCount++;const u=new De(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(o)if(r){const m=zo(i,p=>rt(p));f=ZN(s.serverSyncTree_,u,m,o)}else{const m=rt(i);f=cE(s.serverSyncTree_,u,m,o)}else if(r){const m=zo(i,p=>rt(p));f=QN(s.serverSyncTree_,u,m)}else{const m=rt(i);f=rl(s.serverSyncTree_,u,m)}let d=u;f.length>0&&(d=bu(s,u)),pn(s.eventQueue_,d,f)}function Zv(s,e){Md(s,"connected",e),e===!1&&CO(s)}function SO(s,e){Rt(e,(i,r)=>{Md(s,i,r)})}function Md(s,e,i){const r=new De("/.info/"+e),o=rt(i);s.infoData_.updateSnapshot(r,o);const u=rl(s.infoSyncTree_,r,o);pn(s.eventQueue_,r,u)}function wE(s){return s.nextWriteId_++}function bO(s,e,i){const r=$N(s.serverSyncTree_,e);return r!=null?Promise.resolve(r):s.server_.get(e).then(o=>{const u=rt(o).withIndex(e._queryParams.getIndex());Oh(s.serverSyncTree_,e,i,!0);let f;if(e._queryParams.loadsAllData())f=rl(s.serverSyncTree_,e._path,u);else{const d=Yr(s.serverSyncTree_,e);f=cE(s.serverSyncTree_,e._path,u,d)}return pn(s.eventQueue_,e._path,f),au(s.serverSyncTree_,e,i,null,!0),u},o=>(Su(s,"get for query "+$e(e)+" failed: "+o),Promise.reject(new Error(o))))}function TO(s,e,i,r,o){Su(s,"set",{path:e.toString(),value:i,priority:r});const u=Id(s),f=rt(i,r),d=Ed(s.serverSyncTree_,e),m=mE(f,d,u),p=wE(s),v=uE(s.serverSyncTree_,e,m,p,!0);Od(s.eventQueue_,v),s.server_.put(e.toString(),f.val(!0),(E,w)=>{const A=E==="ok";A||Ct("set at "+e+" failed: "+E);const P=is(s.serverSyncTree_,p,!A);pn(s.eventQueue_,e,P),xO(s,o,E,w)});const S=IE(s,e);bu(s,S),pn(s.eventQueue_,S,[])}function CO(s){Su(s,"onDisconnectEvents");const e=Id(s),i=Zo();Rh(s.onDisconnect_,Ce(),(o,u)=>{const f=rO(o,u,s.serverSyncTree_,e);K0(i,o,f)});let r=[];Rh(i,Ce(),(o,u)=>{r=r.concat(rl(s.serverSyncTree_,o,u));const f=IE(s,o);bu(s,f)}),s.onDisconnect_=Zo(),pn(s.eventQueue_,Ce(),r)}function RO(s,e,i){let r;fe(e._path)===".info"?r=Oh(s.infoSyncTree_,e,i):r=Oh(s.serverSyncTree_,e,i),TE(s.eventQueue_,e._path,r)}function wO(s,e,i){let r;fe(e._path)===".info"?r=au(s.infoSyncTree_,e,i):r=au(s.serverSyncTree_,e,i),TE(s.eventQueue_,e._path,r)}function AO(s){s.persistentConnection_&&s.persistentConnection_.interrupt(_O)}function Su(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),dt(i,...e)}function xO(s,e,i,r){e&&va(()=>{if(i==="ok")e(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const f=new Error(u);f.code=o,e(f)}})}function AE(s,e,i){return Ed(s.serverSyncTree_,e,i)||se.EMPTY_NODE}function Dd(s,e=s.transactionQueueTree_){if(e||Tu(s,e),ya(e)){const i=NE(s,e);G(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&NO(s,ol(e),i)}else gE(e)&&Eu(e,i=>{Dd(s,i)})}function NO(s,e,i){const r=i.map(p=>p.currentWriteId),o=AE(s,e,r);let u=o;const f=o.hash();for(let p=0;p<i.length;p++){const v=i[p];G(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const S=gt(e,v.path);u=u.updateChild(S,v.currentOutputSnapshotRaw)}const d=u.val(!0),m=e;s.server_.put(m.toString(),d,p=>{Su(s,"transaction put response",{path:m.toString(),status:p});let v=[];if(p==="ok"){const S=[];for(let E=0;E<i.length;E++)i[E].status=2,v=v.concat(is(s.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&S.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Tu(s,xd(s.transactionQueueTree_,e)),Dd(s,s.transactionQueueTree_),pn(s.eventQueue_,e,v);for(let E=0;E<S.length;E++)va(S[E])}else{if(p==="datastale")for(let S=0;S<i.length;S++)i[S].status===3?i[S].status=4:i[S].status=0;else{Ct("transaction at "+m.toString()+" failed: "+p);for(let S=0;S<i.length;S++)i[S].status=4,i[S].abortReason=p}bu(s,e)}},f)}function bu(s,e){const i=xE(s,e),r=ol(i),o=NE(s,i);return OO(s,o,r),r}function OO(s,e,i){if(e.length===0)return;const r=[];let o=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const m=e[d],p=gt(i,m.path);let v=!1,S;if(G(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,S=m.abortReason,o=o.concat(is(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=vO)v=!0,S="maxretry",o=o.concat(is(s.serverSyncTree_,m.currentWriteId,!0));else{const E=AE(s,m.path,f);m.currentInputSnapshot=E;const w=e[d].update(E.val());if(w!==void 0){Nd("transaction failed: Data returned ",w,m.path);let A=rt(w);typeof w=="object"&&w!=null&&qn(w,".priority")||(A=A.updatePriority(E.getPriority()));const H=m.currentWriteId,z=Id(s),F=mE(A,E,z);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=F,m.currentWriteId=wE(s),f.splice(f.indexOf(H),1),o=o.concat(uE(s.serverSyncTree_,m.path,F,m.currentWriteId,m.applyLocally)),o=o.concat(is(s.serverSyncTree_,H,!0))}else v=!0,S="nodata",o=o.concat(is(s.serverSyncTree_,m.currentWriteId,!0))}pn(s.eventQueue_,i,o),o=[],v&&(e[d].status=2,function(E){setTimeout(E,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(S==="nodata"?r.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):r.push(()=>e[d].onComplete(new Error(S),!1,null))))}Tu(s,s.transactionQueueTree_);for(let d=0;d<r.length;d++)va(r[d]);Dd(s,s.transactionQueueTree_)}function xE(s,e){let i,r=s.transactionQueueTree_;for(i=fe(e);i!==null&&ya(r)===void 0;)r=xd(r,i),e=Le(e),i=fe(e);return r}function NE(s,e){const i=[];return OE(s,e,i),i.sort((r,o)=>r.order-o.order),i}function OE(s,e,i){const r=ya(e);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Eu(e,o=>{OE(s,o,i)})}function Tu(s,e){const i=ya(e);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,pE(e,i.length>0?i:void 0)}Eu(e,r=>{Tu(s,r)})}function IE(s,e){const i=ol(xE(s,e)),r=xd(s.transactionQueueTree_,e);return oO(r,o=>{uh(s,o)}),uh(s,r),_E(r,o=>{uh(s,o)}),i}function uh(s,e){const i=ya(e);if(i){const r=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(G(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(G(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(is(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?pE(e,void 0):i.length=u+1,pn(s.eventQueue_,ol(e),o);for(let f=0;f<r.length;f++)va(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(s){let e="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function MO(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ct(`Invalid query segment '${i}' in query '${s}'`)}return e}const $v=function(s,e){const i=DO(s),r=i.namespace;i.domain==="firebase.com"&&Vn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||KA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new x0(i.host,i.secure,r,o,e,"",r!==i.subdomain),path:new De(i.pathString)}},DO=function(s){let e="",i="",r="",o="",u="",f=!0,d="https",m=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(d=s.substring(0,p-1),s=s.substring(p+2));let v=s.indexOf("/");v===-1&&(v=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),e=s.substring(0,Math.min(v,S)),v<S&&(o=IO(s.substring(v,S)));const E=MO(s.substring(Math.min(s.length,S)));p=e.indexOf(":"),p>=0?(f=d==="https"||d==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")i="localhost";else if(w.split(".").length<=2)i=w;else{const A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),i=e.substring(A+1),u=r}"ns"in E&&(u=E.ns)}return{host:e,port:m,domain:i,subdomain:r,secure:f,scheme:d,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kO=function(){let s=0;const e=[];return function(i){const r=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Jv.charAt(i%64),i=Math.floor(i/64);G(i===0,"Cannot push at time == 0");let f=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Jv.charAt(e[o]);return G(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,i,r,o){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class UO{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,r,o){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return pe(this._path)?null:j0(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=jv(this._queryParams),i=ad(e);return i==="{}"?"default":i}get _queryObject(){return jv(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof kd))return!1;const i=this._repo===e._repo,r=ud(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ox(this._path)}}class Yn extends kd{constructor(e,i){super(e,i,new dd,!1)}get parent(){const e=z0(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fr{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new De(e),r=Kr(this.ref,e);return new Fr(this._node.getChild(i),r,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Fr(o,Kr(this.ref,r),qe)))}hasChild(e){const i=new De(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ru(s,e){return s=mt(s),s._checkNotDeleted("ref"),e!==void 0?Kr(s._root,e):s._root}function Kr(s,e){return s=mt(s),fe(s._path)===null?dO("child","path",e):SE("child","path",e),new Yn(s._repo,Je(s._path,e))}function jO(s,e){s=mt(s),bE("push",s._path),EE("push",e,s._path,!0);const i=RE(s._repo),r=kO(i),o=Kr(s,r),u=Kr(s,r);let f;return e!=null?f=DE(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function DE(s,e){s=mt(s),bE("set",s._path),EE("set",e,s._path,!1);const i=new cu;return TO(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function PO(s){s=mt(s);const e=new ME(()=>{}),i=new Cu(e);return bO(s._repo,s,i).then(r=>new Fr(r,new Yn(s._repo,s._path),s._queryParams.getIndex()))}class Cu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new LO("value",this,new Fr(e.snapshotNode,new Yn(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new UO(this,e,i):null}matches(e){return e instanceof Cu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function zO(s,e,i,r,o){const u=new ME(i,void 0),f=new Cu(u);return RO(s._repo,s,f),()=>wO(s._repo,s,f)}function HO(s,e,i,r){return zO(s,"value",e)}HN(Yn);YN(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="FIREBASE_DATABASE_EMULATOR_HOST",Mh={};let VO=!1;function qO(s,e,i,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=Zr(u);s.repoInfo_=new x0(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function GO(s,e,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=$v(u,o),d=f.repoInfo,m;typeof process<"u"&&yv&&(m=yv[BO]),m?(u=`http://${m}?ns=${d.namespace}`,f=$v(u,o),d=f.repoInfo):f.repoInfo.secure;const p=new sx(s.name,s.options,e);mO("Invalid Firebase Database URL",f),pe(f.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=FO(d,s,p,new ix(s,i));return new KO(v,s)}function YO(s,e){const i=Mh[e];(!i||i[s.key]!==s)&&Vn(`Database ${e}(${s.repoInfo_}) has already been deleted.`),AO(s),delete i[s.key]}function FO(s,e,i,r){let o=Mh[e.name];o||(o={},Mh[e.name]=o);let u=o[s.toURLString()];return u&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new yO(s,VO,i,r),o[s.toURLString()]=u,u}class KO{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(EO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}}function QO(s=Oy(),e){const i=Kh(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=XC("database");r&&XO(i,...r)}return i}function XO(s,e,i,r={}){s=mt(s),s._checkNotDeleted("useEmulator");const o=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&ss(r,u.repoInfo_.emulatorOptions))return;Vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Lo(Lo.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:WC(r.mockUserToken,s.app.options.projectId);f=new Lo(d)}Zr(e)&&(Ty(e),Cy("Database",!0)),qO(u,o,r,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(s){BA(pa),ra(new as("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return GO(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),Ti(Ev,Sv,s),Ti(Ev,Sv,"esm2017")}Pn.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};Pn.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};WO();const ZO={apiKey:"AIzaSyCef4FVHtdYAdceWqOcj4NJJYQRTx2Gi8w",authDomain:"premix-3a811.firebaseapp.com",projectId:"premix-3a811",storageBucket:"premix-3a811.appspot.com",messagingSenderId:"752449813800",appId:"1:752449813800:web:fe8551e86b5c2a6743241d",databaseURL:"https://premix-3a811-default-rtdb.firebaseio.com"},kE=Ny(ZO),Ni=jA(kE),lu=QO(kE);function LE(){const s=Ni.currentUser,e=JSON.parse(localStorage.getItem("user"));return(s==null?void 0:s.displayName)||(e==null?void 0:e.username)||(e==null?void 0:e.displayName)||"Kullanıcı"}function $O({isAuthenticated:s,onLogout:e}){return JSON.parse(localStorage.getItem("user")),_.jsxs("header",{className:"header",children:[_.jsx("div",{className:"logo",children:_.jsx("h1",{children:"PREMIX"})}),_.jsx("nav",{className:"nav-menu",children:_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(Ft,{to:"/",children:"Anasayfa"})}),_.jsx("li",{children:_.jsx(Ft,{to:"/about",children:"Hakkımızda"})}),s?_.jsxs("li",{children:[_.jsx(Ft,{to:"/account",children:LE()}),_.jsx("button",{onClick:e,className:"logout-btn",children:"Çıkış Yap"})]}):_.jsx("li",{children:_.jsx(Ft,{to:"/login",children:"Giriş Yap"})})]})})]})}const UE=()=>{const s=async()=>{const e=new Mn;try{(await Fw(Ni,e)).user&&window.location.reload()}catch(i){console.error("Google ile giriş başarısız:",i),alert("Bir sorun oluştu, lütfen tekrar deneyin.")}};return _.jsxs("div",{className:"social-login",children:[_.jsxs("button",{className:"social-button",onClick:s,children:[_.jsx("img",{src:"google.svg",alt:"Google",className:"src"}),"Google"]}),_.jsxs("button",{className:"social-button",disabled:!0,children:[_.jsx("img",{src:"apple.svg",alt:"Apple ",className:"src"}),"Apple"]})]})},kr=({type:s,placeholder:e,icon:i,value:r,onChange:o})=>{const[u,f]=N.useState(!1);return _.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:s==="password"?u?"text":"password":s,placeholder:e,className:"input-field",required:!0,value:r,onChange:o}),_.jsx("i",{className:"material-symbols-rounded",children:i}),s==="password"&&_.jsx("i",{onClick:()=>f(d=>!d),className:"material-symbols-rounded eye-icon",children:u?"visibility":"visibility_off"})]})},JO=({setIsAuthenticated:s})=>{const e=Ii(),[i,r]=N.useState(""),[o,u]=N.useState(""),[f,d]=N.useState(""),m=async p=>{if(p.preventDefault(),!i||!o){d("Lütfen e-posta ve şifre girin!");return}try{await bw(Ni,i,o),s(!0),alert("Hoşgeldin!"),e("/"),window.location.reload()}catch{d("Mailiniz veya şifreniz yanlış!")}};return _.jsxs("div",{className:"login-container",children:[_.jsx("h2",{className:"form-title",children:"Giriş Yap"}),_.jsx(UE,{}),_.jsx("p",{className:"separator",children:_.jsx("span",{children:"Veya"})}),_.jsxs("form",{className:"login-form",onSubmit:m,children:[_.jsx(kr,{type:"email",placeholder:"E-posta",icon:"mail",required:!0,value:i,onChange:p=>r(p.target.value)}),_.jsx(kr,{type:"password",placeholder:"Şifre",icon:"lock",required:!0,value:o,onChange:p=>u(p.target.value)}),f&&_.jsx("p",{className:"error-message",children:f}),_.jsx("a",{href:"#",className:"forgot-pass-link",children:"Şifreni mi Unuttun?"}),_.jsx("button",{className:"login-button",children:"Giriş Yap"})]}),_.jsxs("p",{className:"signup-text",children:["Kayıtlı Değil Misin? ",_.jsx(Ft,{to:"/register",children:"Hemen Kayıt Ol"})]})]})},eI=()=>{const s=Ii(),[e,i]=N.useState(""),[r,o]=N.useState(""),[u,f]=N.useState(""),[d,m]=N.useState(""),p=async v=>{if(v.preventDefault(),!e||!r||!u){m("Lütfen tüm alanları doldurun.");return}const S=ru(lu,`usernames/${e}`);if((await PO(S)).exists()){m("Bu kullanıcı adı zaten kayıtlı.");return}if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(r)){m("Lütfen geçerli bir e-posta adresi girin.");return}try{await Sw(Ni,r,u),await t0(Ni.currentUser,{displayName:e}),await DE(ru(lu,`usernames/${e}`),r),alert("Kayıt başarılı! Giriş yapabilirsiniz."),s("/login")}catch(A){A.code==="auth/email-already-in-use"?m("Bu e-posta zaten kayıtlı."):m(A.message)}};return _.jsxs("div",{className:"login-container",children:[_.jsx("h2",{className:"form-title",children:"Kayıt Ol"}),_.jsx(UE,{}),_.jsx("p",{className:"separator",children:_.jsx("span",{children:"Veya"})}),_.jsxs("form",{className:"login-form",onSubmit:p,children:[_.jsx(kr,{type:"text",placeholder:"Kullanıcı Adı",icon:"person",required:!0,value:e,onChange:v=>i(v.target.value)}),_.jsx(kr,{type:"email",placeholder:"E-posta",icon:"mail",required:!0,value:r,onChange:v=>o(v.target.value)}),_.jsx(kr,{type:"password",placeholder:"Şifre",icon:"lock",required:!0,value:u,onChange:v=>f(v.target.value)}),d&&_.jsx("p",{className:"error-message",children:d}),_.jsx("button",{className:"login-button",type:"submit",children:"Kayıt Ol"})]}),_.jsxs("p",{className:"signup-text",children:["Zaten hesabın var mı? ",_.jsx(Ft,{to:"/login",children:"Giriş Yap"})]})]})},tI="/assets/valorant-DeTLKHjJ.png",nI="/assets/csgo-DNk9U2HB.jpg",iI="/assets/lol-l-jfBF2W.jpg";function sI({isAuthenticated:s}){const e=Ii(),i=r=>{s?e(r):(alert("Önce giriş yapmalısınız"),e("/login"))};return _.jsxs("div",{className:"card-container",children:[_.jsx("h2",{children:"Oyununuzu Seçiniz"}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"game-card",onClick:()=>i("/valorant"),children:[_.jsx("img",{src:tI,alt:"Valorant"}),_.jsx("div",{className:"game-title",children:_.jsx("p",{children:"Valorant"})})]}),_.jsxs("div",{className:"game-card",onClick:()=>i("/csgo"),children:[_.jsx("img",{src:nI,alt:"CS:GO"}),_.jsx("div",{className:"game-title",children:_.jsx("p",{children:"Counter-Strike"})})]}),_.jsxs("div",{className:"game-card",onClick:()=>i("/lol"),children:[_.jsx("img",{src:iI,alt:"LoL"}),_.jsx("div",{className:"game-title",children:_.jsx("p",{children:"League Of Legends"})})]})]})]})}const aI=["demir.png","bronz.png","gumus.png","altin.png","platin.png","elmas.png","yucelik.png","olumsuz.png","radyant.png"];function ey(s){return`/ranks/${aI[s]}`}function rI(){const[s,e]=N.useState(0),[i,r]=N.useState(0),[o,u]=N.useState(8),[f,d]=N.useState([]),[m,p]=N.useState([]),[v,S]=N.useState(!1),[E,w]=N.useState({username:"",oyunModu:0,minRank:0,maxRank:8,lobbyCode:"",yasAraligi:"",aranan:""}),A=["Demir","Bronz","Gümüş","Altın","Platin","Elmas","Yücelik","Ölümsüz","Radyant"],P=["Seç","Tümü","Dereceli","Premier","Derecesiz","Tam Gaz","Özel Oyun","1 vs 1","2 vs 2"];N.useEffect(()=>{try{const R=localStorage.getItem("valorantPlayers");if(R){const Se=JSON.parse(R).map(le=>({...le,oyunModu:Number(le.oyunModu),minRank:Number(le.minRank),maxRank:Number(le.maxRank)}));p(Se),d(Se)}}catch(R){console.error("LocalStorage veri okuma hatası:",R),localStorage.removeItem("valorantPlayers")}},[]),N.useEffect(()=>{localStorage.setItem("valorantPlayers",JSON.stringify(m))},[m]);const H=()=>{console.log("Filtreleme yapılıyor:",{oyunModu:s,minRank:i,maxRank:o});const R=m.filter(B=>{const Se=s===0||B.oyunModu===s,le=B.minRank>=i,Qe=B.maxRank<=o;return console.log("Oyuncu:",B.username,{isModEqual:Se,isMinValid:le,isMaxValid:Qe}),Se&&le&&Qe});d(R)},z=R=>e(Number(R.target.value)),F=R=>r(Number(R.target.value)),q=R=>u(Number(R.target.value)),ne=R=>{if(R.preventDefault(),!E.username.trim()){alert("Kullanıcı adı zorunludur!");return}p([...m,E]),d([...f,E]),w({username:"",oyunModu:0,minRank:0,maxRank:8,lobbyCode:"",yasAraligi:"",aranan:""}),S(!1)},W=()=>A.map((R,B)=>_.jsx("option",{value:B,children:R},B)),Ee=()=>P.map((R,B)=>_.jsx("option",{value:B+1,children:R},B+1)),ve=R=>{const B=parseInt(R);return B===0?"Seç":P[B-1]||"Bilinmiyor"},_e=R=>{const B=parseInt(R);return A[B]||"Bilinmiyor"};return _.jsxs("div",{className:"valorant-container",children:[_.jsxs("div",{className:"filter-header",children:[_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Oyun Modu"}),_.jsx("select",{value:s,onChange:z,children:P.map((R,B)=>_.jsx("option",{value:B+1,children:R},B+1))})]}),_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Minimum Rank"}),_.jsx("select",{value:i,onChange:F,children:A.map((R,B)=>_.jsx("option",{value:B,children:R},B))})]}),_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Maksimum Rank"}),_.jsx("select",{value:o,onChange:q,children:A.map((R,B)=>_.jsx("option",{value:B,children:R},B))})]}),_.jsx("button",{className:"refresh-button",onClick:H,children:"Uygula / Yenile"}),_.jsx("button",{className:"refresh-button",onClick:()=>S(!v),"aria-expanded":v,children:v?"İptal":"Oyuncu Ara"})]}),v&&_.jsxs("form",{className:"form-popup",onSubmit:ne,children:[_.jsx("h3",{children:"Bilgilerini Gir"}),_.jsx("input",{placeholder:"Kullanıcı Adı*",value:E.username,onChange:R=>w({...E,username:R.target.value}),required:!0}),_.jsx("input",{placeholder:"Lobi Kodu",value:E.lobbyCode,onChange:R=>w({...E,lobbyCode:R.target.value})}),_.jsx("input",{placeholder:"Yaş Aralığı",value:E.yasAraligi,onChange:R=>w({...E,yasAraligi:R.target.value})}),_.jsx("input",{placeholder:"Aradığı (örn. +1)",value:E.aranan,onChange:R=>w({...E,aranan:R.target.value})}),_.jsx("label",{children:"Oyun Modu"}),_.jsx("select",{value:E.oyunModu,onChange:R=>w({...E,oyunModu:R.target.value}),children:Ee()}),_.jsx("label",{children:"Minimum Rank"}),_.jsx("select",{value:E.minRank,onChange:R=>w({...E,minRank:R.target.value}),children:W()}),_.jsx("label",{children:"Maksimum Rank"}),_.jsx("select",{value:E.maxRank,onChange:R=>w({...E,maxRank:R.target.value}),children:W()}),_.jsx("button",{type:"submit",children:"Ekle"})]}),_.jsxs("div",{className:"find",children:[_.jsxs("div",{className:"find-header",children:[_.jsx("div",{children:"Kullanıcı"}),_.jsx("div",{children:"Oyun modu"}),_.jsx("div",{children:"Lobi kodu"}),_.jsx("div",{children:"Min. - Maks. rank"}),_.jsx("div",{children:"Yaş aralığı"}),_.jsx("div",{children:"Aranan"})]}),(f.length>0?f:m).map((R,B)=>_.jsxs("div",{className:"table-row",children:[_.jsx("div",{className:"user-cell",children:_.jsx("strong",{children:R.username})}),_.jsx("div",{children:ve(R.oyunModu)}),_.jsx("div",{children:R.lobbyCode||"-"}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.jsx("img",{src:ey(R.minRank),alt:_e(R.minRank),style:{width:40,height:40,verticalAlign:"middle"}}),_.jsx("span",{style:{fontSize:"1.5rem",color:"#fff"},children:"-"}),_.jsx("img",{src:ey(R.maxRank),alt:_e(R.maxRank),style:{width:40,height:40,verticalAlign:"middle"}})]}),_.jsx("div",{children:R.yasAraligi||"-"}),_.jsx("div",{children:R.aranan||"-"})]},`${R.username}-${B}`))]})]})}function lI(){const[s,e]=N.useState(0),[i,r]=N.useState(0),[o,u]=N.useState(8),[f,d]=N.useState([]),[m,p]=N.useState([]),[v,S]=N.useState(!1),[E,w]=N.useState({username:"",oyunModu:0,minRank:0,maxRank:8,lobbyCode:"",yasAraligi:"",aranan:""}),A=["Demir","Bronz","Gümüş","Altın","Platin","Zümrüt","Elmas","Ustalık","Büyük Usta","Şampiyonluk"],P=["Seç","Tümü","Sihirdar Vadisi (Dereceli) Tek/Çift","Sihirdar Vadisi (Dereceli) Esnek","Aram 5v5,Sihirdar Vadisi (Sıralı)","Sihirdar Vadisi (Hızlı Oyun)","TFT","1 vs 1","2 vs 2","3 vs 3","4 vs 4","Özel Oyun"];N.useEffect(()=>{try{const R=localStorage.getItem("lolPlayers");if(R){const Se=JSON.parse(R).map(le=>({...le,oyunModu:Number(le.oyunModu),minRank:Number(le.minRank),maxRank:Number(le.maxRank)}));p(Se),d(Se)}}catch(R){console.error("LocalStorage veri okuma hatası:",R),localStorage.removeItem("lolPlayers")}},[]),N.useEffect(()=>{localStorage.setItem("lolPlayers",JSON.stringify(m))},[m]);const H=()=>{console.log("Filtreleme yapılıyor:",{oyunModu:s,minRank:i,maxRank:o});const R=m.filter(B=>{const Se=s===0||B.oyunModu===s,le=B.minRank>=i,Qe=B.maxRank<=o;return console.log("Oyuncu:",B.username,{isModEqual:Se,isMinValid:le,isMaxValid:Qe}),Se&&le&&Qe});d(R)},z=R=>e(Number(R.target.value)),F=R=>r(Number(R.target.value)),q=R=>u(Number(R.target.value)),ne=R=>{if(R.preventDefault(),!E.username.trim()){alert("Kullanıcı adı zorunludur!");return}p([...m,E]),d([...f,E]),w({username:"",oyunModu:0,minRank:0,maxRank:8,lobbyCode:"",yasAraligi:"",aranan:""}),S(!1)},W=()=>A.map((R,B)=>_.jsx("option",{value:B,children:R},B)),Ee=()=>P.map((R,B)=>_.jsx("option",{value:B+1,children:R},B+1)),ve=R=>{const B=parseInt(R);return B===0?"Seç":P[B-1]||"Bilinmiyor"},_e=R=>{const B=parseInt(R);return A[B]||"Bilinmiyor"};return _.jsxs("div",{className:"lol-container",children:[_.jsxs("div",{className:"filter-header",children:[_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Oyun Modu"}),_.jsx("select",{value:s,onChange:z,children:P.map((R,B)=>_.jsx("option",{value:B+1,children:R},B+1))})]}),_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Minimum Rank"}),_.jsx("select",{value:i,onChange:F,children:A.map((R,B)=>_.jsx("option",{value:B,children:R},B))})]}),_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Maksimum Rank"}),_.jsx("select",{value:o,onChange:q,children:A.map((R,B)=>_.jsx("option",{value:B,children:R},B))})]}),_.jsx("button",{className:"refresh-button",onClick:H,children:"Uygula / Yenile"}),_.jsx("button",{className:"refresh-button",onClick:()=>S(!v),"aria-expanded":v,children:v?"İptal":"Kendi Bilgini Ekle"})]}),v&&_.jsxs("form",{className:"form-popup",onSubmit:ne,children:[_.jsx("h3",{children:"Bilgilerini Gir"}),_.jsx("input",{placeholder:"Kullanıcı Adı*",value:E.username,onChange:R=>w({...E,username:R.target.value}),required:!0}),_.jsx("input",{placeholder:"Lobi Kodu",value:E.lobbyCode,onChange:R=>w({...E,lobbyCode:R.target.value})}),_.jsx("input",{placeholder:"Yaş Aralığı",value:E.yasAraligi,onChange:R=>w({...E,yasAraligi:R.target.value})}),_.jsx("input",{placeholder:"Aradığı (örn. +1)",value:E.aranan,onChange:R=>w({...E,aranan:R.target.value})}),_.jsx("label",{children:"Oyun Modu"}),_.jsx("select",{value:E.oyunModu,onChange:R=>w({...E,oyunModu:R.target.value}),children:Ee()}),_.jsx("label",{children:"Minimum Rank"}),_.jsx("select",{value:E.minRank,onChange:R=>w({...E,minRank:R.target.value}),children:W()}),_.jsx("label",{children:"Maksimum Rank"}),_.jsx("select",{value:E.maxRank,onChange:R=>w({...E,maxRank:R.target.value}),children:W()}),_.jsx("button",{type:"submit",children:"Ekle"})]}),_.jsxs("div",{className:"find",children:[_.jsxs("div",{className:"find-header",children:[_.jsx("div",{children:"Kullanıcı"}),_.jsx("div",{children:"Oyun modu"}),_.jsx("div",{children:"Lobi kodu"}),_.jsx("div",{children:"Min. - Maks. rank"}),_.jsx("div",{children:"Yaş aralığı"}),_.jsx("div",{children:"Aranan"})]}),(f.length>0?f:m).map((R,B)=>_.jsxs("div",{className:"table-row",children:[_.jsx("div",{className:"user-cell",children:_.jsx("strong",{children:R.username})}),_.jsx("div",{children:ve(R.oyunModu)}),_.jsx("div",{children:R.lobbyCode||"-"}),_.jsxs("div",{children:[_e(R.minRank)," - ",_e(R.maxRank)]}),_.jsx("div",{children:R.yasAraligi||"-"}),_.jsx("div",{children:R.aranan||"-"})]},`${R.username}-${B}`))]})]})}function oI(){const[s,e]=N.useState(0),[i,r]=N.useState(0),[o,u]=N.useState(8),[f,d]=N.useState([]),[m,p]=N.useState([]),[v,S]=N.useState(!1),[E,w]=N.useState({username:"",oyunModu:0,minRank:0,maxRank:8,lobbyCode:"",yasAraligi:"",aranan:""}),A=["Gümüş","Gümüş Elit","Altın Nova","Usta Muhafız","Usta Muhafız Elit","Seçkin Usta Muhafız","Efsanevi Kartal"," Efsanevi Kartal Usta","Yüce Usta Birinci Sınıf","Küresel Elit"],P=["Seç","Tümü","Rekabetçi","Rahat","Ölüm Kalım Maçı","Kanat Oyunu","Silah Yarışı","Özel Oyun"];N.useEffect(()=>{try{const R=localStorage.getItem("csgoPlayers");if(R){const Se=JSON.parse(R).map(le=>({...le,oyunModu:Number(le.oyunModu),minRank:Number(le.minRank),maxRank:Number(le.maxRank)}));p(Se),d(Se)}}catch(R){console.error("LocalStorage veri okuma hatası:",R),localStorage.removeItem("csgoPlayers")}},[]),N.useEffect(()=>{localStorage.setItem("csgoPlayers",JSON.stringify(m))},[m]);const H=()=>{console.log("Filtreleme yapılıyor:",{oyunModu:s,minRank:i,maxRank:o});const R=m.filter(B=>{const Se=s===0||B.oyunModu===s,le=B.minRank>=i,Qe=B.maxRank<=o;return console.log("Oyuncu:",B.username,{isModEqual:Se,isMinValid:le,isMaxValid:Qe}),Se&&le&&Qe});d(R)},z=R=>e(Number(R.target.value)),F=R=>r(Number(R.target.value)),q=R=>u(Number(R.target.value)),ne=R=>{if(R.preventDefault(),!E.username.trim()){alert("Kullanıcı adı zorunludur!");return}p([...m,E]),d([...f,E]),w({username:"",oyunModu:0,minRank:0,maxRank:8,lobbyCode:"",yasAraligi:"",aranan:""}),S(!1)},W=()=>A.map((R,B)=>_.jsx("option",{value:B,children:R},B)),Ee=()=>P.map((R,B)=>_.jsx("option",{value:B+1,children:R},B+1)),ve=R=>{const B=parseInt(R);return B===0?"Seç":P[B-1]||"Bilinmiyor"},_e=R=>{const B=parseInt(R);return A[B]||"Bilinmiyor"};return _.jsxs("div",{className:"csgo-container",children:[_.jsxs("div",{className:"filter-header",children:[_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Oyun Modu"}),_.jsx("select",{value:s,onChange:z,children:P.map((R,B)=>_.jsx("option",{value:B+1,children:R},B+1))})]}),_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Minimum Rank"}),_.jsx("select",{value:i,onChange:F,children:A.map((R,B)=>_.jsx("option",{value:B,children:R},B))})]}),_.jsxs("div",{className:"filter",children:[_.jsx("label",{children:"Maksimum Rank"}),_.jsx("select",{value:o,onChange:q,children:A.map((R,B)=>_.jsx("option",{value:B,children:R},B))})]}),_.jsx("button",{className:"refresh-button",onClick:H,children:"Uygula / Yenile"}),_.jsx("button",{className:"refresh-button",onClick:()=>S(!v),"aria-expanded":v,children:v?"İptal":"Kendi Bilgini Ekle"})]}),v&&_.jsxs("form",{className:"form-popup",onSubmit:ne,children:[_.jsx("h3",{children:"Bilgilerini Gir"}),_.jsx("input",{placeholder:"Kullanıcı Adı*",value:E.username,onChange:R=>w({...E,username:R.target.value}),required:!0}),_.jsx("input",{placeholder:"Lobi Kodu",value:E.lobbyCode,onChange:R=>w({...E,lobbyCode:R.target.value})}),_.jsx("input",{placeholder:"Yaş Aralığı",value:E.yasAraligi,onChange:R=>w({...E,yasAraligi:R.target.value})}),_.jsx("input",{placeholder:"Aradığı (örn. +1)",value:E.aranan,onChange:R=>w({...E,aranan:R.target.value})}),_.jsx("label",{children:"Oyun Modu"}),_.jsx("select",{value:E.oyunModu,onChange:R=>w({...E,oyunModu:R.target.value}),children:Ee()}),_.jsx("label",{children:"Minimum Rank"}),_.jsx("select",{value:E.minRank,onChange:R=>w({...E,minRank:R.target.value}),children:W()}),_.jsx("label",{children:"Maksimum Rank"}),_.jsx("select",{value:E.maxRank,onChange:R=>w({...E,maxRank:R.target.value}),children:W()}),_.jsx("button",{type:"submit",children:"Ekle"})]}),_.jsxs("div",{className:"find",children:[_.jsxs("div",{className:"find-header",children:[_.jsx("div",{children:"Kullanıcı"}),_.jsx("div",{children:"Oyun modu"}),_.jsx("div",{children:"Lobi kodu"}),_.jsx("div",{children:"Min. - Maks. rank"}),_.jsx("div",{children:"Yaş aralığı"}),_.jsx("div",{children:"Aranan"})]}),(f.length>0?f:m).map((R,B)=>_.jsxs("div",{className:"table-row",children:[_.jsx("div",{className:"user-cell",children:_.jsx("strong",{children:R.username})}),_.jsx("div",{children:ve(R.oyunModu)}),_.jsx("div",{children:R.lobbyCode||"-"}),_.jsxs("div",{children:[_e(R.minRank)," - ",_e(R.maxRank)]}),_.jsx("div",{children:R.yasAraligi||"-"}),_.jsx("div",{children:R.aranan||"-"})]},`${R.username}-${B}`))]})]})}function uI(s){const[e,i]=N.useState(!1),[r,o]=N.useState([]),[u,f]=N.useState("");N.useEffect(()=>{const v=ru(lu,"mesajlar");HO(v,S=>{const E=S.val(),w=E?Object.values(E):[];o(w)})},[]);function d(){i(!e)}function m(){if(u.trim()==="")return;const v={kullanici:s.username||"Kullanıcı",resim:s.profileImage||"https://placehold.co/40x40",yazi:u,saat:new Date().toLocaleTimeString()};jO(ru(lu,"mesajlar"),v),f("")}function p(v){v.key==="Enter"&&m()}return _.jsxs("div",{className:"chat-container",children:[_.jsx("button",{className:"chat-toggle",onClick:d,children:"💬"}),e&&_.jsxs("div",{className:"chat-box",children:[_.jsxs("div",{className:"chat-header",children:[_.jsx("h3",{children:"Global Sohbet"}),_.jsx("button",{onClick:d,children:"Kapat"})]}),_.jsx("div",{className:"chat-messages",children:r.map(function(v,S){return _.jsxs("div",{className:"chat-message",children:[_.jsx("img",{src:v.resim||"https://placehold.co/40x40",alt:"Profil"}),_.jsxs("div",{children:[_.jsx("b",{children:v.kullanici||"Kullanıcı"}),_.jsx("p",{children:v.yazi}),_.jsx("span",{children:v.saat})]})]},S)})}),_.jsxs("div",{className:"chat-input",children:[_.jsx("input",{type:"text",placeholder:"Mesajınızı yazın...",value:u,onChange:function(v){f(v.target.value)},onKeyDown:p}),_.jsx("button",{onClick:m,children:"Gönder"})]})]})]})}const cI=({onUploadProfilePhoto:s})=>{const[e,i]=N.useState(null),r=o=>{const u=o.target.files[0];if(!u)return;const f=new FileReader;f.onloadend=()=>{const d=f.result;localStorage.setItem("profileImage",d),i(d),s&&s(d),window.location.reload()},f.readAsDataURL(u)};return _.jsxs("div",{children:[_.jsx("input",{type:"file",accept:"image/*",onChange:r}),e&&_.jsx("img",{src:e,alt:"Profil",style:{maxWidth:"150px",maxHeight:"150px",borderRadius:"50%",marginTop:"10px"}})]})};function fI(){var A,P,H,z,F,q,ne,W,Ee,ve,_e,R,B,Se,le,Qe,rn,Xe,k;const s=Ni.currentUser,e=JSON.parse(localStorage.getItem("user")),[i,r]=N.useState(localStorage.getItem("profileImage")||(s==null?void 0:s.photoURL)||"https://placehold.co/40x40"),[o,u]=N.useState({username:(s==null?void 0:s.displayName)||(e==null?void 0:e.username)||"",email:(s==null?void 0:s.email)||(e==null?void 0:e.email)||"",password:(e==null?void 0:e.password)||"",nickname:(e==null?void 0:e.nickname)||"",LoL:(e==null?void 0:e.LoL)||"",csgo:(e==null?void 0:e.csgo)||"",Valo:(e==null?void 0:e.Valo)||"",bio:(e==null?void 0:e.bio)||""}),[f,d]=N.useState(null),[m,p]=N.useState(null),[v,S]=N.useState(null);N.useEffect(()=>{e&&u({username:e.username||"",email:e.email||"",password:e.password||"",nickname:e.nickname||"",LoL:e.LoL||"",csgo:e.csgo||"",Valo:e.Valo||"",bio:e.bio||""})},[]),N.useEffect(()=>{o.csgo&&fetch(`https://public-api.tracker.gg/v2/csgo/standard/profile/steam/${o.csgo}`,{headers:{"TRN-Api-Key":"39bf7a10-ff44-4c29-bfae-728ca4832407"}}).then(Y=>Y.json()).then(Y=>{var Z,ge,T;return d((T=(ge=(Z=Y.data)==null?void 0:Z.segments)==null?void 0:ge[0])==null?void 0:T.stats)}).catch(()=>d(null))},[o.csgo]),N.useEffect(()=>{o.LoL&&fetch(`https://public-api.tracker.gg/v2/league-of-legends/standard/profile/by-summoner/${o.LoL}`,{headers:{"TRN-Api-Key":"39bf7a10-ff44-4c29-bfae-728ca4832407"}}).then(Y=>Y.json()).then(Y=>{var Z,ge,T;return p((T=(ge=(Z=Y.data)==null?void 0:Z.segments)==null?void 0:ge[0])==null?void 0:T.stats)}).catch(()=>p(null))},[o.LoL]),N.useEffect(()=>{o.Valo&&fetch(`https://public-api.tracker.gg/v2/valorant/standard/profile/riot/${o.Valo}`,{headers:{"TRN-Api-Key":"39bf7a10-ff44-4c29-bfae-728ca4832407"}}).then(Y=>Y.json()).then(Y=>{var Z,ge,T;return S((T=(ge=(Z=Y.data)==null?void 0:Z.segments)==null?void 0:ge[0])==null?void 0:T.stats)}).catch(()=>S(null))},[o.Valo]);const E=s&&s.email===o.email||e&&e.username===o.username,w=Ii();return _.jsxs("div",{children:[_.jsxs("div",{className:"account-header",children:[_.jsx("h1",{children:"Profil"}),_.jsx("img",{src:i,alt:"Profil Fotoğrafı",style:{width:220,height:220,borderRadius:"50%"}}),_.jsx("p",{children:o.username}),E&&_.jsx("button",{onClick:()=>w("/AccountChange"),children:"Profil Düzenle"})]}),o.csgo&&f&&_.jsxs("div",{className:"account-header",children:[_.jsx("h3",{children:"CS:GO"}),_.jsxs("ul",{children:[_.jsxs("li",{children:["Oynadığı Saat: ",((A=f.timePlayed)==null?void 0:A.displayValue)||"?"]}),_.jsxs("li",{children:["HS Oranı: ",((P=f.headshotPct)==null?void 0:P.displayValue)||"?"]}),_.jsxs("li",{children:["KDA: ",((H=f.kdRatio)==null?void 0:H.displayValue)||"?"]}),_.jsxs("li",{children:["Winrate: ",((z=f.wlPercentage)==null?void 0:z.displayValue)||"?"]}),_.jsxs("li",{children:["Rankı: ",((F=f.rankName)==null?void 0:F.displayValue)||((q=f.rank)==null?void 0:q.displayValue)||"?"]}),_.jsxs("li",{children:["Ulaştığı en yüksek rank: ",((ne=f.highestRank)==null?void 0:ne.displayValue)||((W=f.peakRank)==null?void 0:W.displayValue)||"?"]})]})]}),o.LoL&&m&&_.jsxs("div",{className:"account-header",children:[_.jsx("h3",{children:"League of Legends"}),_.jsxs("ul",{children:[_.jsxs("li",{children:["Winrate: %",((Ee=m.winrate)==null?void 0:Ee.displayValue)||"?"]}),_.jsxs("li",{children:["KDA: ",((ve=m.kda)==null?void 0:ve.displayValue)||"?"]}),_.jsxs("li",{children:["En Çok Oynadığı Şampiyon: ",((_e=m.mostPlayedChampion)==null?void 0:_e.displayValue)||"?"]}),_.jsxs("li",{children:["Rankı: ",((R=m.rank)==null?void 0:R.displayValue)||"?"]}),_.jsxs("li",{children:["Ulaştığı en yüksek rank: ",((B=m.peakRank)==null?void 0:B.displayValue)||"?"]})]})]}),o.Valo&&v&&_.jsxs("div",{children:[_.jsx("h3",{children:"Valorant"}),_.jsx("p",{children:o.Valo}),_.jsxs("ul",{children:[_.jsxs("li",{children:["Winrate: %",((Se=v.winrate)==null?void 0:Se.displayValue)||"?"]}),_.jsxs("li",{children:["KDA: ",((le=v.kda)==null?void 0:le.displayValue)||"?"]}),_.jsxs("li",{children:["HS Oranı: %",((Qe=v.headshotPct)==null?void 0:Qe.displayValue)||"?"]}),_.jsxs("li",{children:["En Çok Oynadığı Ajan: ",((rn=v.mostPlayedAgent)==null?void 0:rn.displayValue)||"?"]}),_.jsxs("li",{children:["Rankı: ",((Xe=v.rank)==null?void 0:Xe.displayValue)||"?"]}),_.jsxs("li",{children:["Ulaştığı en yüksek rank: ",((k=v.peakRank)==null?void 0:k.displayValue)||"?"]})]})]})]})}const Qr={_origin:"https://api.emailjs.com"},hI=(s,e="https://api.emailjs.com")=>{Qr._userID=s,Qr._origin=e},jE=(s,e,i)=>{if(!s)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class ty{constructor(e){this.status=e.status,this.text=e.responseText}}const PE=(s,e,i={})=>new Promise((r,o)=>{const u=new XMLHttpRequest;u.addEventListener("load",({target:f})=>{const d=new ty(f);d.status===200||d.text==="OK"?r(d):o(d)}),u.addEventListener("error",({target:f})=>{o(new ty(f))}),u.open("POST",Qr._origin+s,!0),Object.keys(i).forEach(f=>{u.setRequestHeader(f,i[f])}),u.send(e)}),dI=(s,e,i,r)=>{const o=r||Qr._userID;return jE(o,s,e),PE("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"})},mI=s=>{let e;if(typeof s=="string"?e=document.querySelector(s):e=s,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},pI=(s,e,i,r)=>{const o=r||Qr._userID,u=mI(i);jE(o,s,e);const f=new FormData(u);return f.append("lib_version","3.2.0"),f.append("service_id",s),f.append("template_id",e),f.append("user_id",o),PE("/api/v1.0/email/send-form",f)},gI={init:hI,send:dI,sendForm:pI};function _I(){const s=N.useRef();function e(i){i.preventDefault(),gI.sendForm("service_jqwcz8n","template_runtjhc",s.current,"F2l06hwVZV1aUuT4M").then(function(){alert("Mailiniz gönderildi.")},function(r){alert("Bir hata oluştu. Tekrar deneyin.")})}return _.jsx("div",{className:"about-form",children:_.jsxs("form",{ref:s,onSubmit:e,children:[_.jsx("label",{children:"İsim"}),_.jsx("input",{type:"text",name:"user_name",required:!0}),_.jsx("br",{}),_.jsx("label",{children:"Email"}),_.jsx("input",{type:"email",name:"user_email",required:!0}),_.jsx("br",{}),_.jsx("label",{children:"Mesajınız"}),_.jsx("textarea",{name:"message",required:!0}),_.jsx("br",{}),_.jsx("button",{type:"submit",children:"Gönder"})]})})}function vI(){return _.jsxs("div",{className:"about-page",children:[_.jsx("h1",{children:"Hakkımızda"}),_.jsx("p",{className:"about-us",children:"Biz iki geliştiriciyiz; üniversitede tanıştık, birlikte projeler yaparak başladık. Mezun olduktan sonra farklı yerlerde deneyim kazandık ama üretme isteğimiz hep devam etti. Bu siteyi, hem bildiklerimizi paylaşmak hem de kendi küçük işlerimizi sergilemek için kurduk. Karmaşık hayallerimiz yok, sadece sade, işlevsel ve faydalı bir şeyler ortaya koymak istedik. Her satır kodda öğrenmeye, gelişmeye ve paylaşmaya devam ediyoruz."}),_.jsxs("div",{className:"founders",children:[_.jsx("h3",{children:"Kurucular"}),_.jsxs("div",{className:"founder",children:[_.jsx("img",{src:"google.svg",alt:"Kurucu"}),_.jsx("h4",{children:"Ozan"})]}),_.jsxs("div",{className:"founder",children:[_.jsx("img",{src:"google.svg",alt:"Kurucu"}),_.jsx("h4",{children:"Atilla"})]})]}),_.jsx(_I,{})]})}function yI(){return _.jsxs("footer",{className:"footer",children:[_.jsxs("div",{className:"footer-content",children:[_.jsx("div",{className:"footer-logo",children:_.jsx("h1",{children:"PREMIX"})}),_.jsxs("div",{className:"footer-columns",children:[_.jsxs("div",{className:"footer-column",children:[_.jsx("h3",{children:"SAYFALAR"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("button",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"Başa dön"})}),_.jsx("li",{children:_.jsx(Ft,{to:"/",children:"Anasayfa"})}),_.jsx("li",{children:_.jsx(Ft,{to:"/about",children:"Hakkımızda"})}),_.jsx("li",{children:_.jsx(Ft,{to:"/account",children:"Profil"})}),_.jsx("li",{children:_.jsx(Ft,{to:"/login",children:"Giriş"})})]})]}),_.jsxs("div",{className:"footer-column",children:[_.jsx("h3",{children:"BİZE ULAŞ"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx("a",{href:"https://www.instagram.com/premixoffical/",target:"_blank",rel:"noopener noreferrer",children:"Instagram"})}),_.jsx("li",{children:_.jsx("a",{href:"https://x.com",target:"_blank",rel:"noopener noreferrer",children:"Twitter"})}),_.jsx("li",{children:_.jsx("a",{href:"https://discord",target:"_blank",rel:"noopener noreferrer",children:"Discord"})})]})]})]})]}),_.jsx("hr",{}),_.jsx("div",{className:"footer-bottom",children:_.jsx("p",{children:"© 2025 Premix. Bütün haklar saklıdır."})})]})}function EI(){const s=Ii(),e=JSON.parse(localStorage.getItem("user")),i=Ni.currentUser,[r,o]=N.useState((i==null?void 0:i.photoURL)||localStorage.getItem("profileImage")||"https://placehold.co/40x40"),[u,f]=N.useState({username:(i==null?void 0:i.displayName)||"",email:(i==null?void 0:i.email)||"",password:"",surname:"",nickname:"",LoL:"",csgo:"",Valo:"",social2:"",social3:"",social4:"",social5:"",bio:""});N.useEffect(()=>{e&&f({username:e.username||"",email:e.email||"",password:e.password||"",surname:e.surname||"",nickname:e.nickname||"",LoL:e.LoL||"",csgo:e.csgo||"",Valo:e.Valo||"",social2:e.social2||"",social3:e.social3||"",social4:e.social4||"",social5:e.social5||"",bio:e.bio||""})},[]);const d=v=>{const{id:S,value:E}=v.target;f(w=>({...w,[S]:E}))},m=async()=>{localStorage.setItem("user",JSON.stringify(u)),localStorage.setItem("profileImage",r);let v=r;r&&r.length>500&&(v="https://placehold.co/100x100"),i&&await t0(i,{displayName:u.username,photoURL:v}),alert("Değişiklikler kaydedildi."),s("/account"),window.location.reload()},p=()=>{localStorage.removeItem("user"),localStorage.removeItem("profileImage"),alert("Kullanıcı bilgileri silinmiştir. Lütfen tekrar giriniz."),f({username:"",email:"",password:"",nickname:"",LoL:"",csgo:"",Valo:"",bio:""}),o("https://placehold.co/40x40")};return _.jsxs("div",{children:[_.jsxs("div",{className:"account-header",children:[_.jsx("h1",{children:"Profil"}),_.jsxs("p",{children:["Merhaba, ",u.username]})]}),_.jsxs("div",{className:"account-page",children:[_.jsx("div",{className:"account-left",children:_.jsxs("div",{className:"account-photo",children:[_.jsx("img",{src:r,alt:"Profil Fotoğrafı",className:"photo-style"}),_.jsx(cI,{onUploadProfilePhoto:v=>{o(v)},className:"photo"})]})}),_.jsxs("div",{className:"account-mid",children:[_.jsx("label",{children:"İsim:"}),_.jsx("input",{type:"text",placeholder:"İsim Giriniz.",id:"username",value:u.username,onChange:d}),_.jsx("label",{children:"Email:"}),_.jsx("input",{type:"email",placeholder:"Mail Giriniz.",id:"email",value:u.email,onChange:d}),_.jsx("label",{children:"Şifre:"}),_.jsx("input",{type:"password",placeholder:"Şifre Giriniz.",id:"password",value:u.password,onChange:d}),_.jsx("label",{children:"Takma Ad:"}),_.jsx("input",{type:"text",placeholder:"Takma Adınızı Giriniz.",id:"nickname",value:u.nickname,onChange:d}),_.jsx("label",{children:"Oyun Hesaplarınız"}),_.jsx("input",{type:"text",placeholder:"League Of Legends hesabınızın ismini ve etiketini yazınız.",id:"LoL",value:u.LoL,onChange:d}),_.jsx("br",{}),_.jsx("input",{type:"text",placeholder:"Valorant hesabınızın ismini ve etiketini yazınız.",id:"Valo",value:u.Valo,onChange:d}),_.jsx("br",{}),_.jsx("input",{type:"text",placeholder:"Counter-Strike için steam profilinizi yapıştırın.",id:"csgo",value:u.csgo,onChange:d}),_.jsx("br",{}),_.jsx("label",{children:"Hakkımda:"}),_.jsx("textarea",{id:"bio",placeholder:"Hakkımda...",value:u.bio,onChange:d}),_.jsxs("div",{className:"buttons",children:[_.jsx("button",{className:"save-btn",onClick:m,children:"Kaydet"}),_.jsx("button",{className:"delete-btn",onClick:p,children:"Sil"})]})]})]})]})}function SI(){const[s,e]=N.useState(null),[i,r]=N.useState(null),o=Ii();N.useEffect(()=>{const f=ww(Ni,d=>{r(!!d),e(d),d||localStorage.clear()});return()=>f()},[]);const u=()=>{localStorage.clear(),r(!1),alert("Çıkış yapıldı."),o("/login")};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"App",children:[_.jsx($O,{isAuthenticated:i,onLogout:u}),_.jsx("main",{children:_.jsxs(rC,{children:[_.jsx(dn,{path:"/",element:_.jsx(sI,{isAuthenticated:i})}),_.jsx(dn,{path:"/login",element:_.jsx(JO,{setIsAuthenticated:r})}),_.jsx(dn,{path:"/register",element:_.jsx(eI,{setIsAuthenticated:r})}),_.jsx(dn,{path:"/valorant",element:i===null?null:i?_.jsx(rI,{}):_.jsx(Qf,{to:"/login"})}),_.jsx(dn,{path:"/csgo",element:i===null?null:i?_.jsx(oI,{}):_.jsx(Qf,{to:"/login"})}),_.jsx(dn,{path:"/lol",element:i===null?null:i?_.jsx(lI,{}):_.jsx(Qf,{to:"/login"})}),_.jsx(dn,{path:"/account",element:_.jsx(fI,{})}),_.jsx(dn,{path:"/about",element:_.jsx(vI,{})}),_.jsx(dn,{path:"/accountchange",element:_.jsx(EI,{})})]})}),_.jsx(yI,{})]}),i&&_.jsx(uI,{username:LE(),profileImage:localStorage.getItem("profileImage")||s&&s.photoURL||"https://placehold.co/40x40"})]})}gT.createRoot(document.getElementById("root")).render(_.jsx(N.StrictMode,{children:_.jsx(OC,{children:_.jsx(SI,{})})}));
